<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¸ƒå…°ç‰¹ | ä¸å¿˜åˆå¿ƒ</title>
  
  <subtitle>äººå¤„åœ¨ä¸€ç§é»˜é»˜å¥‹æ–—çš„çŠ¶æ€ï¼Œç²¾ç¥å°±ä¼šä»çç¢ç”Ÿæ´»ä¸­å¾—åˆ°å‡å</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="cpeixin.cn/"/>
  <updated>2020-04-04T09:07:47.559Z</updated>
  <id>cpeixin.cn/</id>
  
  <author>
    <name>Brent</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Repositories</title>
    <link href="cpeixin.cn/2020/04/04/repository/"/>
    <id>cpeixin.cn/2020/04/04/repository/</id>
    <published>2020-04-04T08:33:44.365Z</published>
    <updated>2020-04-04T09:07:47.559Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;!-- rebuild by neat --&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="cpeixin.cn/2020/04/03/hello-world/"/>
    <id>cpeixin.cn/2020/04/03/hello-world/</id>
    <published>2020-04-03T14:53:03.460Z</published>
    <updated>2020-04-03T14:53:03.460Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external nofollow noopener noreferrer">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external nofollow noopener noreferrer">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external nofollow noopener noreferrer">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external nofollow noopener noreferrer">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external nofollow noopener noreferrer">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external nofollow noopener noreferrer">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="external nofollow noopener noreferrer">Deployment</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external nofo
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>python Flask &amp; Ajax æ•°æ®ä¼ è¾“</title>
    <link href="cpeixin.cn/2020/03/11/python-Flask-Ajax-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/"/>
    <id>cpeixin.cn/2020/03/11/python-Flask-Ajax-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/</id>
    <published>2020-03-11T14:43:01.000Z</published>
    <updated>2020-03-11T15:07:56.671Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>å¸®æœ‹å‹å†™ä¸ªå°å·¥å…·ï¼Œæ²¡æƒ³åˆ°è¿˜è¦æå®šJSï¼Œå¤§å­¦æ¯•ä¸šåå°±æ²¡æœ‰å†™è¿‡JSï¼ŒçœŸçš„æ˜¯éš¾ä¸ºæˆ‘äº†ğŸ˜‚</p><p>å¿™æ´»ä¸‰ä¸ªå°æ—¶ï¼Œç»ˆäºæŠŠå‰ç«¯å’Œåç«¯æ‰“é€šäº†ï½ï½</p><p>å‰ç«¯demoï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‘é€æ•°æ®ï¼Œè¡¨å•æ–¹å¼ ï¼ˆæ³¨æ„ï¼šåç«¯æ¥æ”¶æ•°æ®å¯¹åº”ä»£ç ä¸åŒï¼‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"&#123;&#123; url_for('send_message') &#125;&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span> =<span class="string">"domain"</span> <span class="attr">rows</span>=<span class="string">"30"</span> <span class="attr">cols</span>=<span class="string">"100"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥éœ€è¦æŸ¥è¯¢çš„åŸŸå,å¦‚cq5999.com"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input id="submit" type="submit" value="å‘é€"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">id</span>=<span class="string">"btn-bq"</span> <span class="attr">data-toggle</span>=<span class="string">"modal"</span> <span class="attr">data-target</span>=<span class="string">"#myModal"</span>&gt;</span>æŸ¥è¯¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‘é€æ•°æ®ï¼Œinputæ–¹å¼ ï¼ˆæ³¨æ„ï¼šåç«¯æ¥æ”¶æ•°æ®å¯¹åº”ä»£ç ä¸åŒï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"send_content"</span>&gt;</span>å‘åå°å‘é€æ¶ˆæ¯ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"send_content"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"send_content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"send"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"å‘é€"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"recv_content"</span>&gt;</span>ä»åå°æ¥æ”¶æ¶ˆæ¯ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"recv_content"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"recv_content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- inputæ–¹å¼ å¯¹åº”çš„jsä»£ç ï¼Œå¦‚ç”¨è¡¨å•æ–¹å¼è¯·æ³¨é‡Šæ‰ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‘é€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#send"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> message = $(<span class="string">"#send_content"</span>).val()</span></span><br><span class="line">        alert(message)</span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">            url:<span class="string">"/send_message"</span>,</span></span><br><span class="line"><span class="actionscript">            type:<span class="string">"POST"</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line">                message:message</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            dataType: <span class="string">'json'</span>,</span></span><br><span class="line"><span class="actionscript">            success:<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¥æ”¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#send"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $.getJSON(<span class="string">"/change_to_json"</span>,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#recv_content"</span>).val(data.message) <span class="comment">//å°†åç«¯æ•°æ®æ˜¾ç¤ºåœ¨å‰ç«¯</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"ä¼ åˆ°å‰ç«¯çš„æ•°æ®çš„ç±»å‹ï¼š"</span> + <span class="keyword">typeof</span> (data.message))</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#send_content"</span>).val(<span class="string">""</span>)<span class="comment">//å‘é€çš„è¾“å…¥æ¡†æ¸…ç©º</span></span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åç«¯demo:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request, jsonify</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">"index_v6.html"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/send_message', methods=['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_message</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> message_get</span><br><span class="line">    message_get = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    message_get = request.form[<span class="string">"domain"</span>].split(<span class="string">'\n'</span>)</span><br><span class="line">    <span class="comment"># message_get = request.form['message'] #inputæäº¤</span></span><br><span class="line">    print(<span class="string">"æ”¶åˆ°å‰ç«¯å‘è¿‡æ¥çš„ä¿¡æ¯ï¼š%s"</span> % message_get)</span><br><span class="line">    print(<span class="string">"æ”¶åˆ°æ•°æ®çš„ç±»å‹ä¸ºï¼š"</span> + str(type(message_get)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"æ”¶åˆ°æ¶ˆæ¯"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/change_to_json', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_to_json</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">global</span> message_get</span><br><span class="line">    message_json = &#123;</span><br><span class="line">        <span class="string">"message"</span>: message_get</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(message_json)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">80</span>,debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;å¸®æœ‹å‹å†™ä¸ªå°å·¥å…·ï¼Œæ²¡æƒ³åˆ°è¿˜è¦æå®šJSï¼Œå¤§å­¦æ¯•ä¸šåå°±æ²¡æœ‰å†™è¿‡JSï¼ŒçœŸçš„æ˜¯éš¾ä¸ºæˆ‘äº†ğŸ˜‚&lt;/p&gt;&lt;p&gt;å¿™æ´»ä¸‰ä¸ªå°æ—¶ï¼Œç»ˆäºæŠŠå‰ç«¯å’Œåç«¯æ‰“é€šäº†ï½ï½&lt;/p&gt;
      
    
    </summary>
    
    
    
      <category term="python" scheme="cpeixin.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python Flaskæ¥å£è®¾è®¡-ç¤ºä¾‹</title>
    <link href="cpeixin.cn/2020/03/10/Python-Flask%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1-%E7%A4%BA%E4%BE%8B/"/>
    <id>cpeixin.cn/2020/03/10/Python-Flask%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1-%E7%A4%BA%E4%BE%8B/</id>
    <published>2020-03-10T15:08:35.000Z</published>
    <updated>2020-03-11T15:10:21.792Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><a name="LHF1q"></a></p><h3 id="Get-è¯·æ±‚"><a href="#Get-è¯·æ±‚" class="headerlink" title="Get è¯·æ±‚"></a>Get è¯·æ±‚</h3><p><strong><strong>å¼€å‘ä¸€ä¸ªåªæ¥å—getæ–¹æ³•çš„æ¥å£ï¼Œæ¥å—å‚æ•°ä¸ºnameå’Œageï¼Œå¹¶è¿”å›ç›¸åº”å†…å®¹ã€‚</strong></strong><br><strong><br>**</strong>æ–¹æ³• 1:****</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/test_1.0", methods=["GET"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># é»˜è®¤è¿”å›å†…å®¹</span></span><br><span class="line">  return_dict = &#123;<span class="string">'return_code'</span>: <span class="string">'200'</span>, <span class="string">'return_info'</span>: <span class="string">'å¤„ç†æˆåŠŸ'</span>, <span class="string">'result'</span>: <span class="literal">False</span>&#125;</span><br><span class="line">  <span class="comment"># åˆ¤æ–­å…¥å‚æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> request.args <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    return_dict[<span class="string">'return_code'</span>] = <span class="string">'5004'</span></span><br><span class="line">    return_dict[<span class="string">'return_info'</span>] = <span class="string">'è¯·æ±‚å‚æ•°ä¸ºç©º'</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># è·å–ä¼ å…¥çš„paramså‚æ•°</span></span><br><span class="line">  get_data = request.args.to_dict()</span><br><span class="line">  name = get_data.get(<span class="string">'name'</span>)</span><br><span class="line">  age = get_data.get(<span class="string">'age'</span>)</span><br><span class="line">  <span class="comment"># å¯¹å‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">  return_dict[<span class="string">'result'</span>] = tt(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠŸèƒ½å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tt</span><span class="params">(name, age)</span>:</span></span><br><span class="line">  result_str = <span class="string">"%sä»Šå¹´%så²"</span> % (name, age)</span><br><span class="line">  <span class="keyword">return</span> result_str</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">80</span>)</span><br></pre></td></tr></table></figure><p>æ­¤ç§æ–¹å¼å¯¹åº”çš„requestè¯·æ±‚æ–¹å¼ï¼š</p><ol><li>æ‹¼æ¥è¯·æ±‚é“¾æ¥, ç›´æ¥è¯·æ±‚ï¼š<a href="http://0.0.0.0/test_1.0?name=ccc&age=18" target="_blank" rel="external nofollow noopener noreferrer">http://0.0.0.0/test_1.0?name=ccc&amp;age=18</a></li><li>request è¯·æ±‚ä¸­å¸¦æœ‰å‚æ•°ï¼Œå¦‚ä¸‹å›¾</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583826674613-bc99538a-988e-4386-b8e6-9eb9fce1862f.png#align=left&display=inline&height=610&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%883.47.43.png&originHeight=610&originWidth=1424&size=98593&status=done&style=none&width=1424" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ3.47.43.png"></p><p>æ–¹æ³• 2:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/api/banWordSingle/&lt;string:word&gt;', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">banWordSingleStart</span><span class="params">(word)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> getWordStatus(word)</span><br></pre></td></tr></table></figure><p>æ­¤æ–¹æ³• ä¸ æ–¹æ³• 1 ä¸­çš„æ‹¼æ¥é“¾æ¥ç›¸ä¼¼ï¼Œä½†æ˜¯ä¸ç”¨è¾“å…¥å…³é”®å­—</p><p>è¯·æ±‚é“¾æ¥ï¼š<a href="http://0.0.0.0/test_1.0?name=ccc&age=18" target="_blank" rel="external nofollow noopener noreferrer">http://0.0.0.0</a>/api/banWordSingle/è¾“å…¥è¯</p><p><a name="vJdOc"></a></p><h3 id="Post-è¯·æ±‚"><a href="#Post-è¯·æ±‚" class="headerlink" title="Post è¯·æ±‚"></a>Post è¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/test_1.0", methods=["POST"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># é»˜è®¤è¿”å›å†…å®¹</span></span><br><span class="line">  return_dict = &#123;<span class="string">'return_code'</span>: <span class="string">'200'</span>, <span class="string">'return_info'</span>: <span class="string">'å¤„ç†æˆåŠŸ'</span>, <span class="string">'result'</span>: <span class="literal">False</span>&#125;</span><br><span class="line">  <span class="comment"># åˆ¤æ–­å…¥å‚æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> request.args <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    return_dict[<span class="string">'return_code'</span>] = <span class="string">'5004'</span></span><br><span class="line">    return_dict[<span class="string">'return_info'</span>] = <span class="string">'è¯·æ±‚å‚æ•°ä¸ºç©º'</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># è·å–ä¼ å…¥çš„paramså‚æ•°</span></span><br><span class="line">  get_data = request.args.to_dict()</span><br><span class="line">  name = get_data.get(<span class="string">'name'</span>)</span><br><span class="line">  age = get_data.get(<span class="string">'age'</span>)</span><br><span class="line">  <span class="comment"># å¯¹å‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">  return_dict[<span class="string">'result'</span>] = tt(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠŸèƒ½å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tt</span><span class="params">(name, age)</span>:</span></span><br><span class="line">  result_str = <span class="string">"%sä»Šå¹´%så²"</span> % (name, age)</span><br><span class="line">  <span class="keyword">return</span> result_str</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><p>è¯·æ±‚æ–¹å¼ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583831085097-3a858ae4-259d-408d-a162-6a4ed8c5e291.png#align=left&display=inline&height=692&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%885.00.28.png&originHeight=692&originWidth=1438&size=99272&status=done&style=none&width=1438" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ5.00.28.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;LHF1q&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3 id=&quot;Get-è¯·æ±‚&quot;&gt;&lt;a href=&quot;#Get-è¯·æ±‚&quot; class=&quot;headerl
      
    
    </summary>
    
    
    
      <category term="python" scheme="cpeixin.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>IDEA install TabNine</title>
    <link href="cpeixin.cn/2020/01/22/IDEA-install-TabNine/"/>
    <id>cpeixin.cn/2020/01/22/IDEA-install-TabNine/</id>
    <published>2020-01-22T02:26:15.000Z</published>
    <updated>2020-03-28T13:31:45.816Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>TabNineæ˜¯æˆ‘ç›®å‰é‡åˆ°è¿‡æœ€å¥½çš„æ™ºèƒ½è¡¥å…¨å·¥å…·</p><p>TabNineåŸºäºGPT-2çš„æ’ä»¶</p><p>å®‰è£…<br>IDEAç¼–è¯‘å™¨ï¼Œæ‰¾åˆ°plugins</p><p>Windows pycharmï¼šFile&gt;settings&gt;plugins;<br>Mac pycharmï¼šperformence&gt;plugins&gt;marketplace or plugins&gt;Install JetBrains Plugins</p><p>æŸ¥æ‰¾ TabNine, ç‚¹å‡» install, éšå restart</p><p>é‡å¯åï¼šHelp&gt;Edit Custom Propertiesâ€¦&gt;Create;</p><p>åœ¨è·³å‡ºæ¥çš„idea.propertiesä¸­è¾“å…¥ï¼ˆæ³¨ï¼šè‹±æ–‡å­—ç¬¦ï¼‰ TabNine::config</p><p>éšå³ä¼šè‡ªåŠ¨å¼¹å‡ºTabNineæ¿€æ´»é¡µé¢ï¼›</p><p>æ¿€æ´»<br>ç‚¹å‡»Activation Keyä¸‹é¢çš„hereï¼›</p><p>è¾“å…¥ä½ çš„é‚®ç®±å·ï¼›</p><p>å¤åˆ¶ç²˜è´´é‚®ä»¶é‡Œé¢çš„API Keyåˆ°Activation Keyä¸‹é¢ï¼›ï¼ˆå¾—åˆ°çš„ key å¯ä»¥åœ¨å„ç§ç¼–è¯‘å™¨ä¸­å…±ç”¨ï¼‰</p><p>ç­‰å¾…è‡ªåŠ¨å®‰è£…ï¼Œè§‚å¯Ÿé¡µé¢ï¼ˆæœ€ä¸‹é¢æœ‰logå¯ä»¥çœ‹å½“å‰è¿›åº¦ï¼‰ï¼›</p><p>æ¿€æ´»å®ŒæˆåTabNine Cloudä¸ºEnabledçŠ¶æ€ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å®‰è£…è¿›åº¦å®Œæˆååˆ·æ–°é¡µé¢æ‰‹åŠ¨é€‰æ‹©Enabledï¼›</p><p>ç¡®è®¤æ¿€æ´»å®Œæˆï¼Œé‡å¯pycharmå³å¯ï¼›</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;TabNineæ˜¯æˆ‘ç›®å‰é‡åˆ°è¿‡æœ€å¥½çš„æ™ºèƒ½è¡¥å…¨å·¥å…·&lt;/p&gt;&lt;p&gt;TabNineåŸºäºGPT-2çš„æ’ä»¶&lt;/p&gt;&lt;p&gt;å®‰è£…&lt;br&gt;IDEAç¼–è¯‘å™¨ï¼Œæ‰¾åˆ°pl
      
    
    </summary>
    
    
    
      <category term="TabNine" scheme="cpeixin.cn/tags/TabNine/"/>
    
  </entry>
  
  <entry>
    <title>æ¶æ„æ€æƒ³</title>
    <link href="cpeixin.cn/2019/12/20/%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3/"/>
    <id>cpeixin.cn/2019/12/20/%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3/</id>
    <published>2019-12-20T02:26:15.000Z</published>
    <updated>2020-03-28T14:23:45.848Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><a name="-2"></a></p><h2><a href="#" class="headerlink"></a></h2><p>å…³äºä»€ä¹ˆæ˜¯æ¶æ„ï¼Œä¸€ç§æ¯”è¾ƒé€šä¿—çš„è¯´æ³•æ˜¯ â€œæœ€é«˜å±‚æ¬¡çš„è§„åˆ’ï¼Œéš¾ä»¥æ”¹å˜çš„å†³å®šâ€ï¼Œè¿™äº›è§„åˆ’å’Œå†³å®šå¥ å®šäº†äº‹ç‰©æœªæ¥å‘å±•çš„æ–¹å‘å’Œæœ€ç»ˆçš„è“å›¾ã€‚<br><br><br>ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œäººç”Ÿè§„åˆ’ä¹Ÿæ˜¯ä¸€ç§æ¶æ„ã€‚é€‰ä»€ä¹ˆå­¦æ ¡ã€å­¦ä»€ä¹ˆä¸“ä¸šã€è¿›ä»€ä¹ˆå…¬å¸ã€æ‰¾ä»€ä¹ˆå¯¹è±¡ï¼Œè¿‡ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ï¼Œéƒ½æ˜¯è‡ªå·±äººç”Ÿçš„æ¶æ„ã€‚<br><br><br>å…·ä½“åˆ°è½¯ä»¶æ¶æ„ï¼Œç»´åŸºç™¾ç§‘æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šâ€œæœ‰å…³è½¯ä»¶æ•´ä½“ç»“æ„ä¸ç»„ä»¶çš„æŠ½è±¡æè¿°ï¼Œç”¨äºæŒ‡å¯¼å¤§å‹è½¯ä»¶ç³»ç»Ÿå„ä¸ªæ–¹é¢çš„è®¾è®¡â€ã€‚ç³»ç»Ÿçš„å„ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†åŠå…¶å…³ç³»æ„æˆäº†ç³»ç»Ÿçš„æ¶æ„ï¼Œè¿™äº›ç»„æˆéƒ¨åˆ†å¯ä»¥æ˜¯å…·ä½“çš„åŠŸèƒ½æ¨¡å—ï¼Œä¹Ÿå¯ä»¥æ˜¯éåŠŸèƒ½çš„è®¾è®¡ä¸å†³ç­–ï¼Œä»–ä»¬ç›¸äº’å…³ç³»ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…±åŒæ„æˆäº†è½¯ä»¶ç³»ç»Ÿçš„æ¶æ„ã€‚<br><br><br>æ¶æ„å…¶å®å°±æ˜¯æŠŠå¤æ‚çš„é—®é¢˜æŠ½è±¡åŒ–ã€ç®€å•åŒ–ï¼Œå¯èƒ½ä½ ä¼šè§‰å¾—â€œè¯´èµ·æ¥å®¹æ˜“ä½†åšèµ·æ¥éš¾â€ï¼Œå¦‚ä½•èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚å¯ä»¥å¤šè§‚å¯Ÿï¼Œæ ¹æ®ç‰©è´¨å†³å®šæ„è¯†ï¼Œå€ŸåŠ©ç”Ÿæ´»çœŸå®åœºæ™¯ï¼ˆç”¨æˆ·æ•…äº‹ï¼Œè¦å¾ˆå¤šæ•…äº‹ï¼‰æ¥è¿˜åŸè¿™ä¸€ç³»åˆ—é—®é¢˜ï¼ŒæŠ“ä½å¹¶æå–æ ¸å¿ƒç‰¹å¾ã€‚<br><a name="-3"></a></p><h4 id="æ¶æ„æ€æƒ³"><a href="#æ¶æ„æ€æƒ³" class="headerlink" title="æ¶æ„æ€æƒ³"></a>æ¶æ„æ€æƒ³</h4><p>CPUè¿ç®—é€Ÿåº¦&gt;&gt;&gt;&gt;&gt;å†…å­˜çš„è¯»å†™é€Ÿåº¦&gt;&gt;&gt;&gt;ç£ç›˜è¯»å†™é€Ÿåº¦</p><ul><li><p>æ»¡è¶³ä¸šåŠ¡å‘å±•éœ€æ±‚æ˜¯æœ€é«˜å‡†åˆ™</p></li><li><p>ä¸šåŠ¡å»ºæ¨¡ï¼ŒæŠ½è±¡å’Œæšä¸¾æ˜¯ä¸¤ç§æ–¹å¼ï¼Œéœ€è¦å¹³è¡¡ï¼Œä¸èƒ½èµ°æç«¯</p></li><li><p>æ¨¡å‹è¦èƒ½æ›´çœŸå®çš„ååº”äº‹ç‰©çš„æœ¬è´¨ï¼Œä¸æ˜¯åè¯æ¦‚å¿µçš„å †ç Œï¼Œä¸èƒ½è¿‡åº¦è®¾è®¡</p></li><li><p>åŸºç¡€æ¶æ„æœ€å…³é”®çš„æ˜¯åˆ†ç¦»ä¸åŒä¸šåŠ¡é¢†åŸŸã€ä¸åŒæŠ€æœ¯é¢†åŸŸï¼Œè®©æ•´ä¸ªç³»ç»Ÿå…·æœ‰æŒç»­ä¼˜åŒ–çš„èƒ½åŠ›ã€‚</p></li><li><p>åˆ†ç¦»åŸºç¡€æœåŠ¡ã€ä¸šåŠ¡è§„åˆ™ã€ä¸šåŠ¡æµç¨‹ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å¤–åŒ–ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æµç¨‹</p></li><li><p>åˆ†ç¦»ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶ï¼Œé«˜ç±»èšï¼Œä½è€¦åˆ - ä¸šåŠ¡ä¿¡æ¯çš„æ‰§è¡Œå¯ä»¥åˆ†æ•£ï¼Œä½†ä¸šåŠ¡ä¿¡æ¯çš„ç®¡ç†è¦å°½é‡é›†ä¸­</p></li><li><p>ä¸è¦è®©è½¯ä»¶çš„é€»è¾‘æ¶æ„ä¸æœ€åç‰©ç†éƒ¨ç½²ç»‘æ­» - é€‰æ‹©åˆé€‚çš„æŠ€æœ¯è€Œä¸æ˜¯é«˜æ·±çš„æŠ€æœ¯ï¼Œéšç€ä¸šåŠ¡çš„å‘å±•è°ƒæ•´ä½¿ç”¨çš„æŠ€æœ¯</p></li><li><p>å¥½çš„ç³»ç»Ÿæ¶æ„éœ€è¦åˆé€‚çš„ç»„ç»‡æ¶æ„å»ä¿éšœ - å›¢é˜Ÿæˆå‘˜æ€æƒ³çš„è½¬å˜ï¼Œæ¼«é•¿è€Œè‰°éš¾</p></li><li><p>ä¸šåŠ¡æ¶æ„ã€ç³»ç»Ÿæ¶æ„ã€æ•°æ®æ¨¡å‹<br><a name="-4"></a></p><h4 id="é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ"><a href="#é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ" class="headerlink" title="é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ"></a>é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ</h4></li><li><p>ä¸šåŠ¡åˆ†æï¼šè¾“å‡ºä¸šåŠ¡æ¶æ„å›¾ï¼Œè¿™ä¸ªç³»ç»Ÿé‡Œæœ‰å¤šå°‘ä¸ªä¸šåŠ¡æ¨¡å—ï¼Œä»å‰å°ç”¨æˆ·åˆ°åº•å±‚ä¸€å…±æœ‰å¤šå°‘å±‚ã€‚</p></li><li><p>ç³»ç»Ÿåˆ’åˆ†ï¼šæ ¹æ®ä¸šåŠ¡æ¶æ„å›¾è¾“å‡ºç³»ç»Ÿæ¶æ„å›¾ï¼Œéœ€è¦æ€è€ƒçš„æ˜¯è¿™å—ä¸šåŠ¡åˆ’åˆ†æˆå¤šå°‘ä¸ªç³»ç»Ÿï¼Œå¯èƒ½ä¸€ä¸ªç³»ç»Ÿèƒ½æ”¯æŒå¤šä¸ªä¸šåŠ¡ã€‚åŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ä¸ªç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªç³»ç»Ÿï¼ŸåˆåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸¤ä¸ªç³»ç»Ÿåˆå¹¶æˆä¸€ä¸ªç³»ç»Ÿï¼Ÿ</p></li><li><p>ç³»ç»Ÿåˆ†å±‚ï¼šç³»ç»Ÿæ˜¯å‡ å±‚æ¶æ„ï¼ŒåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ä¸ªç³»ç»Ÿè¿›è¡Œåˆ†å±‚ï¼Œåˆ†æˆå¤šå°‘å±‚ï¼Ÿ</p></li><li><p>æ¨¡å—åŒ–ï¼šç³»ç»Ÿé‡Œæœ‰å¤šå°‘ä¸ªæ¨¡å—ï¼Œå“ªäº›éœ€è¦æ¨¡å—åŒ–ï¼ŸåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ç±»ä»£ç å˜æˆä¸€ä¸ªæ¨¡å—ã€‚<br><a name="-5"></a></p><h4 id="å¦‚ä½•æ¨¡å—åŒ–"><a href="#å¦‚ä½•æ¨¡å—åŒ–" class="headerlink" title="å¦‚ä½•æ¨¡å—åŒ–"></a>å¦‚ä½•æ¨¡å—åŒ–</h4></li><li><p>åŸºäºæ°´å¹³åˆ‡åˆ†ã€‚æŠŠä¸€ä¸ªç³»ç»ŸæŒ‰ç…§ä¸šåŠ¡ç±»å‹è¿›è¡Œæ°´å¹³åˆ‡åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¯”å¦‚æƒé™ç®¡ç†æ¨¡å—ï¼Œç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œå„ç§ä¸šåŠ¡æ¨¡å—ç­‰ã€‚</p></li><li><p>åŸºäºå‚ç›´åˆ‡åˆ†ã€‚æŠŠä¸€ä¸ªç³»ç»ŸæŒ‰ç…§ç³»ç»Ÿå±‚æ¬¡è¿›è¡Œå‚ç›´åˆ‡åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œå¦‚DAOå±‚ï¼ŒSERVICEå±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚ã€‚</p></li><li><p>åŸºäºå•ä¸€èŒè´£ã€‚å°†ä»£ç æŒ‰ç…§èŒè´£æŠ½è±¡å‡ºæ¥å½¢æˆä¸€ä¸ªä¸€ä¸ªçš„æ¨¡å—ã€‚å°†ç³»ç»Ÿä¸­åŒä¸€èŒè´£çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªæ¨¡å—é‡Œã€‚æ¯”å¦‚æˆ‘ä»¬å¼€å‘çš„ç³»ç»Ÿè¦å¯¹æ¥å¤šä¸ªæ¸ é“çš„æ•°æ®ï¼Œæ¯ä¸ªæ¸ é“çš„å¯¹æ¥æ–¹å¼å’Œæ•°æ®è§£ææ–¹å¼ä¸ä¸€æ ·ï¼Œä¸ºé¿å…ä¸åŒæ¸ é“ä»£ç çš„ç›¸äº’å½±å“ï¼Œæˆ‘ä»¬æŠŠå„ä¸ªæ¸ é“çš„ä»£ç æ”¾åœ¨å„è‡ªçš„æ¨¡å—é‡Œã€‚</p></li><li><p>åŸºäºæ˜“å˜å’Œä¸æ˜“å˜ã€‚å°†ä¸æ˜“å˜çš„ä»£ç æŠ½è±¡åˆ°ä¸€ä¸ªæ¨¡å—é‡Œï¼Œæ¯”å¦‚ç³»ç»Ÿçš„æ¯”è¾ƒé€šç”¨çš„åŠŸèƒ½ã€‚å°†æ˜“å˜çš„ä»£ç æ”¾åœ¨å¦å¤–ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—é‡Œï¼Œæ¯”å¦‚ä¸šåŠ¡é€»è¾‘ã€‚å› ä¸ºæ˜“å˜çš„ä»£ç ç»å¸¸ä¿®æ”¹ï¼Œä¼šå¾ˆä¸ç¨³å®šï¼Œåˆ†å¼€ä¹‹åæ˜“å˜ä»£ç åœ¨ä¿®æ”¹æ—¶å€™ï¼Œä¸ä¼šå°†BUGä¼ æŸ“ç»™ä¸å˜çš„ä»£ç ã€‚<br><a name="-6"></a></p><h4 id="æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§"><a href="#æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§" class="headerlink" title="æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§"></a>æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§</h4></li><li><p>æµæ§</p></li></ul><p>åŒ11æœŸé—´ï¼Œå¯¹äºä¸€äº›é‡è¦çš„æ¥å£ï¼ˆæ¯”å¦‚å¸å·çš„æŸ¥è¯¢æ¥å£ï¼Œåº—é“ºé¦–é¡µï¼‰åšæµé‡æ§åˆ¶ï¼Œè¶…è¿‡é˜ˆå€¼ç›´æ¥è¿”å›å¤±è´¥ã€‚<br>å¦å¤–å¯¹äºä¸€äº›ä¸é‡è¦çš„ä¸šåŠ¡ä¹Ÿå¯ä»¥è€ƒè™‘é‡‡ç”¨é™çº§æ–¹æ¡ˆï¼Œå¤§ä¿ƒâ€”&gt;é‚®ä»¶ç³»ç»Ÿã€‚æ ¹æ®28åŸåˆ™ï¼Œæå‰å°†å¤§å–å®¶çº¦1Wå·¦å³åœ¨ç¼“å­˜ä¸­é¢„çƒ­ï¼Œå¹¶è®¾ç½®èµ·æ­¢æ—¶é—´ï¼Œæ´»åŠ¨æœŸé—´å†…è¿™éƒ¨åˆ†å¤§å–å®¶ä¸å‘äº¤æ˜“é‚®ä»¶æé†’ï¼Œä»¥å‡è½»SAé‚®ä»¶æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><ul><li>å®¹ç¾</li></ul><p>æœ€å¤§ç¨‹åº¦ä¿è¯ä¸»é“¾è·¯çš„å¯ç”¨æ€§ï¼Œæ¯”å¦‚æˆ‘è´Ÿè´£äº¤æ˜“çš„ä¸‹å•ï¼Œè€Œä¸‹å•è¿‡ç¨‹ä¸­æœ‰ä¼˜æƒ çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ­¤æ—¶éœ€è¦è€ƒè™‘UMPç³»ç»ŸæŒ‚æ‰ï¼Œä¸ä¼šå½±å“ç”¨æˆ·ä¸‹å•ï¼ˆåé¢å¯ä»¥é€šè¿‡ä¿®æ”¹ä»·æ ¼å¼¥è¡¥ï¼‰ï¼Œé‡‡ç”¨çš„æ–¹å¼æ˜¯ï¼Œå¦‚æœä¼˜æƒ æŒ‚æ‰ï¼Œé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œå¹¶å¢åŠ umpå±è”½æ ‡è®°ï¼Œä¸‹å•æ—¶ä¼šè‡ªåŠ¨å±è”½umpçš„ä»£ç é€»è¾‘ã€‚<br>å¦å¤–è¿˜ä¼šè®°å½•umpç³»ç»Ÿä¸å¯ç”¨æ¬¡æ•°ï¼Œä¸€å®šæ—¶é—´å†…è¶…è¿‡é˜ˆå€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p><ul><li>ç¨³å®šæ€§</li></ul><p>ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯èƒ½ä¼šä¸ç¨³å®šï¼Œå­˜åœ¨æ¥å£è¶…æ—¶æˆ–å®•æœºï¼Œä¸ºäº†å¢åŠ ç³»ç»Ÿçš„å¥å£®æ€§ï¼Œè°ƒç”¨æ¥å£æ—¶è®¾ç½®è¶…æ—¶æ—¶é—´ä»¥åŠå¼‚å¸¸æ•è·å¤„ç†ã€‚</p><ul><li>å®¹é‡è§„åˆ’</li></ul><p>åšå¥½å®¹é‡è§„åˆ’ã€ç³»ç»Ÿé—´å¼ºå¼±ä¾èµ–å…³ç³»æ¢³ç†ã€‚<br>å¦‚ï¼šå†·çƒ­æ•°æ®ä¸åŒå¤„ç†ï¼Œæ—©æœŸçš„è®¢å•é‡‡ç”¨oracleå­˜å‚¨ï¼Œéšç€è®¢å•çš„æ•°é‡è¶Šæ¥è¶Šå¤šï¼ŒæŸ¥è¯¢ç¼“æ…¢ï¼Œè€ƒè™‘æ•°æ®è¿ç§»ï¼Œå¼•å…¥å†å²è¡¨ï¼Œå°†å·²å½’æ¡£çš„è®°å½•è¿ç§»åˆ°å†å²è¡¨ä¸­ã€‚å½“ç„¶æœ€å¥½çš„æ–¹æ³•æ˜¯åˆ†åº“åˆ†è¡¨ã€‚<br><a name="-7"></a></p><h4 id="åˆ†å¸ƒå¼æ¶æ„"><a href="#åˆ†å¸ƒå¼æ¶æ„" class="headerlink" title="åˆ†å¸ƒå¼æ¶æ„"></a>åˆ†å¸ƒå¼æ¶æ„</h4><ul><li><p>åˆ†å¸ƒå¼ç³»ç»Ÿ</p></li><li><p>åˆ†å¸ƒå¼ç¼“å­˜</p></li><li><p>åˆ†å¸ƒå¼æ•°æ®<br><a name="api"></a></p><h4 id="API-å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ"><a href="#API-å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ" class="headerlink" title="API å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ"></a>API å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ</h4><p>ç›¸ä¿¡æˆ‘ä»¬å¤§å¤šæ•°äººåœ¨å„¿ç«¥æ—¶æœŸéƒ½å–œæ¬¢ç©ä¹é«˜ç§¯æœ¨ã€‚ä¹é«˜ç§¯æœ¨çš„çœŸæ­£ä¹è¶£å’Œå¸å¼•åŠ›åœ¨äºï¼Œå°½ç®¡åŒ…è£…ç›’å¤–é¢éƒ½å¸¦æœ‰ç¤ºæ„å›¾ç‰‡ï¼Œä½†ä½ æœ€ç»ˆéƒ½å¯ä»¥éšå¿ƒæ‰€æ¬²å¾—æ­å‡ºå„ç§æ ·å­æˆ–é€ å‹ã€‚<br>å¯¹ API çš„æœ€ä½³è§£é‡Šå°±æ˜¯å®ƒä»¬åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥ç”¨åˆ›é€ æ€§çš„æ–¹å¼æ¥ç»„åˆå®ƒä»¬ï¼Œè€Œä¸ç”¨åœ¨æ„å®ƒä»¬åŸæœ¬çš„è®¾è®¡å’Œå®ç°æ„å›¾ã€‚<br>ä½ å¯ä»¥å‘ç°å¾ˆå¤š API å’Œä¹é«˜ç§¯æœ¨çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p></li><li><p>æ ‡å‡†åŒ–ï¼šé€šç”¨ã€æ ‡å‡†åŒ–çš„ç»„ä»¶ï¼Œä½œä¸ºåŸºæœ¬çš„æ„å»ºå—ï¼ˆbuilding blocksï¼‰ï¼›<br></p></li><li><p>å¯ç”¨æ€§ï¼šå¼ºè°ƒå¯ç”¨æ€§ï¼Œé™„æœ‰æ–‡æ¡£æˆ–ä½¿ç”¨è¯´æ˜ï¼›<br></p></li><li><p>å¯å®šåˆ¶ï¼šä¸ºä¸åŒåŠŸèƒ½ä½¿ç”¨ä¸åŒçš„APIï¼›<br></p></li><li><p>åˆ›é€ æ€§ï¼šèƒ½å¤Ÿç»„åˆä¸åŒçš„ API æ¥åˆ›é€ æ··æ­çš„ç»“æœï¼›</p></li></ul><p><br>ä¹é«˜å’Œ API éƒ½æœ‰è¶…ç®€å•çš„ç•Œé¢/æ¥å£ï¼Œå¹¶ä¸”å€ŸåŠ©è¿™æ ·ç®€å•çš„ç•Œé¢/æ¥å£ï¼Œå®ƒå¯ä»¥éå¸¸ç›´è§‚ã€å®¹æ˜“ã€å¿«é€Ÿå¾—æ„å»ºã€‚<br>è™½ç„¶ä¹é«˜å’Œ API ä¸€æ ·å¯èƒ½é™„å¸¦ç¤ºæ„å›¾ç‰‡æˆ–ä½¿ç”¨æ–‡æ¡£ï¼Œå¤§æ¦‚æè¿°äº†æ¨èç©æ³•æˆ–ç”¨é€”ï¼Œä½†çœŸæ­£ä»¤äººå…´å¥‹çš„ç»“æœæˆ–æ”¶è·æ°æ°æ˜¯é€šè¿‡åˆ›é€ åŠ›äº§ç”Ÿçš„ã€‚<br><br><br>è®©æˆ‘ä»¬ä»”ç»†åœ°æ€è€ƒä¸‹ä¸Šè¿°çš„ææ³•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒAPI çš„ä½¿ç”¨è€…æ„å»ºå‡ºäº† API çš„æ„å»ºè€…è¶…å‡ºé¢„æœŸçš„æœåŠ¡æˆ–äº§å“ï¼ŒAPI ä½¿ç”¨è€…æƒ³è¦çš„ï¼Œå’Œ API æ„å»ºè€…è®¤ä¸ºä½¿ç”¨è€…æƒ³è¦çš„ï¼Œè¿™äºŒè€…ä¹‹é—´é€šå¸¸æœ‰ä¸ªæ–­å±‚ã€‚äº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œåœ¨ IoT é¢†åŸŸï¼Œæˆ‘ä»¬ä½¿ç”¨ API åˆ›é€ å‡ºäº†ä¸€äº›éå¸¸æœ‰åˆ›é€ æ€§çš„ä½¿ç”¨åœºæ™¯ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-2&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;å…³äºä»€ä¹ˆ
      
    
    </summary>
    
    
    
      <category term="æ¶æ„" scheme="cpeixin.cn/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>kaliä¸­æ–‡è®¾ç½®</title>
    <link href="cpeixin.cn/2019/12/01/kali%E4%B8%AD%E6%96%87%E8%AE%BE%E7%BD%AE/"/>
    <id>cpeixin.cn/2019/12/01/kali%E4%B8%AD%E6%96%87%E8%AE%BE%E7%BD%AE/</id>
    <published>2019-12-01T02:26:15.000Z</published>
    <updated>2020-03-28T13:28:43.471Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>æ›´æ–°æº</p><p><a href="https://blog.csdn.net/qq_38333291/article/details/89764967" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_38333291/article/details/89764967</a></p><p>è®¾ç½®ç¼–ç å’Œä¸­æ–‡å­—ä½“å®‰è£…</p><p><a href="http://www.linuxdiyf.com/linux/20701.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.linuxdiyf.com/linux/20701.html</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æ›´æ–°æº&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_38333291/article/details/897
      
    
    </summary>
    
    
    
      <category term="kali" scheme="cpeixin.cn/tags/kali/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†å¸ƒå¼ä¸‹çš„æ•°æ®hashåˆ†å¸ƒ</title>
    <link href="cpeixin.cn/2019/11/19/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AEhash%E5%88%86%E5%B8%83/"/>
    <id>cpeixin.cn/2019/11/19/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AEhash%E5%88%86%E5%B8%83/</id>
    <published>2019-11-19T15:05:08.000Z</published>
    <updated>2019-11-19T15:05:08.402Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;!-- rebuild by neat --&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†ï¼ˆäºŒï¼‰</title>
    <link href="cpeixin.cn/2019/09/09/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>cpeixin.cn/2019/09/09/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2019-09-09T02:26:15.000Z</published>
    <updated>2020-03-28T14:12:10.008Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>è‹¦é€¼çš„å‘¨ä¸€å¼€å§‹äº†ï¼Œè‹¦é€¼çš„å·¥ä½œå¼€å§‹äº†ï¼Œååˆ°å·¥ä½ä¸Šï¼Œä¸Šç­æ°”æ­£åœ¨é€æ¸çš„å‡å¼±ï¼Œä½†æ˜¯å½“æˆ‘å‘ç°ï¼Œæˆ‘çš„ä¸‰å°æœåŠ¡å™¨åˆè¢«é‚£äº›æ— æƒ…çš„å°é»‘äººä»¬ç›¯ä¸Šäº†çš„æ—¶å€™ï¼Œæˆ‘çš„æ€’æ°”å€¼è¾¾åˆ°äº†é¡¶ç‚¹ï¼ŒåŒæ—¶è¿˜æ„Ÿè§‰æœ‰ç‚¹ä¸¢è„¸ï¼Œå“ˆå“ˆå“ˆã€‚<br><br><br>ç”±äºè¿™ä¸‰å°æœåŠ¡å™¨å±äºæˆ‘ä¸ªäººçš„ï¼Œæ²¡æœ‰ç»è¿‡è¿ç»´å…„å¼Ÿçš„ç…§é¡¾ï¼Œæ‰€ä»¥åœ¨å®‰å…¨æ–¹é¢ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰é˜²æŠ¤ã€‚<br>è¿™æ¬¡æ˜¯æ€ä¹ˆå‘ç°çš„å‘¢ï¼Œæ˜¯å› ä¸ºæˆ‘æœåŠ¡å™¨ä¸Šçš„çˆ¬è™«çªç„¶åœæ­¢äº†ï¼Œæˆ‘å¸¦ç€ç–‘é—®å»çœ‹äº†ä¸‹ç³»ç»Ÿæ—¥å¿—ã€‚äºæ˜¯æ•²ä¸‹äº†ä¸‹é¢çš„å‘½ä»¤<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -xe</span><br></pre></td></tr></table></figure><p><br>æ˜ å…¥çœ¼å¸˜çš„æ˜¯æ»¡å±çš„æ‰«æå’Œsshå°è¯•ç™»é™†<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Failed password <span class="keyword">for</span> invalid user admin <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Received disconnect <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Disconnected <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Failed password <span class="keyword">for</span> invalid user ansible <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Received disconnect <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Disconnected <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">54</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">314</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">54</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">314</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">lines <span class="number">1105</span><span class="number">-1127</span>/<span class="number">1127</span> (END)</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">49</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Failed password <span class="keyword">for</span> invalid user admin <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Received disconnect <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Disconnected <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Failed password <span class="keyword">for</span> invalid user ansible <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Received disconnect <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Disconnected <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br></pre></td></tr></table></figure><p><br>çœ‹åˆ°è¿™é‡Œï¼Œæ„Ÿè§‰è‡ªå·±å®¶çš„é¸¡ï¼Œéšæ—¶éƒ½è¦è¢«å·èµ°å‘€ã€‚ã€‚ã€‚ã€‚è¿™è¿˜äº†å¾—ã€‚äºæ˜¯é©¬ä¸Šå¼€å§‹äº†åŠ å›ºé˜²æŠ¤<br>å¯¹å¾…è¿™ç§æƒ…å†µï¼Œå°±æ˜¯è¦ç¦æ­¢rootç”¨æˆ·è¿œç¨‹ç™»å½•ï¼Œä½¿ç”¨æ–°å»ºæ™®é€šç”¨æˆ·ï¼Œè¿›è¡Œè¿œç¨‹ç™»å½•ï¼Œè¿˜æœ‰é‡è¦çš„ä¸€ç‚¹ï¼Œä¿®æ”¹é»˜è®¤22ç«¯å£ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@*** ~]<span class="comment"># useradd one             #åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">[root@*** ~]<span class="comment"># passwd one              #è®¾ç½®å¯†ç </span></span><br></pre></td></tr></table></figure><p><br>è¾“å…¥æ–°ç”¨æˆ·å¯†ç <br>é¦–å…ˆç¡®ä¿æ–‡ä»¶ /etc/sudoers ä¸­<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%wheel    ALL=(ALL)    ALL</span><br><span class="line">```  </span><br><span class="line">æ²¡æœ‰è¢«æ³¨é‡Š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```linux</span><br><span class="line">usermod -g wheel onerocket</span><br></pre></td></tr></table></figure><p><br>è®¾ç½®åªæœ‰æŒ‡å®šç”¨æˆ·ç»„æ‰èƒ½ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootç”¨æˆ·<br><br><br>åœ¨linuxä¸­ï¼Œæœ‰ä¸€ä¸ªé»˜è®¤çš„ç®¡ç†ç»„ wheelã€‚åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå³ä½¿æˆ‘ä»¬æœ‰ç³»ç»Ÿç®¡ç†å‘˜rootçš„æƒé™ï¼Œä¹Ÿä¸æ¨èç”¨rootç”¨æˆ·ç™»å½•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ç”¨æ™®é€šç”¨æˆ·ç™»å½•å°±å¯ä»¥äº†ï¼Œåœ¨éœ€è¦rootæƒé™æ‰§è¡Œä¸€äº›æ“ä½œæ—¶ï¼Œå†suç™»å½•æˆä¸ºrootç”¨æˆ·ã€‚ä½†æ˜¯ï¼Œä»»ä½•äººåªè¦çŸ¥é“äº†rootçš„å¯†ç ï¼Œå°±éƒ½å¯ä»¥é€šè¿‡suå‘½ä»¤æ¥ç™»å½•ä¸ºrootç”¨æˆ·ï¼Œè¿™æ— ç–‘ä¸ºç³»ç»Ÿå¸¦æ¥äº†å®‰å…¨éšæ‚£ã€‚æ‰€ä»¥ï¼Œå°†æ™®é€šç”¨æˆ·åŠ å…¥åˆ°wheelç»„ï¼Œè¢«åŠ å…¥çš„è¿™ä¸ªæ™®é€šç”¨æˆ·å°±æˆäº†ç®¡ç†å‘˜ç»„å†…çš„ç”¨æˆ·ã€‚ç„¶åè®¾ç½®åªæœ‰wheelç»„å†…çš„æˆå‘˜å¯ä»¥ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootç”¨æˆ·ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /bin/bash</span></span><br><span class="line"><span class="comment"># Function: ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿å¾—åªæœ‰wheelç»„çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ su æƒé™</span></span><br><span class="line">sed -i <span class="string">'/pam_wheel.so use_uid/c\auth            required        pam_wheel.so use_uid '</span> /etc/pam.d/su</span><br><span class="line">n=`cat /etc/login.defs | grep SU_WHEEL_ONLY | wc -l`</span><br><span class="line"><span class="keyword">if</span> [ $n -eq <span class="number">0</span> ];then</span><br><span class="line">echo SU_WHEEL_ONLY yes &gt;&gt; /etc/login.defs</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><br>æ‰“å¼€SSHDçš„é…ç½®æ–‡ä»¶<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><br>æŸ¥æ‰¾â€œ#PermitRootLogin yesâ€ï¼Œå°†å‰é¢çš„â€œ#â€å»æ‰ï¼ŒçŸ­å°¾â€œyesâ€æ”¹ä¸ºâ€œnoâ€ï¼ˆä¸åŒç‰ˆæœ¬å¯èƒ½åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œå¹¶ä¿å­˜æ–‡ä»¶ã€‚<br><br><br>ä¿®æ”¹sshdé»˜è®¤ç«¯å£<br>è™½ç„¶æ›´æ”¹ç«¯å£æ— æ³•åœ¨æ ¹æœ¬ä¸ŠæŠµå¾¡ç«¯å£æ‰«æï¼Œä½†æ˜¯ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜é˜²å¾¡ã€‚<br>æ‰“å¼€sshdé…ç½®æ–‡ä»¶<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><br>æ‰¾åˆ°#Port 22 åˆ æ‰æ³¨é‡Š<br><br><br><em>æœåŠ¡å™¨ç«¯å£æœ€å¤§å¯ä»¥å¼€åˆ°65536</em><br><br><br>åŒæ—¶å†æ·»åŠ ä¸€ä¸ªPort 61024 ï¼ˆéšæ„è®¾ç½®ï¼‰<br><br><br>Port 22<br>Port 61024<br><br><br>é‡å¯sshdæœåŠ¡<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart      <span class="comment">#centos6ç³»åˆ—</span></span><br><span class="line">systemctl restart sshd  <span class="comment">#centos7ç³»åˆ—</span></span><br><span class="line">firewall-cmd --add-port=<span class="number">61024</span>/tcp</span><br></pre></td></tr></table></figure><p><br>æµ‹è¯•ï¼Œä½¿ç”¨æ–°ç”¨æˆ·ï¼Œæ–°ç«¯å£è¿›è¡Œç™»å½•<br><br><br>å¦‚æœç™»é™†æˆåŠŸåï¼Œå†å°†Port22æ³¨é‡Šæ‰ï¼Œé‡å¯sshdæœåŠ¡ã€‚<br>åˆ°è¿™é‡Œï¼Œå…³äºè¿œç¨‹ç™»å½•çš„é˜²æŠ¤å·¥ä½œï¼Œå°±åšå¥½äº†ã€‚<br>æœ€åï¼Œå‘Šè¯«å¤§å®¶ï¼Œäº²èº«ä½“éªŒï¼Œæ²¡æœ‰é˜²æŠ¤è£¸å¥”çš„æœåŠ¡å™¨ï¼ŒçœŸçš„å¤ªå®¹æ˜“è¢«æŠ“è‚‰é¸¡äº†ï¼ï¼ï¼ï¼ï¼</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;è‹¦é€¼çš„å‘¨ä¸€å¼€å§‹äº†ï¼Œè‹¦é€¼çš„å·¥ä½œå¼€å§‹äº†ï¼Œååˆ°å·¥ä½ä¸Šï¼Œä¸Šç­æ°”æ­£åœ¨é€æ¸çš„å‡å¼±ï¼Œä½†æ˜¯å½“æˆ‘å‘ç°ï¼Œæˆ‘çš„ä¸‰å°æœåŠ¡å™¨åˆè¢«é‚£äº›æ— æƒ…çš„å°é»‘äººä»¬ç›¯ä¸Šäº†çš„æ—¶å€™ï¼Œæˆ‘çš„æ€’æ°”å€¼
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="cpeixin.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†</title>
    <link href="cpeixin.cn/2019/08/24/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86/"/>
    <id>cpeixin.cn/2019/08/24/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86/</id>
    <published>2019-08-24T02:26:15.000Z</published>
    <updated>2020-03-28T14:57:34.282Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><a name="-2"></a></p><h1 id="æœåŠ¡å™¨è‡ªè¿°"><a href="#æœåŠ¡å™¨è‡ªè¿°" class="headerlink" title="æœåŠ¡å™¨è‡ªè¿°"></a>æœåŠ¡å™¨è‡ªè¿°</h1><p>æˆ‘æ˜¯ä¸€å°8æ ¸ï¼Œ16Gå†…å­˜ï¼Œ4Tçš„Linux (centOS 7)æœåŠ¡å™¨â€¦ è¿˜æœ‰ä¸¤å°å’Œæˆ‘ä¸€èµ·è¢«ä¹°æ¥çš„è‹¦ä¸»ï¼Œæˆ‘ä»¬ä¸€åŒé•¿å¤§ï¼Œé…ç½®ä¸€æ ·ï¼Œéƒ½æ˜¯ä»é¦™æ¸¯è¢«è´©å–åˆ°å›½å¤–ï¼Œæˆ‘ä»¬ä¸‰ä¸ªç»„æˆäº†åˆ†å¸ƒå¼çˆ¬è™«æ¡†æ¶ï¼Œå¦ä¸¤ä½è‹¦ä¸»åˆ†åˆ«è´Ÿè´£å¼‚æ­¥çˆ¬å–è¿æ¥ï¼Œå¤šè¿›ç¨‹çˆ¬å–è¿æ¥å’Œscrapy-redisåˆ†å¸ƒå¼çˆ¬å–è§£æã€‚<br><br><br>è€Œæˆ‘æ¯”è¾ƒæ¸…é—²ï¼Œåªè´Ÿè´£å­˜å‚¨. ç½‘é¡µé“¾æ¥æ”¾åœ¨æˆ‘çš„redisä¸­ï¼Œè€Œè§£æå¥½çš„æ–‡ç« ä¿¡æ¯æ”¾åœ¨æˆ‘çš„MySQLä¸­ã€‚ç„¶è€Œæ•…äº‹çš„å¼€å§‹ï¼Œå°±æ˜¯åœ¨å®‰è£…redisçš„é‚£å¤©ï¼Œä¸»äººçš„ç²—å¿ƒå¤§æ„ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œä»è€Œè®©ä»–ä»Šå¤©èŠ±è´¹äº†å°åŠå¤©æ¥å¯¹æˆ‘è¿›è¡Œç»´ä¿®ï¼ï¼ğŸ˜¢<br><a name="-3"></a></p><h1 id="ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨"><a href="#ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨" class="headerlink" title="ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨"></a>ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨</h1><p>è¿™æ ·ä¸€å°é…ç½®çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœˆçš„ä»·æ ¼å¤§æ¦‚åœ¨1000RMBä¸€ä¸ªæœˆï¼Œæ€ä¹ˆè¯´å‘¢â€¦ è¿™ä¸ªä»·æ ¼çš„æœåŠ¡å™¨å¯¹äºä¸ªäººç”¨æˆ·æ­å»ºè‡ªå·±ç©çš„ç¯å¢ƒè¿˜æ˜¯æœ‰äº›å°è´µçš„ã€‚ä¾‹å¦‚æˆ‘ç°åœ¨å†™åšå®¢ï¼Œä¹Ÿæ˜¯æ‰˜ç®¡åœ¨GitHubä¸Šçš„ï¼Œæˆ‘ä¹Ÿå¯ä»¥ç§Ÿç”¨ä¸€å°æœåŠ¡å™¨æ¥æ‰˜ç®¡çš„åšå®¢ï¼Œä½†æ˜¯ç›®å‰æˆ‘çš„è¿™ç§çº§åˆ«ï¼Œä¹Ÿæ˜¯è¦è€ƒè™‘åˆ°æŠ•å…¥äº§å‡ºæ¯”æ˜¯å¦åˆé€‚ï¼Œå“ˆå“ˆå“ˆã€‚<br><br><br>ä½†æ˜¯å¯¹äºï¼ŒæœåŠ¡å™¨ä¸Šè¿è¡Œçš„ä»»åŠ¡å’ŒæœåŠ¡äº§å‡ºçš„ä»·å€¼è¦è¿œè¿œå¤§äºæœåŠ¡å™¨ä»·å€¼çš„æ—¶å€™ï¼Œè¿™1000å¤šRMBå°±å¯ä»¥å¿½ç•¥ä¸è®¡äº†ã€‚åŒæ—¶ï¼Œè¿˜æœ‰é»‘è¡£äººï¼Œä»–ä»¬éœ€è¦å¤§é‡çš„æœåŠ¡å™¨ï¼Œæ¥è¿è¡ŒåŒæ ·çš„ç¨‹åºï¼Œäº§å‡ºçš„ä»·å€¼ä»–ä»¬ä¹Ÿæ— æ³•è¡¡é‡ï¼Œæœ‰å¯èƒ½å¾ˆå¤šæœ‰å¯èƒ½å¾ˆå°‘ã€‚ã€‚<br><br><br>é‚£ä¹ˆè¿™æ—¶å€™ï¼Œä»–ä»¬ä¸ºäº†èŠ‚çº¦æˆæœ¬ï¼Œé™ä½æˆæœ¬ï¼Œå°±ä¼šç”¨ä¸€äº›é»‘è‰²çš„æ‰‹æ³•ï¼Œä¾‹å¦‚æ¸—é€ï¼Œsqlæ³¨å…¥ï¼Œæ ¹æ®æ¼æ´æ‰«æç­‰æ–¹æ³•æ¥ æŠ“â€œè‚‰é¸¡â€ï¼ŒæŠ“åˆ°å¤§é‡çš„å¯ä¾µå…¥çš„æœåŠ¡å™¨ï¼Œç„¶ååœ¨ä½ çš„æœåŠ¡å™¨ä¸Šçš„æŸä¸€ä¸ªè§’è½ï¼Œæ”¾ä¸Šä»–çš„ç¨‹åºï¼Œä¸€ç›´åœ¨è¿è¡Œï¼Œä¸€ç›´åœ¨è¿è¡Œï¼Œå ç”¨ç€ä½ çš„cpu,å ç”¨ç€ä½ çš„å¸¦å®½â€¦<br><br><br>é‚£ä¹ˆä¸Šé¢æåˆ°çš„é»‘è¡£äººï¼Œå°±æœ‰é‚£ä¹ˆä¸€ç±»è§’è‰²ï¼Œâ€œçŸ¿å·¥â€ï¼ï¼ï¼ï¼<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585404954445-f30a25a0-5939-4773-b5d9-8bb6a7c53b02.png#align=left&display=inline&height=892&name=1.png&originHeight=892&originWidth=1244&size=1778564&status=done&style=none&width=1244" alt="1.png"><br><br><br>æ›¾ç»ï¼Œæˆ‘ä¹Ÿä¸“æ³¨è¿‡åŒºå—é“¾ï¼Œæˆ‘ä¹ŸçŸ­æš‚çš„è¿·å¤±åœ¨æ•°å­—è´§å¸çš„æµªæ½®ä¸­ï¼Œä½†æ˜¯æ²¡æœ‰åƒåˆ°çº¢åˆ©ğŸ‘€ğŸ‘€ğŸ‘€ å°±æ˜¯è¿™äº›æ•°å­—ä¸–ç•Œçš„çŸ¿å·¥ï¼Œåˆ©ç”¨æˆ‘æœåŠ¡å™¨çš„æ¼æ´é»‘äº†æˆ‘çš„æœåŠ¡å™¨<br><a name="-4"></a></p><h1 id="å¦‚ä½•å‘ç°è¢«é»‘"><a href="#å¦‚ä½•å‘ç°è¢«é»‘" class="headerlink" title="å¦‚ä½•å‘ç°è¢«é»‘"></a>å¦‚ä½•å‘ç°è¢«é»‘</h1><p>å›åˆ°è¿™ç¯‡åšå®¢çš„æ­£é¢˜ï¼Œæˆ‘æ˜¯å¦‚ä½•å‘ç°ï¼Œæˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†å‘¢ï¼Ÿï¼Ÿ<br><br><br>æœ€è¿‘æˆ‘åœ¨åšscrapyåˆ†å¸ƒå¼çˆ¬è™«æ–¹é¢çš„å·¥ä½œï¼Œå‡†å¤‡äº†ä¸‰å°æœåŠ¡å™¨ï¼Œè€Œè¿™å°è¢«é»‘çš„æœåŠ¡å™¨æ˜¯æˆ‘ç”¨æ¥åšå­˜å‚¨çš„ï¼Œå…¶ä¸­ç”¨åˆ°äº†rediså’Œmysqlã€‚å…¶ä¸­å¼•å‘è¿™ä»¶äº‹æƒ…çš„å°±æ˜¯redisï¼Œæˆ‘åœ¨å®‰è£…redisçš„æ—¶å€™ï¼Œå¯ä»¥è¯´è´£ä»»å®Œå…¨åœ¨æˆ‘ï¼Œæˆ‘ä¸ºäº†å®‰è£…èŠ‚çº¦æ—¶é—´ï¼Œä»¥åä½¿ç”¨æ–¹ä¾¿ç­‰ï¼Œåšäº†å‡ ä¸ªå¾ˆé”™è¯¯çš„æ“ä½œ<br><br><br>1.å…³é—­äº†Linuxé˜²ç«å¢™<br><br><br>2.æ²¡æœ‰è®¾ç½®redisè®¿é—®å¯†ç <br><br><br>3.æ²¡æœ‰æ›´æ”¹redisé»˜è®¤ç«¯å£<br><br><br>4.å¼€æ”¾äº†ä»»æ„IPå¯ä»¥è¿œç¨‹è¿æ¥<br><br><br>ä»¥ä¸Šå››ä¸ªå¾ˆå‚»çš„æ“ä½œ,éƒ½æ˜¯å› ä¸ºä»¥å‰æ‰€ç”¨çš„rediséƒ½æ˜¯æœ‰å…¬å¸è¿ç»´åŒäº‹è¿›è¡Œå®‰è£…ä»¥åŠå®‰å…¨ç­–ç•¥æ–¹é¢çš„é…ç½®ï¼Œä»¥è‡³æˆ‘è¿™ä¸€æ¬¡æ²¡æœ‰æ³¨æ„åˆ°å®‰è£…æ–¹é¢ã€‚<br><br><br>å½“æˆ‘çš„çˆ¬è™«ç¨‹åºå·²ç»å¹³ç¨³çš„è¿è¡Œäº†ä¸¤å¤©äº†ï¼Œæˆ‘å°±å¼€å§‹æ”¾å¿ƒäº†ï¼Œé™é™åœ°çœ‹ç€spiderç–¯ç‹‚çš„spider,å¯æ˜¯å°±æ˜¯åœ¨éšåï¼ŒredisæœåŠ¡å‡ºç°å¼‚å¸¸ï¼Œé¦–å…ˆæ˜¯æˆ‘æœ¬åœ°å®¢æˆ·ç«¯è¿æ¥ä¸ä¸Šè¿œç¨‹redis-serverï¼Œæˆ‘æœ‰æƒ³è¿‡æ˜¯ä¸æ˜¯ç½‘ç»œä¸ç¨³å®šçš„é—®é¢˜ã€‚åœ¨æˆ‘é‡å¯redisåï¼Œæ¢å¤æ­£å¸¸ï¼Œåˆå¹³ç¨³çš„è¿è¡Œäº†ä¸€å¤©ã€‚<br><br><br>ä½†æ˜¯æ¥ä¸‹æ¥redisé¢‘ç¹å‡ºé—®é¢˜ï¼Œæˆ‘å°±æƒ³ï¼Œæ˜¯ä¸æ˜¯çˆ¬è™«çˆ¬å–äº†å¤§é‡çš„ç½‘é¡µé“¾æ¥ï¼Œå¯¹redisé€ æˆäº†é˜»å¡ã€‚äºæ˜¯ï¼Œæˆ‘å¼€å¯äº†å¯¹redis.confï¼Œè¿˜æœ‰ç¨‹åºç«¯çš„connectä¸¤æ–¹é¢360åº¦çš„ä¼˜åŒ–ï¼Œç„¶å¹¶åµã€‚ã€‚ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i tcp:<span class="number">6379</span></span><br></pre></td></tr></table></figure><p><br>ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤åï¼Œå‘ç°redisæœåŠ¡æ­£å¸¸è¿è¡Œï¼Œ6379ç«¯å£ä¹Ÿæ˜¯å¼€å¯çš„ã€‚æˆ‘é™·å…¥äº†æ·±æ·±åœ°è¿·æƒ‘ã€‚ã€‚ã€‚ã€‚ã€‚<br><br><br>ä½†æ˜¯è¿™æ—¶å…¶å®å°±åº”è¯¥çœ‹å‡ºä¸€äº›ç«¯å€ªäº†ï¼Œå› ä¸ºæ­£å¸¸å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹åæ˜¯ ï¼š redis-ser ã€‚ä½†æ˜¯ç°åœ¨å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹åæ˜¯ ï¼šxmrig-no (å¿˜è®°æˆªå›¾äº†)ï¼Œä½†æ˜¯è¿™æ—¶æˆ‘ä¹Ÿæ²¡æœ‰å¤šæƒ³<br>ç›´åˆ°æˆ‘è¿è¡Œï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585404912911-97736d80-2ee3-455d-a948-6d134f4e2663.png#align=left&display=inline&height=534&name=2.png&originHeight=534&originWidth=3338&size=980508&status=done&style=none&width=3338" alt="2.png"><br>å‘ç°äº†å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹å…¨åç§°xmrigâ€¦ï¼Œæˆ‘æ‰æç„¶å¤§æ‚Ÿï¼Œæˆ‘çš„ç«¯å£è¢«å ç”¨äº†ã€‚æˆ‘åœ¨googleä¸Šä¸€æŸ¥ï¼Œæ‰å‘ç°ã€‚ã€‚æˆ‘è¢«é»‘äº†<br><a name="-5"></a></p><h1 id="åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ"><a href="#åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ" class="headerlink" title="åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ"></a>åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ</h1><p>è¿™æ—¶ï¼Œæ„Ÿè§‰è‡ªå·±å¼€å§‹æŠ•å…¥äº†ä¸€åœºå¯¹æŠ—æˆ˜<br><br><br>1.é¦–å…ˆæŸ¥æ‰¾æ¤å…¥ç¨‹åºçš„ä½ç½®ã€‚<br>åœ¨/tmp/ç›®å½•ä¸‹ï¼Œä¸€èˆ¬æ¤å…¥ç¨‹åºéƒ½ä¼šæ”¾åœ¨ /tmp ä¸´æ—¶ç›®å½•ä¸‹ï¼Œå…¶å®å›è¿‡å¤´ä¸€æƒ³ï¼Œæ”¾åœ¨è¿™é‡Œï¼Œä¹Ÿæ˜¯æŒºå¦™çš„ã€‚<br><br><br>2.åˆ é™¤æ¸…ç†å¯ç–‘æ–‡ä»¶<br><br><br>æ€æ­»è¿›ç¨‹<br><br><br>åˆ é™¤äº†æ­£åœ¨è¿è¡Œçš„ç¨‹åºæ–‡ä»¶è¿˜æœ‰å®‰è£…åŒ…<br>3.æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd |cut -f <span class="number">1</span> -d:crontab -uXXX -l</span><br></pre></td></tr></table></figure><p><br>4.å¼€å¯é˜²ç«å¢™<br><br><br>ä»…å¼€æ”¾ä¼šä½¿ç”¨åˆ°çš„ç«¯å£<br>5.ä¿®æ”¹redisé»˜è®¤ç«¯å£<br><br><br>redis.confä¸­çš„port<br>6.æ·»åŠ redisæˆæƒå¯†ç <br><br><br>redis.confä¸­çš„requirepass<br>7.ä¿®æ”¹ç»‘å®šè¿œç¨‹ç»‘å®šip<br><br><br>redis.confä¸­çš„bind<br>æœ€åé‡å¯redisæœåŠ¡ï¼<br><a name="-6"></a></p><h1 id="ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ"><a href="#ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ" class="headerlink" title="ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ"></a>ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ</h1><p>æ˜æ˜æ˜¯è‡ªå·±è¢«é»‘äº†ï¼Œä½†æ˜¯åœ¨è¡¥æ•‘çš„è¿‡ç¨‹ä¸­ï¼Œå´å¾—åˆ°äº†å†™ç¨‹åºç»™ä¸äº†çš„æ»¡è¶³æ„Ÿã€‚æ„Ÿè§‰å› ä¸ºè¿™ä»¶äº‹æƒ…ï¼Œä¸Šå¸ç»™æˆ‘æ‰“å¼€äº†å¦ä¸€æ‰‡çª—æˆ·ï½ï½ï½<br>æœ€åè¯´ä¸‹ï¼Œè¿™ä¸ªæœ¨é©¬æ˜¯æ€ä¹ˆè¿›æ¥çš„å‘¢ï¼ŒæŸ¥äº†ä¸€ä¸‹åŸæ¥æ˜¯åˆ©ç”¨Redisç«¯å£æ¼æ´è¿›æ¥çš„ï¼Œå®ƒå¯ä»¥å¯¹æœªæˆæƒè®¿é—®redisçš„æœåŠ¡å™¨ç™»å½•ï¼Œå®šæ—¶ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬ï¼Œè„šæœ¬è¿è¡Œï¼ŒæŒ–çŸ¿ï¼Œè¿œç¨‹è°ƒç”¨ç­‰ã€‚æ‰€ä»¥é™¤äº†æ‰§è¡Œä¸Šè¿°æ“ä½œï¼ŒlinuxæœåŠ¡å™¨ä¸­çš„ç”¨æˆ·æƒé™ï¼ŒæœåŠ¡æƒé™ç²¾ç»†åŒ–ï¼Œé˜²æ­¢å†æ¬¡è¢«å…¥ä¾µã€‚<br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-2&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;æœåŠ¡å™¨è‡ªè¿°&quot;&gt;&lt;a href=&quot;#æœåŠ¡å™¨è‡ªè¿°&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="cpeixin.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>pythonçˆ¬è™« - åŠ¨æ€çˆ¬å–</title>
    <link href="cpeixin.cn/2019/06/12/python%E7%88%AC%E8%99%AB%E4%B9%8B%E5%8A%A8%E6%80%81%E7%88%AC%E5%8F%96/"/>
    <id>cpeixin.cn/2019/06/12/python%E7%88%AC%E8%99%AB%E4%B9%8B%E5%8A%A8%E6%80%81%E7%88%AC%E5%8F%96/</id>
    <published>2019-06-12T15:26:15.000Z</published>
    <updated>2020-03-28T13:24:07.047Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠ“å–æ‹‰å‹¾ç½‘Pythonåˆ†ç±»ä¸‹å…¨å›½åˆ°ç›®å‰ä¸ºæ­¢å±•ç¤ºå‡ºæ¥çš„æ‰€æœ‰æ‹›è˜ä¿¡æ¯ï¼Œé¦–å…ˆåœ¨æµè§ˆå™¨ç‚¹å‡»è¿›å»çœ‹çœ‹å§ã€‚å¦‚æœä½ è¶³å¤Ÿå°å¿ƒæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç°ï¼Œåœ¨ç‚¹å‡»Pythonåˆ†ç±»ä¹‹åè·³åˆ°çš„æ–°é¡µé¢ä¸Šï¼Œæ‹›è˜ä¿¡æ¯å‡ºç°æ—¶é—´æ˜¯æ™šäºé¡µé¢æ¡†æ¶å‡ºç°æ—¶é—´çš„ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥è‚¯å®šï¼Œæ‹›è˜ä¿¡æ¯å¹¶ä¸åœ¨é¡µé¢HTMLæºç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‰ä¸‹â€command+option+uâ€(åœ¨Windowså’ŒLinuxä¸Šçš„å¿«æ·é”®æ˜¯â€ctrl+uâ€)æ¥æŸ¥çœ‹ç½‘é¡µæºç ï¼Œæœç„¶åœ¨æºç ä¸­æ²¡æœ‰å‡ºç°é¡µé¢å±•ç¤ºçš„æ‹›è˜ä¿¡æ¯ã€‚<br><br><br>åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘çœ‹åˆ°çš„å¤§å¤šæ•°æ•™ç¨‹éƒ½ä¼šæ•™ï¼Œä½¿ç”¨ä»€ä¹ˆä»€ä¹ˆåº“ï¼Œå¦‚ä½•å¦‚ä½•æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼Œé€šè¿‡æ€æ ·æ€æ ·çš„æ–¹å¼å®Œæˆç½‘é¡µçš„æ¸²æŸ“ï¼Œç„¶åå¾—åˆ°é‡Œé¢çš„ä¿¡æ¯â€¦æ°¸è¿œè®°ä½ï¼Œå¯¹äºçˆ¬è™«ç¨‹åºï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å¾€å¾€æ˜¯ä¸‹ä¸‹ç­–ï¼Œåªæœ‰å®åœ¨æ²¡æœ‰åŠæ³•äº†ï¼Œæ‰å»è€ƒè™‘æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼Œå› ä¸ºé‚£æ ·çš„å†…å­˜å¼€é”€å®åœ¨æ˜¯å¾ˆå¤§ï¼Œè€Œä¸”æ•ˆç‡éå¸¸ä½ã€‚<br><br><br>é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿç»éªŒæ˜¯ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå¤§å¤šæ˜¯æ˜¯æµè§ˆå™¨ä¼šåœ¨è¯·æ±‚å’Œè§£æHTMLä¹‹åï¼Œæ ¹æ®jsçš„â€œæŒ‡ç¤ºâ€å†å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå¾—åˆ°é¡µé¢å±•ç¤ºçš„å†…å®¹ï¼Œç„¶åé€šè¿‡jsæ¸²æŸ“ä¹‹åå±•ç¤ºåˆ°ç•Œé¢ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™æ ·çš„è¯·æ±‚å¾€å¾€å¾—åˆ°çš„å†…å®¹æ˜¯jsonæ ¼å¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éä½†ä¸ä¼šåŠ é‡çˆ¬è™«çš„ä»»åŠ¡ï¼Œåè€Œå¯èƒ½ä¼šçœå»è§£æHTMLçš„åŠŸå¤«ã€‚<br><br><br>é‚£ä¸ªï¼Œç»§ç»­æ‰“å¼€Chromeçš„å¼€å‘è€…å·¥å…·ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»â€œä¸‹ä¸€é¡µâ€ä¹‹åï¼Œæµè§ˆå™¨å‘é€äº†å¦‚ä¸‹è¯·æ±‚ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843101-98e57df8-c124-4923-aa9f-7c42ce2288b6.png#align=left&display=inline&height=1300&originHeight=1300&originWidth=3356&size=0&status=done&style=none&width=3356" alt><br><br><br>æ³¨æ„è§‚å¯Ÿâ€positionAjax.jsonâ€è¿™ä¸ªè¯·æ±‚ï¼Œå®ƒçš„Typeæ˜¯â€xhrâ€ï¼Œå…¨ç§°å«åšâ€XMLHttpRequestâ€ï¼ŒXMLHttpRequestå¯¹è±¡å¯ä»¥åœ¨ä¸å‘æœåŠ¡å™¨æäº¤æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ç½‘é¡µã€‚é‚£ä¹ˆï¼Œç°åœ¨å®ƒçš„å¯èƒ½æ€§æœ€å¤§äº†ï¼Œæˆ‘ä»¬å•å‡»å®ƒä¹‹åå¥½å¥½è§‚å¯Ÿè§‚å¯Ÿå§ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843056-e12f0f79-905f-4420-abfd-fb85625767ac.png#align=left&display=inline&height=1150&originHeight=1150&originWidth=2266&size=0&status=done&style=none&width=2266" alt><br><br><br>ç‚¹å‡»ä¹‹åæˆ‘ä»¬åœ¨å³ä¸‹è§’å‘ç°äº†å¦‚ä¸Šè¯¦æƒ…ï¼Œå…¶ä¸­å‡ ä¸ªtabçš„å†…å®¹è¡¨ç¤ºï¼š<br>Headersï¼šè¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯<br>Previewï¼šå“åº”ä½“æ ¼å¼åŒ–ä¹‹åçš„æ˜¾ç¤º<br>Responseï¼šå“åº”ä½“åŸå§‹å†…å®¹<br>Cookiesï¼šCookies<br>Timingï¼šæ—¶é—´å¼€é”€<br><br><br>é€šè¿‡å¯¹å†…å®¹çš„è§‚å¯Ÿï¼Œè¿”å›çš„ç¡®å®æ˜¯ä¸€ä¸ªjsonå­—ç¬¦ä¸²ï¼Œå†…å®¹åŒ…æ‹¬æœ¬é¡µæ¯ä¸€ä¸ªæ‹›è˜ä¿¡æ¯ï¼Œåˆ°è¿™é‡Œè‡³å°‘æˆ‘ä»¬å·²ç»æ¸…æ¥šäº†ï¼Œç¡®å®ä¸éœ€è¦è§£æHTMLå°±å¯ä»¥æ‹¿åˆ°æ‹‰é’©æ‹›è˜çš„ä¿¡æ¯äº†ã€‚é‚£ä¹ˆï¼Œè¯·æ±‚è¯¥å¦‚ä½•æ¨¡æ‹Ÿå‘¢ï¼Ÿæˆ‘ä»¬åˆ‡æ¢åˆ°Headersè¿™ä¸€æ ï¼Œç•™æ„ä¸‰ä¸ªåœ°æ–¹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401842263-072689cf-5dea-4f8b-b103-0758d9c5e52e.png#align=left&display=inline&height=262&originHeight=262&originWidth=1276&size=0&status=done&style=none&width=1276" alt><br><br><br>ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ç­‰ä¿¡æ¯ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843887-cf8bff5f-4570-4ad4-8681-f0f3eae929b3.png#align=left&display=inline&height=884&originHeight=884&originWidth=2652&size=0&status=done&style=none&width=2652" alt><br><br><br>ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œä¸€èˆ¬æ¥è®²ï¼Œå…¶ä¸­æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯Cookie / Host / Origin / Referer / User-Agent / X-Requested-Withç­‰å‚æ•°ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843009-4797a28d-3070-421e-a45c-86781d7f580d.png#align=left&display=inline&height=188&originHeight=188&originWidth=848&size=0&status=done&style=none&width=848" alt><br><br><br>ä¸Šé¢è¿™å¼ æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„æäº¤æ•°æ®ï¼Œæ ¹æ®è§‚å¯Ÿï¼Œkdè¡¨ç¤ºæˆ‘ä»¬æŸ¥è¯¢çš„å…³é”®å­—ï¼Œpnè¡¨ç¤ºå½“å‰é¡µç ã€‚<br><br><br>é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„çˆ¬è™«éœ€è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯æŒ‰ç…§é¡µç ä¸æ–­å‘è¿™ä¸ªæ¥å£å‘é€è¯·æ±‚ï¼Œå¹¶è§£æå…¶ä¸­çš„jsonå†…å®¹ï¼Œå°†æˆ‘ä»¬éœ€è¦çš„å€¼å­˜å‚¨ä¸‹æ¥å°±å¥½äº†ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™ç»“æŸï¼Œä»¥åŠå¦‚ä½•çš„åˆ°jsonä¸­æœ‰ä»·å€¼çš„å†…å®¹ã€‚<br><br><br>æˆ‘ä»¬å›è¿‡å¤´é‡æ–°è§‚å¯Ÿä¸€ä¸‹è¿”å›çš„jsonï¼Œæ ¼å¼åŒ–ä¹‹åçš„å±‚çº§å…³ç³»å¦‚ä¸‹ï¼š<br><br><br>å¾ˆå®¹æ˜“å‘ç°ï¼Œcontentä¸‹çš„hasNextPageå³ä¸ºæ˜¯å¦å­˜åœ¨ä¸‹ä¸€é¡µï¼Œè€Œcontentä¸‹çš„resultæ˜¯ä¸€ä¸ªlistï¼Œå…¶ä¸­çš„æ¯é¡¹åˆ™æ˜¯ä¸€æ¡æ‹›è˜ä¿¡æ¯ã€‚åœ¨Pythonä¸­ï¼Œjsonå­—ç¬¦ä¸²åˆ°å¯¹è±¡çš„æ˜ å°„å¯ä»¥é€šè¿‡jsonè¿™ä¸ªåº“å®Œæˆï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">json_obj = json.loads(<span class="string">"&#123;'key': 'value'&#125;"</span>)  <span class="comment"># å­—ç¬¦ä¸²åˆ°å¯¹è±¡</span></span><br><span class="line">json_str = json.dumps(json_obj)            <span class="comment"># å¯¹è±¡åˆ°å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><p><br>jsonå­—ç¬¦ä¸²çš„â€[ ]â€œæ˜ å°„åˆ°Pythonçš„ç±»å‹æ˜¯listï¼Œâ€{ }â€æ˜ å°„åˆ°Pythonåˆ™æ˜¯dictã€‚åˆ°è¿™é‡Œï¼Œåˆ†æè¿‡ç¨‹å·²ç»å®Œå…¨ç»“æŸï¼Œå¯ä»¥æ„‰å¿«çš„å†™ä»£ç å•¦ã€‚å…·ä½“ä»£ç è¿™é‡Œä¸å†ç»™å‡ºï¼Œå¸Œæœ›ä½ å¯ä»¥è‡ªå·±ç‹¬ç«‹å®Œæˆï¼Œå¦‚æœåœ¨ç¼–å†™è¿‡ç¨‹ä¸­å­˜åœ¨é—®é¢˜ï¼Œå¯ä»¥è”ç³»æˆ‘è·å–å¸®åŠ©ã€‚<br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠ“å–æ‹‰å‹¾ç½‘Pythonåˆ†ç±»ä¸‹å…¨å›½åˆ°ç›®å‰ä¸ºæ­¢å±•ç¤ºå‡ºæ¥çš„æ‰€æœ‰æ‹›è˜ä¿¡æ¯ï¼Œé¦–å…ˆåœ¨æµè§ˆå™¨ç‚¹å‡»è¿›å»çœ‹çœ‹å§ã€‚å¦‚æœä½ è¶³å¤Ÿå°å¿ƒæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œé‚£ä¹ˆä½ ä¼š
      
    
    </summary>
    
    
    
      <category term="python" scheme="cpeixin.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>shadowsock-vpsæ­å»ºVPN</title>
    <link href="cpeixin.cn/2019/04/19/shadowsock-vps%E6%90%AD%E5%BB%BAVPN/"/>
    <id>cpeixin.cn/2019/04/19/shadowsock-vps%E6%90%AD%E5%BB%BAVPN/</id>
    <published>2019-04-19T15:26:15.000Z</published>
    <updated>2020-03-28T13:18:01.313Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><a name="-1"></a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿˜æœ‰10å¤©å·¦å³å°±è¦å›å›½äº†ï¼Œç”±äºèŒä¸šçš„éœ€è¦ï¼Œå¯¹Googleçš„ä¾èµ–çš„è¶Šæ¥è¶Šå¤§çš„ï¼Œé‚£ä¹ˆå›å›½åæ€ä¹ˆæ‰èƒ½â€˜ç§‘å­¦ä¸Šç½‘â€™å‘¢ï¼Ÿä¹‹å‰åœ¨å›½å†…çš„æ—¶å€™ï¼Œæœ‰ä½¿ç”¨è¿‡Lanternï¼Œç¨³å®šæ€§å’Œé€Ÿåº¦éƒ½è¿˜æ˜¯ä¸é”™äº†ï¼Œå¯æƒœåæ¥è¢«å’Œè°äº†ã€‚æ‰€ä»¥ä»Šå¤©å‡†å¤‡å°è¯•æ­å»ºVPNï¼Œè‡ªå·±ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸€è¾¹æ­å»ºä¸€è¾¹å°†è¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚<br><a name="-2"></a></p><h1 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h1><p>VPS: VPSï¼ˆVirtual Private Server è™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨ï¼‰æŠ€æœ¯ï¼Œå°†ä¸€å°æœåŠ¡å™¨åˆ†å‰²æˆå¤šä¸ªè™šæ‹Ÿä¸“äº«æœåŠ¡å™¨çš„ä¼˜è´¨æœåŠ¡ã€‚å®ç°VPSçš„æŠ€æœ¯åˆ†ä¸ºå®¹å™¨ [1] æŠ€æœ¯ï¼Œå’Œè™šæ‹ŸåŒ–æŠ€æœ¯ [2] ã€‚åœ¨å®¹å™¨æˆ–è™šæ‹Ÿæœºä¸­ï¼Œæ¯ä¸ªVPSéƒ½å¯åˆ†é…ç‹¬ç«‹å…¬ç½‘IPåœ°å€ã€ç‹¬ç«‹æ“ä½œç³»ç»Ÿã€å®ç°ä¸åŒVPSé—´ç£ç›˜ç©ºé—´ã€å†…å­˜ã€CPUèµ„æºã€è¿›ç¨‹å’Œç³»ç»Ÿé…ç½®çš„éš”ç¦»ï¼Œä¸ºç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæ¨¡æ‹Ÿå‡ºâ€œç‹¬å â€ä½¿ç”¨è®¡ç®—èµ„æºçš„ä½“éªŒã€‚VPSå¯ä»¥åƒç‹¬ç«‹æœåŠ¡å™¨ä¸€æ ·ï¼Œé‡è£…æ“ä½œç³»ç»Ÿï¼Œå®‰è£…ç¨‹åºï¼Œå•ç‹¬é‡å¯æœåŠ¡å™¨ã€‚<br><br><br>VPSä¸ºä½¿ç”¨è€…æä¾›äº†ç®¡ç†é…ç½®çš„è‡ªç”±ï¼Œå¯ç”¨äºä¼ä¸šè™šæ‹ŸåŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºIDCèµ„æºç§Ÿç”¨ã€‚<br><br><br>VPN: VPNçš„å­¦åå«è™šæ‹Ÿä¸“ç”¨ç½‘ï¼Œæ´‹æ–‡å«â€œVirtual Private Networkâ€ã€‚ç»´åŸºç™¾ç§‘çš„ä»‹ç»åœ¨â€œè¿™é‡Œâ€ã€‚æœ¬æ¥è¿™ç©æ„å„¿ä¸»è¦æ˜¯ç”¨äºå•†ä¸šå…¬å¸ï¼Œä¸ºäº†è®©é‚£äº›ä¸åœ¨å…¬å¸é‡Œçš„å‘˜å·¥ï¼ˆæ¯”å¦‚å‡ºå·®åœ¨å¤–çš„ï¼‰èƒ½å¤Ÿæ–¹ä¾¿åœ°è®¿é—®å…¬å¸çš„å†…éƒ¨ç½‘ç»œã€‚ä¸ºäº†é˜²æ­¢é»‘å®¢å†’å……å…¬å¸çš„å‘˜å·¥ï¼Œä»å¤–éƒ¨è®¿é—®å…¬å¸çš„å†…éƒ¨ç½‘ç»œï¼ŒVPN è½¯ä»¶éƒ½ä¼šæä¾›å¼ºå¤§çš„åŠ å¯†åŠŸèƒ½ã€‚è€Œè¿™ä¸ªåŠ å¯†åŠŸèƒ½ï¼Œä¹Ÿå°±è®©å®ƒé¡ºä¾¿æˆä¸ºç¿»å¢™çš„åˆ©å™¨ã€‚<br><a name="-3"></a></p><h1 id="ç§‘å­¦ä¸Šç½‘åŸç†"><a href="#ç§‘å­¦ä¸Šç½‘åŸç†" class="headerlink" title="ç§‘å­¦ä¸Šç½‘åŸç†"></a>ç§‘å­¦ä¸Šç½‘åŸç†</h1><p>VPNæµè§ˆå¤–ç½‘çš„åŸç†<br><br><br>ä½¿ç”¨ VPN é€šå¸¸éœ€è¦å…ˆå®‰è£…å®¢æˆ·ç«¯è½¯ä»¶ã€‚å½“ä½ è¿è¡Œ VPN å®¢æˆ·ç«¯ï¼Œå®ƒä¼šå°è¯•è”åˆ° VPN æœåŠ¡å™¨ï¼ˆè¿™ç‚¹è·ŸåŠ å¯†ä»£ç†ç±»ä¼¼ï¼‰ã€‚ä¸€æ—¦å’Œ VPN æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒVPN å®¢æˆ·ç«¯å°±ä¼šåœ¨ä½ çš„ç³»ç»Ÿä¸­å»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ã€‚è€Œä¸”ï¼Œä½ çš„ç³»ç»Ÿä¸­ä¹Ÿä¼šå¤šå‡ºä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼ˆåœ¨ Windows ä¸‹ï¼Œå¯ä»¥ç”¨ ipconfig /all å‘½ä»¤ï¼Œçœ‹åˆ°è¿™å¤šå‡ºæ¥çš„ç½‘å¡ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ çš„ç³»ç»Ÿä¸­å°±æœ‰ä¸æ­¢ä¸€å—ç½‘å¡ã€‚è¿™å°±å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼šé‚£äº›è®¿é—®ç½‘ç»œçš„ç¨‹åºï¼Œå®ƒçš„æ•°æ®æµåº”è¯¥é€šè¿‡å“ªä¸ªç½‘å¡è¿›å‡ºï¼Ÿ<br>ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼ŒVPN å®¢æˆ·ç«¯é€šå¸¸ä¼šä¿®æ”¹ä½ ç³»ç»Ÿçš„è·¯ç”±è¡¨ï¼Œè®©é‚£äº›æ•°æ®æµï¼Œä¼˜å…ˆä»è™šæ‹Ÿçš„ç½‘å¡è¿›å‡ºã€‚ç”±äºè™šæ‹Ÿçš„ç½‘å¡æ˜¯é€šå¾€ VPN æœåŠ¡å™¨çš„ï¼Œå½“æ•°æ®æµåˆ°è¾¾ VPN æœåŠ¡å™¨ä¹‹åï¼ŒVPN æœåŠ¡å™¨å†å¸®ä½ æŠŠæ•°æ®æµè½¬å‘åˆ°çœŸæ­£çš„ç›®çš„åœ°ã€‚<br><br><br>å‰é¢è¯´äº†ï¼ŒVPN ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œéƒ½é‡‡ç”¨å¼ºåŠ å¯†çš„æ–¹å¼ä¼ è¾“æ•°æ®ã€‚è¿™æ ·ä¸€æ¥ï¼ŒGFW å°±æ— æ³•åˆ†æä½ çš„ç½‘ç»œæ•°æ®æµï¼Œè¿›è¡Œæ•æ„Ÿè¯è¿‡æ»¤ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨å¢™å¤–çš„VPNæœåŠ¡å™¨ï¼Œæ— å½¢ä¸­å°±èƒ½è¾¾åˆ°ç¿»å¢™çš„æ•ˆæœã€‚<br><a name="-4"></a></p><h1 id="æ–¹æ¡ˆé€‰æ‹©"><a href="#æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="æ–¹æ¡ˆé€‰æ‹©"></a>æ–¹æ¡ˆé€‰æ‹©</h1><p>VPNæ˜¯ä¸€ä¸ªå¤§ç±»ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šå®ç°çš„æ–¹æ³•ï¼Œé˜²ç«é•¿åŸç°åœ¨å°† VPN å±è”½çš„å·²ç»æ‰€å‰©æ— å‡ ï¼Œåæ¥å¤§å®¶çœ‹åˆ°äº†SSHï¼Œä½¿ç”¨SSHçš„sock5å¾ˆç¨³å®šï¼Œä½†æ˜¯ç‰¹å¾ä¹Ÿååˆ†æ˜æ˜¾ï¼Œé˜²ç«é•¿åŸå¯ä»¥å¯¹å…¶ç›´æ¥è¿›è¡Œå®šå‘å¹²æ‰°ã€‚<br><br><br>è€Œé™¤äº†VPNï¼Œå¯¹äºç¿»å¢™å¤§å®¶ä»ç„¶æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚Shadowsocks ã€Lanternã€VPNGate ç­‰ç­‰ï¼Œè€Œå®é™…ä¸Šæ— è®ºå“ªç§æ–¹å¼ï¼Œä»–ä»¬æœ¬èº«éƒ½éœ€è¦ä¸€å°æœåŠ¡å™¨ä½œä¸ºä¸­é—´äººè¿›è¡Œæ¶ˆæ¯ä¼ é€’ã€‚è€ŒVPSè™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨å°±ååˆ†é€‚åˆæ‹…å½“è¿™ä¸ªè§’è‰²ï¼Œå¹¶ä¸”ç”±äºVPSå¹³æ—¶å°±ä½œä¸ºå•†å“åœ¨å„ç±»äº‘æœåŠ¡å™¨å¹³å°ä¸Šå”®å–ï¼Œè‡ªè¡Œè´­ä¹°å¹¶æ­å»ºç›¸å½“æ–¹ä¾¿ï¼Œå”¯ä¸€éœ€è¦çš„å°±æ˜¯äººä»¬å¯¹äºæœåŠ¡å™¨çš„æ“ä½œæŠ€æœ¯ã€‚<br><br><br><strong>è€Œè¿™æ¬¡é€‰æ‹©çš„æ–¹æ¡ˆæ˜¯ï¼šVPS+Shadowsocks</strong><br>**<br>Shadowsocksç‰¹ç‚¹ï¼š<br><br><br>çœç”µï¼Œåœ¨ç”µé‡æŸ¥çœ‹é‡Œå‡ ä¹çœ‹ä¸åˆ°å®ƒçš„èº«å½±ï¼›<br><br><br>æ”¯æŒå¼€æœºè‡ªå¯åŠ¨ï¼Œä¸”æ–­ç½‘æ— å½±å“ï¼Œæ— éœ€æ‰‹åŠ¨é‡è¿ï¼Œæ–¹ä¾¿ç½‘ç»œä¸ç¨³å®šæˆ–è€…3G&amp;Wi-Fié¢‘ç¹åˆ‡æ¢çš„å°ä¼™ä¼´ï¼›<br><br><br>å¯ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå®‰å…¨å’Œé€Ÿåº¦çš„ä¿è¯ï¼›<br><br><br>æ”¯æŒåŒºåˆ†å›½å†…å¤–æµé‡ï¼Œä¼ ç»ŸVPNåœ¨ç¿»å‡ºå¢™å¤–åè®¿é—®å›½å†…ç«™ç‚¹ä¼šå˜æ…¢ï¼›<br><br><br>å¯å¯¹åº”ç”¨è®¾ç½®å•ç‹¬ä»£ç†ï¼Œ5.0ä¹‹åçš„ç³»ç»Ÿæ— éœ€rootã€‚<br><br><br>Shadowsocks ç›®å‰ä¸å®¹æ˜“è¢«å°æ€ä¸»è¦æ˜¯å› ä¸ºï¼š<br>å»ºç«‹åœ¨socks5åè®®ä¹‹ä¸Šï¼Œsocks5æ˜¯è¿ç”¨å¾ˆå¹¿æ³›çš„åè®®ï¼Œæ‰€ä»¥æ²¡åŠæ³•ç›´æ¥å°æ€socks5åè®®<br>ä½¿ç”¨socks5åè®®å»ºç«‹è¿æ¥ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨VPNä¸­çš„æœåŠ¡ç«¯èº«ä»½éªŒè¯å’Œå¯†é’¥åå•†è¿‡ç¨‹ã€‚è€Œæ˜¯åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç›´æ¥å†™æ­»å¯†é’¥å’ŒåŠ å¯†ç®—æ³•ã€‚æ‰€ä»¥é˜²ç«å¢™å¾ˆéš¾æ‰¾åˆ°æ˜æ˜¾çš„ç‰¹å¾ï¼Œå› ä¸ºè¿™å°±æ˜¯ä¸ªæ™®é€šçš„socks5åè®®ã€‚<br><br><br>Shadowsockæ­å»ºä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å¾ˆå¤šäººè‡ªå·±æ¶è®¾VPSæ­å»ºï¼Œä¸ªäººä½¿ç”¨æµé‡ä¹Ÿå¾ˆå°ï¼Œæ²¡æ³•é€šè¿‡æµé‡ç›‘æ§æ–¹å¼å°æ€ã€‚<br>è‡ªå®šä¹‰åŠ å¯†æ–¹å¼å’Œå¯†é’¥ã€‚å› ä¸ºåŠ å¯†ä¸»è¦ä¸»è¦æ˜¯é˜²æ­¢è¢«æ£€æµ‹ï¼Œæ‰€ä»¥è¦é€‰æ‹©å®‰å…¨ç³»æ•°é«˜çš„åŠ å¯†æ–¹å¼ã€‚ä¹‹å‰RC4ä¼šå¾ˆå®¹æ˜“è¢«ç ´è§£ï¼Œè€Œå¯¼è‡´è¢«å°æ€ã€‚æ‰€ä»¥ç°åœ¨æ¨èä½¿ç”¨AESåŠ å¯†ã€‚è€Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è‡ªå®šä¹‰å¯†é’¥ï¼Œæ³„éœ²çš„é£é™©ç›¸å¯¹è¾ƒå°ã€‚<br>æ‰€ä»¥å¦‚æœæ˜¯è‡ªå·±æ­å»ºçš„Shadosocksè¢«å°çš„æ¦‚ç‡å¾ˆå°ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹çš„Shadeowsocksï¼Œå¯†ç æ˜¯serverå®šçš„ï¼Œä½ çš„æ•°æ®å¾ˆå¯èƒ½é­å—åˆ°ä¸­é—´äººæ”»å‡»ã€‚<br><a name="-5"></a></p><h1 id="å¼€å·¥"><a href="#å¼€å·¥" class="headerlink" title="å¼€å·¥"></a>å¼€å·¥</h1><p><a name="vps"></a></p><h2 id="è´­ä¹°vps"><a href="#è´­ä¹°vps" class="headerlink" title="è´­ä¹°vps"></a>è´­ä¹°vps</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è´­ä¹°ä¸€å°å¢ƒå¤–çš„æœåŠ¡å™¨ï¼Œæ¥ç€æˆ‘ä»¬åœ¨è¿™å°äº‘æœåŠ¡å™¨é‡Œé¢å®‰è£…ä»£ç†æœåŠ¡ï¼Œé‚£ä¹ˆä»¥åæˆ‘ä»¬ä¸Šç½‘çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡å®ƒæ¥ä¸­è½¬ï¼Œè½»æ¾ç•…å¿«çš„ç•…æ¸¸å…¨ç½‘äº†ã€‚<br>è´­ä¹°VPS,æˆ‘é€‰æ‹©äº†<a href="https://www.vultr.com/" target="_blank" rel="external nofollow noopener noreferrer">vultr</a>ï¼Œå¤§å®¶ç”¨è¿‡éƒ½è¯´å¥½ï¼Œè´­ä¹°çš„è¿‡ç¨‹ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚<br><br><br>ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©ç¦»ä¸­å›½è¾ƒè¿‘å›½å®¶çš„æœåŠ¡å™¨ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400540784-be727007-a613-4b5b-a3d5-9b5fbf9734a7.png#align=left&display=inline&height=1468&name=step1.png&originHeight=1468&originWidth=3066&size=659813&status=done&style=none&width=3066" alt="step1.png"><br><br><br><br><br>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æœåŠ¡å™¨é…ç½®å’Œç³»ç»Ÿ<br><br><br>è¿™é‡Œï¼Œç³»ç»Ÿé€‰æ‹©çš„æ˜¯CentOS 7,é…ç½®çš„è¯ï¼Œå¦‚æœåªæ˜¯è‡ªå·±æµè§ˆç½‘é¡µçš„è¯ï¼Œé€‰æ‹©æœ€ä½é…ç½®å°±å¥½ã€‚å…¶ä»–çš„é€‰é¡¹å¯ä»¥ç•¥è¿‡ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400556831-e2446e46-8c7e-4292-97a8-b89e6d983c9c.png#align=left&display=inline&height=1594&name=step2.png&originHeight=1594&originWidth=2792&size=669959&status=done&style=none&width=2792" alt="step2.png"><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235703-e6afdea2-828f-42a0-a955-67960c8710bc.png#align=left&display=inline&height=1812&originHeight=1812&originWidth=2600&size=0&status=done&style=none&width=2600" alt><br><br><br>ç¬¬ä¸‰æ­¥ï¼šæ”¯ä»˜å’Œéƒ¨ç½²<br><br><br>æ”¯ä»˜å¯ä»¥é€‰æ‹©æ”¯ä»˜å®æ”¯ä»˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚è´­ä¹°æˆåŠŸåï¼Œç‚¹å‡»Serverä¸­çš„â€œ+â€å·ï¼Œæ¥éƒ¨ç½²ä½ åˆšåˆšé€‰æ‹©çš„æœåŠ¡å™¨ã€‚<br>ç¬¬å››æ­¥ï¼šç™»é™†æœåŠ¡å™¨<br><br><br>æŸ¥çœ‹æœåŠ¡å™¨è¯¦æƒ… Server Details,æ ¹æ®æä¾›çš„æœåŠ¡å™¨ä¿¡æ¯ï¼Œç™»é™†æœåŠ¡å™¨ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235150-95a87ca7-8392-404e-a5d9-c4a606b8ae7e.png#align=left&display=inline&height=1166&originHeight=1166&originWidth=2728&size=0&status=done&style=none&width=2728" alt><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235639-e36e0afa-200d-49ad-a324-350004d08d09.png#align=left&display=inline&height=1232&originHeight=1232&originWidth=2612&size=0&status=done&style=none&width=2612" alt><br><br><br>æˆ‘æ˜¯ä½¿ç”¨Macæœ¬èº«ç»ˆç«¯sshåˆ°æœåŠ¡å™¨ä¸Šçš„ï¼Œå› ä¸ºMacä¸Šå¤šæ•°çš„SSHå®¢æˆ·ç«¯è¦ä¹ˆæ”¶è´¹ï¼Œè¦ä¹ˆä¸å¥½ç”¨ï¼Œè¦ä¹ˆå®‰è£…è¿‡ç¨‹éå¸¸ç¹çã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p <span class="number">22</span> root@ip</span><br></pre></td></tr></table></figure><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235316-408c45f7-df95-4c8c-9428-9f476c6c7190.png#align=left&display=inline&height=244&originHeight=244&originWidth=1304&size=0&status=done&style=none&width=1304" alt><br><a name="shadowsocks"></a></p><h2 id="æ­å»ºshadowsocksæœåŠ¡å™¨"><a href="#æ­å»ºshadowsocksæœåŠ¡å™¨" class="headerlink" title="æ­å»ºshadowsocksæœåŠ¡å™¨"></a>æ­å»ºshadowsocksæœåŠ¡å™¨</h2><p>è¿æ¥åˆ°ä½ çš„ vultr æœåŠ¡å™¨ä¹‹åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨å‡ ä¸ªå‘½ä»¤è®©ä½ å¿«é€Ÿæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ ss æœåŠ¡å™¨ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install wget</span><br></pre></td></tr></table></figure><p><br>æ¥ç€æ‰§è¡Œå®‰è£…shadowsocksï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget â€“no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</span><br></pre></td></tr></table></figure><p><br>è·å– <a href="http://shadowsocks.sh/" target="_blank" rel="external nofollow noopener noreferrer">shadowsocks.sh</a> è¯»å–æƒé™ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x shadowsocks.sh</span><br></pre></td></tr></table></figure><p><br>è®¾ç½®ä½ çš„ ss å¯†ç å’Œç«¯å£å·ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./shadowsocks.sh <span class="number">2</span>&gt;&amp;<span class="number">1</span> | tee shadowsocks.log</span><br></pre></td></tr></table></figure><p><br>æ¥ä¸‹æ¥åå°±å¯ä»¥è®¾ç½®å¯†ç å’Œç«¯å£å·äº†<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400236071-267db22c-ea03-4f8b-969d-86ae5efc4d68.png#align=left&display=inline&height=306&originHeight=306&originWidth=1086&size=0&status=done&style=none&width=1086" alt><br><br><br>å¯†ç å’Œç«¯å£å·å¯ä»¥ä½¿ç”¨é»˜è®¤çš„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é‡æ–°è¾“å…¥æ–°çš„ã€‚<br>é€‰æ‹©åŠ å¯†æ–¹å¼<br><br><br>è®¾ç½®å®Œå¯†ç å’Œç«¯å£å·ä¹‹åï¼Œæˆ‘ä»¬é€‰æ‹©åŠ å¯†æ–¹å¼ï¼Œè¿™é‡Œé€‰æ‹© 7 ï¼Œä½¿ç”¨aes-256-cfbçš„åŠ å¯†æ¨¡å¼<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235435-525e1564-eb61-47e0-b9b1-a28683979702.png#align=left&display=inline&height=684&originHeight=684&originWidth=914&size=0&status=done&style=none&width=914" alt><br><br><br>æ¥ç€æŒ‰ä»»æ„é”®è¿›è¡Œå®‰è£…ã€‚<br>å®‰è£…sså®Œæˆå<br><br><br>ä¼šç»™ä½ æ˜¾ç¤ºä½ éœ€è¦è¿æ¥ vpn çš„ä¿¡æ¯ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400239145-4d70810e-bc73-4cfa-bc8c-4da35e3e0dcf.png#align=left&display=inline&height=464&originHeight=464&originWidth=1186&size=0&status=done&style=none&width=1186" alt><br>æå®šï¼Œå°†è¿™äº›ä¿¡æ¯ä¿å­˜èµ·æ¥ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç§‘å­¦ä¸Šç½‘å•¦ã€‚<br><a name="bbr"></a></p><h2 id="ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘"><a href="#ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘" class="headerlink" title="ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘"></a>ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘</h2><p>å®‰è£… BBR<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh</span><br></pre></td></tr></table></figure><p><br>è·å–è¯»å†™æƒé™<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x bbr.sh</span><br></pre></td></tr></table></figure><p><br>å¯åŠ¨BBRå®‰è£…<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bbr.sh</span><br></pre></td></tr></table></figure><p><br>æ¥ç€æŒ‰ä»»æ„é”®ï¼Œå¼€å§‹å®‰è£…ï¼Œåç­‰ä¸€ä¼šã€‚å®‰è£…å®Œæˆä¸€ä¼šä¹‹åå®ƒä¼šæç¤ºæˆ‘ä»¬æ˜¯å¦é‡æ–°å¯åŠ¨vpsï¼Œæˆ‘ä»¬è¾“å…¥ y ç¡®å®šé‡å¯æœåŠ¡å™¨ã€‚<br>é‡æ–°å¯åŠ¨ä¹‹åï¼Œè¾“å…¥ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p><br>å¦‚æœçœ‹åˆ° tcp_bbr å°±è¯´æ˜ BBR å·²ç»å¯åŠ¨äº†ã€‚<br><a name="-6"></a></p><h2 id="å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥"><a href="#å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥" class="headerlink" title="å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥"></a>å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥</h2><p><a name="windowsshadowsocks"></a></p><h3 id="windowsä½¿ç”¨Shadowsocks"><a href="#windowsä½¿ç”¨Shadowsocks" class="headerlink" title="windowsä½¿ç”¨Shadowsocks"></a>windowsä½¿ç”¨Shadowsocks</h3><p>windowsç‚¹å‡»ä¸‹è½½ï¼š<a href="https://pan.baidu.com/s/19m0AfTkPDSRj0bfYrGpbIg" target="_blank" rel="external nofollow noopener noreferrer">Shadowsocks windowså®¢æˆ·ç«¯</a><br>æ‰“å¼€ Shadowsocks å®¢æˆ·ç«¯ï¼Œè¾“å…¥ipåœ°å€ï¼Œå¯†ç ï¼Œç«¯å£ï¼Œå’ŒåŠ å¯†æ–¹å¼ã€‚æ¥ç€ç‚¹å‡»ç¡®å®šï¼Œå³ä¸‹è§’ä¼šæœ‰ä¸ªå°é£æœºæŒ‰é’®ï¼Œå³é”®â€“&gt;å¯åŠ¨ä»£ç†ã€‚<br><a name="androidshadowsocks"></a></p><h3 id="Androidä½¿ç”¨Shadowsocks"><a href="#Androidä½¿ç”¨Shadowsocks" class="headerlink" title="Androidä½¿ç”¨Shadowsocks"></a>Androidä½¿ç”¨Shadowsocks</h3><p>Androidç‚¹å‡»ä¸‹è½½ï¼š<a href="https://pan.baidu.com/s/1coAkZn-GuYHu5eIKaHECxA" target="_blank" rel="external nofollow noopener noreferrer">Shadowsocks Androidå®¢æˆ·ç«¯</a><br>æ‰“å¼€apkå®‰è£…ï¼Œæ¥ç€æ‰“å¼€APPï¼Œè¾“å…¥ipåœ°å€ï¼Œå¯†ç ï¼Œç«¯å£ï¼Œå’ŒåŠ å¯†æ–¹å¼ã€‚å³å¯ç§‘å­¦ä¸Šç½‘ã€‚<br><a name="iphoneshadowsocks"></a></p><h3 id="iPhoneä½¿ç”¨Shadowsocks"><a href="#iPhoneä½¿ç”¨Shadowsocks" class="headerlink" title="iPhoneä½¿ç”¨Shadowsocks"></a>iPhoneä½¿ç”¨Shadowsocks</h3><p>iPhoneè¦ä¸‹è½½çš„appéœ€è¦åœ¨appstoreä¸‹è½½ï¼Œä½†æ˜¯éœ€è¦ç”¨ç¾åŒºè´¦å·æ‰èƒ½ä¸‹è½½ï¼Œè€Œä¸”è¿™ä¸ªAPPéœ€è¦é’±ã€‚åœ¨è¿™é‡Œæä¾›ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯å¯ä»¥å†æ­å»ºä¸€ä¸ª<a href="https://wistbean.github.io/ipsec,l2tp_vpn.html#%E4%BD%BF%E7%94%A8-IPsec-L2TP-%E8%84%9A%E6%9C%AC%E6%90%AD%E5%BB%BA" target="_blank" rel="external nofollow noopener noreferrer">IPsec/L2TP</a> VPN,ä¸“é—¨ç»™ä½ çš„iPhoneä½¿ç”¨ã€‚<br><a name="mac"></a></p><h3 id="Macé…ç½®"><a href="#Macé…ç½®" class="headerlink" title="Macé…ç½®"></a>Macé…ç½®</h3><p>ç”¨çš„æ˜¯Macç”µè„‘ï¼Œæ‰€ä»¥ç‚¹å‡»ç›¸å…³é“¾æ¥ã€‚ä¸œè¥¿éƒ½æŒ‚åœ¨githubä¸Šï¼Œä¸‹è½½å¯¹åº”çš„zipæ–‡ä»¶ï¼Œä¸‹è½½å®Œæˆåå®‰è£…å¹¶è¿è¡Œèµ·æ¥ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235178-7ccd25cd-8b34-4103-8cc8-204e84672cfe.png#align=left&display=inline&height=748&originHeight=748&originWidth=1302&size=0&status=done&style=none&width=1302" alt><br><br><br>ç‚¹å‡»å›¾æ ‡ï¼Œè¿›å…¥ æœåŠ¡å™¨è®¾ç½®<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400239120-45698c54-ac3b-48b9-9c4d-9f3537938f87.png#align=left&display=inline&height=926&originHeight=926&originWidth=1302&size=0&status=done&style=none&width=1302" alt><br><br><br>ä¸»è¦æœ‰å››ä¸ªåœ°æ–¹è¦å¡«ï¼ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œç«¯å£å·ï¼ŒåŠ å¯†æ–¹æ³•ï¼Œå¯†ç ã€‚æœåŠ¡å™¨åœ°å€å³ä¸ºä¹‹å‰ Main controlsé€‰é¡¹ä¸­çš„IPåœ°å€ã€‚ç«¯å£å·ã€åŠ å¯†æ–¹æ³•ã€å¯†ç å¿…é¡»ä¸ä¹‹å‰ Shadowsocks Server ä¸­çš„ä¿¡æ¯ä¸€ä¸€åŒ¹é…ï¼Œå¦åˆ™ä¼šè¿æ¥å¤±è´¥ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235629-2861fc8f-5bfc-4610-993f-49064774e693.png#align=left&display=inline&height=1156&originHeight=1156&originWidth=1292&size=0&status=done&style=none&width=1292" alt><br><br><br>è®¾ç½®å®Œæˆåç‚¹å‡»ç¡®å®šï¼Œç„¶åæœåŠ¡å™¨é€‰æ‹©è¿™ä¸ªé…ç½®ï¼Œé»˜è®¤é€‰ä¸­PACè‡ªåŠ¨æ¨¡å¼ï¼Œç¡®ä¿ShadowsocksçŠ¶æ€ä¸ºOnï¼Œè¿™æ—¶å€™æ‰“å¼€è°·æ­Œè¯•è¯•~<br>æ¥ç€å°±å¯ä»¥ä¸Šå¤–ç½‘äº† ğŸ˜‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
    
    
      <category term="shadowsock" scheme="cpeixin.cn/tags/shadowsock/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-K-Means_1</title>
    <link href="cpeixin.cn/2019/02/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-K-Means-1/"/>
    <id>cpeixin.cn/2019/02/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-K-Means-1/</id>
    <published>2019-02-01T15:26:13.000Z</published>
    <updated>2020-03-27T15:30:41.268Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>K-Means æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ ï¼Œè§£å†³çš„æ˜¯èšç±»é—®é¢˜ã€‚K ä»£è¡¨çš„æ˜¯ K ç±»ï¼ŒMeans ä»£è¡¨çš„æ˜¯ä¸­å¿ƒï¼Œä½ å¯ä»¥ç†è§£è¿™ä¸ªç®—æ³•çš„æœ¬è´¨æ˜¯ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Œå½“ä½ æ‰¾åˆ°äº†è¿™äº›ä¸­å¿ƒç‚¹ï¼Œä¹Ÿå°±å®Œæˆäº†èšç±»ã€‚<br><br><br>é‚£ä¹ˆè¯·ä½ å’Œæˆ‘æ€è€ƒä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li>å¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿ</li><li>å¦‚ä½•å°†å…¶ä»–ç‚¹åˆ’åˆ†åˆ° K ç±»ä¸­ï¼Ÿ</li><li>å¦‚ä½•åŒºåˆ† K-Means ä¸ KNNï¼Ÿ</li></ul><p><br>å¦‚æœç†è§£äº†ä¸Šé¢è¿™ 3 ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆå¯¹ K-Means çš„åŸç†æŒæ¡å¾—ä¹Ÿå°±å·®ä¸å¤šäº†ã€‚å…ˆè¯·ä½ å’Œæˆ‘æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œå‡è®¾æˆ‘æœ‰ 20 æ”¯äºšæ´²è¶³çƒé˜Ÿï¼Œæƒ³è¦å°†å®ƒä»¬æŒ‰ç…§æˆç»©åˆ’åˆ†æˆ 3 ä¸ªç­‰çº§ï¼Œå¯ä»¥æ€æ ·åˆ’åˆ†ï¼Ÿ<br></p><p><a name="tdJch"></a></p><h3 id="K-Means-çš„å·¥ä½œåŸç†"><a href="#K-Means-çš„å·¥ä½œåŸç†" class="headerlink" title="K-Means çš„å·¥ä½œåŸç†"></a>K-Means çš„å·¥ä½œåŸç†</h3><p><br>å¯¹äºšæ´²è¶³çƒé˜Ÿçš„æ°´å¹³ï¼Œä½ å¯èƒ½ä¹Ÿæœ‰è‡ªå·±çš„åˆ¤æ–­ã€‚æ¯”å¦‚ä¸€æµçš„äºšæ´²çƒé˜Ÿæœ‰è°ï¼Ÿä½ å¯èƒ½ä¼šè¯´ä¼Šæœ—æˆ–éŸ©å›½ã€‚äºŒæµçš„äºšæ´²çƒé˜Ÿå‘¢ï¼Ÿä½ å¯èƒ½è¯´æ˜¯ä¸­å›½ã€‚ä¸‰æµçš„äºšæ´²çƒé˜Ÿå‘¢ï¼Ÿä½ å¯èƒ½ä¼šè¯´è¶Šå—ã€‚å…¶å®è¿™äº›éƒ½æ˜¯é æˆ‘ä»¬çš„ç»éªŒæ¥åˆ’åˆ†çš„ï¼Œé‚£ä¹ˆä¼Šæœ—ã€ä¸­å›½ã€è¶Šå—å¯ä»¥è¯´æ˜¯ä¸‰ä¸ªç­‰çº§çš„å…¸å‹ä»£è¡¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¯ä¸ªç±»çš„ä¸­å¿ƒç‚¹ã€‚<br><br><br>æ‰€ä»¥å›è¿‡å¤´æ¥ï¼Œå¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿä¸€å¼€å§‹æˆ‘ä»¬æ˜¯å¯ä»¥éšæœºæŒ‡æ´¾çš„ï¼Œå½“ä½ ç¡®è®¤äº†ä¸­å¿ƒç‚¹åï¼Œå°±å¯ä»¥æŒ‰ç…§è·ç¦»å°†å…¶ä»–è¶³çƒé˜Ÿåˆ’åˆ†åˆ°ä¸åŒçš„ç±»åˆ«ä¸­ã€‚è¿™ä¹Ÿå°±æ˜¯ K-Means çš„ä¸­å¿ƒæ€æƒ³ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ç›´æ¥ã€‚<br><br><br>ä½ å¯èƒ½ä¼šé—®ï¼šå¦‚æœä¸€å¼€å§‹ï¼Œé€‰æ‹©ä¸€æµçƒé˜Ÿæ˜¯ä¸­å›½ï¼ŒäºŒæµçƒé˜Ÿæ˜¯ä¼Šæœ—ï¼Œä¸‰æµçƒé˜Ÿæ˜¯éŸ©å›½ï¼Œä¸­å¿ƒç‚¹é€‰æ‹©é”™äº†æ€ä¹ˆåŠï¼Ÿå…¶å®ä¸ç”¨æ‹…å¿ƒï¼ŒK-Means æœ‰è‡ªæˆ‘çº æ­£æœºåˆ¶ï¼Œåœ¨ä¸æ–­çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¼šçº æ­£ä¸­å¿ƒç‚¹ã€‚ä¸­å¿ƒç‚¹åœ¨æ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸æ˜¯å”¯ä¸€çš„ï¼Œåªæ˜¯ä½ éœ€è¦ä¸€ä¸ªåˆå§‹å€¼ï¼Œä¸€èˆ¬ç®—æ³•ä¼šéšæœºè®¾ç½®åˆå§‹çš„ä¸­å¿ƒç‚¹ã€‚å¥½äº†ï¼Œé‚£æˆ‘æ¥æŠŠ K-Means çš„å·¥ä½œåŸç†ç»™ä½ æ€»ç»“ä¸‹ï¼š<br></p><ol><li>é€‰å– K ä¸ªç‚¹ä½œä¸ºåˆå§‹çš„ç±»ä¸­å¿ƒç‚¹ï¼Œè¿™äº›ç‚¹ä¸€èˆ¬éƒ½æ˜¯ä»æ•°æ®é›†ä¸­éšæœºæŠ½å–çš„ï¼›</li><li>å°†æ¯ä¸ªç‚¹åˆ†é…åˆ°æœ€è¿‘çš„ç±»ä¸­å¿ƒç‚¹ï¼Œè¿™æ ·å°±å½¢æˆäº† K ä¸ªç±»ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼›</li><li>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°ç±»ä¸å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œè¿™æ ·å³ä½¿ç±»ä¸­å¿ƒç‚¹å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯åªè¦è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°å°±ä¼šç»“æŸã€‚</li></ol><p><a name="WeqHb"></a></p><h3 id="å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»"><a href="#å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»" class="headerlink" title="å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»"></a>å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»</h3><p><br>å¯¹äºæœºå™¨æ¥è¯´éœ€è¦æ•°æ®æ‰èƒ½åˆ¤æ–­ç±»ä¸­å¿ƒç‚¹ï¼Œæ‰€ä»¥æˆ‘æ•´ç†äº† 2015-2019 å¹´äºšæ´²çƒé˜Ÿçš„æ’åï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚æˆ‘æ¥è¯´æ˜ä¸€ä¸‹æ•°æ®æ¦‚å†µã€‚å…¶ä¸­ 2019 å¹´å›½é™…è¶³è”çš„ä¸–ç•Œæ’åï¼Œ2015 å¹´äºšæ´²æ¯æ’åå‡ä¸ºå®é™…æ’åã€‚2018 å¹´ä¸–ç•Œæ¯ä¸­ï¼Œå¾ˆå¤šçƒé˜Ÿæ²¡æœ‰è¿›å…¥åˆ°å†³èµ›åœˆï¼Œæ‰€ä»¥åªæœ‰è¿›å…¥åˆ°å†³èµ›åœˆçš„çƒé˜Ÿæ‰æœ‰å®é™…çš„æ’åã€‚å¦‚æœæ˜¯äºšæ´²åŒºé¢„é€‰èµ› 12 å¼ºçš„çƒé˜Ÿï¼Œæ’åä¼šè®¾ç½®ä¸º 40ã€‚å¦‚æœæ²¡æœ‰è¿›å…¥äºšæ´²åŒºé¢„é€‰èµ› 12 å¼ºï¼Œçƒé˜Ÿæ’åä¼šè®¾ç½®ä¸º 50ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319665552-bf820517-59c1-4c80-97ea-7e8c4add82cc.png#align=left&display=inline&height=794&name=d8ac2a98aa728d64f919bac088ed574a.png&originHeight=794&originWidth=784&size=75133&status=done&style=none&width=784" alt="d8ac2a98aa728d64f919bac088ed574a.png"><br><br><br>é’ˆå¯¹ä¸Šé¢çš„æ’åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åšçš„æ˜¯æ•°æ®è§„èŒƒåŒ–ã€‚ä½ å¯ä»¥æŠŠè¿™äº›å€¼åˆ’åˆ†åˆ°[0,1]æˆ–è€…æŒ‰ç…§å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1 çš„æ­£æ€åˆ†å¸ƒè¿›è¡Œè§„èŒƒåŒ–ã€‚æˆ‘å…ˆæŠŠæ•°å€¼éƒ½è§„èŒƒåŒ–åˆ°[0,1]çš„ç©ºé—´ä¸­ï¼Œå¾—åˆ°äº†ä»¥ä¸‹çš„æ•°å€¼è¡¨ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319721708-569fa0e7-9ae2-4f5e-8d72-73c785cd5d79.png#align=left&display=inline&height=789&name=a722eeab035fb13751a6dc5c0530ed17.png&originHeight=789&originWidth=726&size=104223&status=done&style=none&width=726" alt="a722eeab035fb13751a6dc5c0530ed17.png"><br><br><br>å¦‚æœæˆ‘ä»¬éšæœºé€‰å–ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½ä¸ºä¸‰ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼Œæˆ‘ä»¬å°±éœ€è¦çœ‹ä¸‹è¿™äº›çƒé˜Ÿåˆ°ä¸­å¿ƒç‚¹çš„è·ç¦»ã€‚è·ç¦»æœ‰å¤šç§è®¡ç®—çš„æ–¹å¼ï¼Œæœ‰å…³è·ç¦»çš„è®¡ç®—æˆ‘åœ¨ KNN ç®—æ³•ä¸­ä¹Ÿè®²åˆ°è¿‡ï¼š</p><ul><li>æ¬§æ°è·ç¦»</li><li>æ›¼å“ˆé¡¿è·ç¦»</li><li>åˆ‡æ¯”é›ªå¤«è·ç¦»</li><li>ä½™å¼¦è·ç¦»</li></ul><p><br>æ¬§æ°è·ç¦»æ˜¯æœ€å¸¸ç”¨çš„è·ç¦»è®¡ç®—æ–¹å¼ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©æ¬§æ°è·ç¦»ä½œä¸ºè·ç¦»çš„æ ‡å‡†ï¼Œè®¡ç®—æ¯ä¸ªé˜Ÿä¼åˆ†åˆ«åˆ°ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½çš„è·ç¦»ï¼Œç„¶åæ ¹æ®è·ç¦»è¿œè¿‘æ¥åˆ’åˆ†ã€‚æˆ‘ä»¬çœ‹åˆ°å¤§éƒ¨åˆ†çš„é˜Ÿï¼Œä¼šå’Œä¸­å›½é˜Ÿèšç±»åˆ°ä¸€èµ·ã€‚è¿™é‡Œæˆ‘æ•´ç†äº†è·ç¦»çš„è®¡ç®—è¿‡ç¨‹ï¼Œæ¯”å¦‚ä¸­å›½å’Œä¸­å›½çš„æ¬§æ°è·ç¦»ä¸º 0ï¼Œä¸­å›½å’Œæ—¥æœ¬çš„æ¬§å¼è·ç¦»ä¸º 0.732003ã€‚å¦‚æœæŒ‰ç…§ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½ä¸º 3 ä¸ªåˆ†ç±»çš„ä¸­å¿ƒç‚¹ï¼Œæ¬§æ°è·ç¦»çš„è®¡ç®—ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319859553-47a6149f-6259-4ce9-814c-31982c39c9fd.png#align=left&display=inline&height=828&name=b603ccdb93420c8455aea7278efaece9.png&originHeight=828&originWidth=616&size=115865&status=done&style=none&width=616" alt="b603ccdb93420c8455aea7278efaece9.png"><br><br><br>ç„¶åæˆ‘ä»¬å†é‡æ–°è®¡ç®—è¿™ä¸‰ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼Œå¦‚ä½•è®¡ç®—å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å–å¹³å‡å€¼ï¼Œç„¶åæ ¹æ®æ–°çš„ä¸­å¿ƒç‚¹æŒ‰ç…§è·ç¦»è¿œè¿‘é‡æ–°åˆ†é…çƒé˜Ÿçš„åˆ†ç±»ï¼Œå†æ ¹æ®çƒé˜Ÿçš„åˆ†ç±»æ›´æ–°ä¸­å¿ƒç‚¹çš„ä½ç½®ã€‚è®¡ç®—è¿‡ç¨‹è¿™é‡Œä¸å±•å¼€ï¼Œæœ€åä¸€ç›´è¿­ä»£ï¼ˆé‡å¤ä¸Šè¿°çš„è®¡ç®—è¿‡ç¨‹ï¼šè®¡ç®—ä¸­å¿ƒç‚¹å’Œåˆ’åˆ†åˆ†ç±»ï¼‰åˆ°åˆ†ç±»ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹çš„åˆ†ç±»ç»“æœï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585320001148-d48868fc-bab4-48c4-bc62-9b8007a29b54.png#align=left&display=inline&height=919&name=12c6039884ee99742fbbebf198425998.png&originHeight=919&originWidth=865&size=185098&status=done&style=none&width=865" alt="12c6039884ee99742fbbebf198425998.png"><br><br><br>æ‰€ä»¥æˆ‘ä»¬èƒ½çœ‹å‡ºæ¥ç¬¬ä¸€æ¢¯é˜Ÿæœ‰æ—¥æœ¬ã€éŸ©å›½ã€ä¼Šæœ—ã€æ²™ç‰¹ã€æ¾³æ´²ï¼›ç¬¬äºŒæ¢¯é˜Ÿæœ‰ä¸­å›½ã€ä¼Šæ‹‰å…‹ã€é˜¿è”é…‹ã€ä¹Œå…¹åˆ«å…‹æ–¯å¦ï¼›ç¬¬ä¸‰æ¢¯é˜Ÿæœ‰å¡å¡”å°”ã€æ³°å›½ã€è¶Šå—ã€é˜¿æ›¼ã€å·´æ—ã€æœé²œã€å°å°¼ã€å™åˆ©äºšã€çº¦æ—¦ã€ç§‘å¨ç‰¹å’Œå·´å‹’æ–¯å¦ã€‚<br></p><p><a name="vFDux"></a></p><h3 id="å¦‚ä½•ä½¿ç”¨-sklearn-ä¸­çš„-K-Means-ç®—æ³•"><a href="#å¦‚ä½•ä½¿ç”¨-sklearn-ä¸­çš„-K-Means-ç®—æ³•" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ sklearn ä¸­çš„ K-Means ç®—æ³•"></a>å¦‚ä½•ä½¿ç”¨ sklearn ä¸­çš„ K-Means ç®—æ³•</h3><p><br>sklearn æ˜¯ Python çš„æœºå™¨å­¦ä¹ å·¥å…·åº“ï¼Œå¦‚æœä»åŠŸèƒ½ä¸Šæ¥åˆ’åˆ†ï¼Œsklearn å¯ä»¥å®ç°åˆ†ç±»ã€èšç±»ã€å›å½’ã€é™ç»´ã€æ¨¡å‹é€‰æ‹©å’Œé¢„å¤„ç†ç­‰åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ sklearn çš„èšç±»å‡½æ•°åº“ï¼Œå› æ­¤éœ€è¦å¼•ç”¨å·¥å…·åŒ…ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br></pre></td></tr></table></figure><p><br>å½“ç„¶ K-Means åªæ˜¯ sklearn.cluster ä¸­çš„ä¸€ä¸ªèšç±»åº“ï¼Œå®é™…ä¸ŠåŒ…æ‹¬ K-Means åœ¨å†…ï¼Œsklearn.cluster ä¸€å…±æä¾›äº† 9 ç§èšç±»æ–¹æ³•ï¼Œæ¯”å¦‚ Mean-shiftï¼ŒDBSCANï¼ŒSpectral clusteringï¼ˆè°±èšç±»ï¼‰ç­‰ã€‚è¿™äº›èšç±»æ–¹æ³•çš„åŸç†å’Œ K-Means ä¸åŒï¼Œè¿™é‡Œä¸åšä»‹ç»ã€‚æˆ‘ä»¬çœ‹ä¸‹ K-Means å¦‚ä½•åˆ›å»ºï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KMeans(n_clusters=<span class="number">8</span>, init=<span class="string">'k-means++'</span>, n_init=<span class="number">10</span>, max_iter=<span class="number">300</span>, tol=<span class="number">0.0001</span>, precompute_distances=<span class="string">'auto'</span>, verbose=<span class="number">0</span>, random_state=<span class="literal">None</span>, copy_x=<span class="literal">True</span>, n_jobs=<span class="number">1</span>, algorithm=<span class="string">'auto'</span>)</span><br></pre></td></tr></table></figure><p><br>æˆ‘ä»¬èƒ½çœ‹åˆ°åœ¨ K-Means ç±»åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›ä¸»è¦çš„å‚æ•°ï¼š</p><ul><li>n_clusters: å³ K å€¼ï¼Œä¸€èˆ¬éœ€è¦å¤šè¯•ä¸€äº› K å€¼æ¥ä¿è¯æ›´å¥½çš„èšç±»æ•ˆæœã€‚ä½ å¯ä»¥éšæœºè®¾ç½®ä¸€äº› K å€¼ï¼Œç„¶åé€‰æ‹©èšç±»æ•ˆæœæœ€å¥½çš„ä½œä¸ºæœ€ç»ˆçš„ K å€¼ï¼›</li><li>max_iterï¼š æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œå¦‚æœèšç±»å¾ˆéš¾æ”¶æ•›çš„è¯ï¼Œè®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°å¯ä»¥è®©æˆ‘ä»¬åŠæ—¶å¾—åˆ°åé¦ˆç»“æœï¼Œå¦åˆ™ç¨‹åºè¿è¡Œæ—¶é—´ä¼šéå¸¸é•¿ï¼›</li><li>n_initï¼šåˆå§‹åŒ–ä¸­å¿ƒç‚¹çš„è¿ç®—æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 10ã€‚ç¨‹åºæ˜¯å¦èƒ½å¿«é€Ÿæ”¶æ•›å’Œä¸­å¿ƒç‚¹çš„é€‰æ‹©å…³ç³»éå¸¸å¤§ï¼Œæ‰€ä»¥åœ¨ä¸­å¿ƒç‚¹é€‰æ‹©ä¸Šå¤šèŠ±ä¸€äº›æ—¶é—´ï¼Œæ¥äº‰å–æ•´ä½“æ—¶é—´ä¸Šçš„å¿«é€Ÿæ”¶æ•›è¿˜æ˜¯éå¸¸å€¼å¾—çš„ã€‚ç”±äºæ¯ä¸€æ¬¡ä¸­å¿ƒç‚¹éƒ½æ˜¯éšæœºç”Ÿæˆçš„ï¼Œè¿™æ ·å¾—åˆ°çš„ç»“æœå°±æœ‰å¥½æœ‰åï¼Œéå¸¸ä¸ç¡®å®šï¼Œæ‰€ä»¥è¦è¿è¡Œ n_init æ¬¡, å–å…¶ä¸­æœ€å¥½çš„ä½œä¸ºåˆå§‹çš„ä¸­å¿ƒç‚¹ã€‚å¦‚æœ K å€¼æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œä½ å¯ä»¥é€‚å½“å¢å¤§ n_init è¿™ä¸ªå€¼ï¼›</li><li>initï¼š å³åˆå§‹å€¼é€‰æ‹©çš„æ–¹å¼ï¼Œé»˜è®¤æ˜¯é‡‡ç”¨ä¼˜åŒ–è¿‡çš„ k-means++ æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šä¸­å¿ƒç‚¹ï¼Œæˆ–è€…é‡‡ç”¨ random å®Œå…¨éšæœºçš„æ–¹å¼ã€‚è‡ªå·±è®¾ç½®ä¸­å¿ƒç‚¹ä¸€èˆ¬æ˜¯å¯¹äºä¸ªæ€§åŒ–çš„æ•°æ®è¿›è¡Œè®¾ç½®ï¼Œå¾ˆå°‘é‡‡ç”¨ã€‚random çš„æ–¹å¼åˆ™æ˜¯å®Œå…¨éšæœºçš„æ–¹å¼ï¼Œä¸€èˆ¬æ¨èé‡‡ç”¨ä¼˜åŒ–è¿‡çš„ k-means++ æ–¹å¼ï¼›</li><li>algorithmï¼šk-means çš„å®ç°ç®—æ³•ï¼Œæœ‰â€œautoâ€ â€œfullâ€â€œelkanâ€ä¸‰ç§ã€‚ä¸€èˆ¬æ¥è¯´å»ºè®®ç›´æ¥ç”¨é»˜è®¤çš„â€autoâ€ã€‚ç®€å•è¯´ä¸‹è¿™ä¸‰ä¸ªå–å€¼çš„åŒºåˆ«ï¼Œå¦‚æœä½ é€‰æ‹©â€fullâ€é‡‡ç”¨çš„æ˜¯ä¼ ç»Ÿçš„ K-Means ç®—æ³•ï¼Œâ€œautoâ€ä¼šæ ¹æ®æ•°æ®çš„ç‰¹ç‚¹è‡ªåŠ¨é€‰æ‹©æ˜¯é€‰æ‹©â€œfullâ€è¿˜æ˜¯â€œelkanâ€ã€‚æˆ‘ä»¬ä¸€èˆ¬é€‰æ‹©é»˜è®¤çš„å–å€¼ï¼Œå³â€œautoâ€ ã€‚</li></ul><p><br>åœ¨åˆ›å»ºå¥½ K-Means ç±»ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒçš„æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ fit å’Œ predict è¿™ä¸ªä¸¤ä¸ªå‡½æ•°ã€‚ä½ å¯ä»¥å•ç‹¬ä½¿ç”¨ fit å‡½æ•°å’Œ predict å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åˆå¹¶ä½¿ç”¨ fit_predict å‡½æ•°ã€‚å…¶ä¸­ fit(data) å¯ä»¥å¯¹ data æ•°æ®è¿›è¡Œ k-Means èšç±»ã€‚ predict(data) å¯ä»¥é’ˆå¯¹ data ä¸­çš„æ¯ä¸ªæ ·æœ¬ï¼Œè®¡ç®—æœ€è¿‘çš„ç±»ã€‚ç°åœ¨æˆ‘ä»¬è¦å®Œæ•´åœ°è·‘ä¸€é 20 æ”¯äºšæ´²çƒé˜Ÿçš„èšç±»é—®é¢˜ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># è¾“å…¥æ•°æ®</span></span><br><span class="line">data = pd.read_csv(<span class="string">'data.csv'</span>, encoding=<span class="string">'gbk'</span>)</span><br><span class="line">train_x = data[[<span class="string">"2019å¹´å›½é™…æ’å"</span>,<span class="string">"2018ä¸–ç•Œæ¯"</span>,<span class="string">"2015äºšæ´²æ¯"</span>]]</span><br><span class="line">df = pd.DataFrame(train_x)</span><br><span class="line"><span class="comment"># kmeans = KMeans(n_clusters=3)</span></span><br><span class="line">kmeans = KMeans(n_clusters=<span class="number">3</span>, init=<span class="string">'k-means++'</span>, n_init=<span class="number">10</span>, max_iter=<span class="number">300</span>, tol=<span class="number">0.0001</span>, precompute_distances=<span class="string">'auto'</span>, verbose=<span class="number">0</span>, random_state=<span class="literal">None</span>, copy_x=<span class="literal">True</span>, n_jobs=<span class="number">1</span>, algorithm=<span class="string">'auto'</span>)</span><br><span class="line"><span class="comment"># è§„èŒƒåŒ–åˆ°[0,1]ç©ºé—´</span></span><br><span class="line">min_max_scaler=preprocessing.MinMaxScaler()</span><br><span class="line">train_x=min_max_scaler.fit_transform(train_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># kmeansç®—æ³•</span></span><br><span class="line">kmeans.fit(train_x)</span><br><span class="line">predict_y = kmeans.predict(train_x)</span><br><span class="line"><span class="comment"># åˆå¹¶èšç±»ç»“æœï¼Œæ’å…¥åˆ°åŸæ•°æ®ä¸­</span></span><br><span class="line">result = pd.concat((data,pd.DataFrame(predict_y)),axis=<span class="number">1</span>)</span><br><span class="line">result.rename(&#123;<span class="number">0</span>:<span class="string">u'èšç±»'</span>&#125;,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><p><br>ç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">        å›½å®¶  <span class="number">2019</span>å¹´å›½é™…æ’å  <span class="number">2018</span>ä¸–ç•Œæ¯  <span class="number">2015</span>äºšæ´²æ¯  èšç±»</span><br><span class="line"><span class="number">0</span>       ä¸­å›½         <span class="number">73</span>       <span class="number">40</span>        <span class="number">7</span>   <span class="number">2</span></span><br><span class="line"><span class="number">1</span>       æ—¥æœ¬         <span class="number">60</span>       <span class="number">15</span>        <span class="number">5</span>   <span class="number">0</span></span><br><span class="line"><span class="number">2</span>       éŸ©å›½         <span class="number">61</span>       <span class="number">19</span>        <span class="number">2</span>   <span class="number">0</span></span><br><span class="line"><span class="number">3</span>       ä¼Šæœ—         <span class="number">34</span>       <span class="number">18</span>        <span class="number">6</span>   <span class="number">0</span></span><br><span class="line"><span class="number">4</span>       æ²™ç‰¹         <span class="number">67</span>       <span class="number">26</span>       <span class="number">10</span>   <span class="number">0</span></span><br><span class="line"><span class="number">5</span>      ä¼Šæ‹‰å…‹         <span class="number">91</span>       <span class="number">40</span>       <span class="number">4</span>    <span class="number">2</span></span><br><span class="line"><span class="number">6</span>      å¡å¡”å°”        <span class="number">101</span>       <span class="number">40</span>       <span class="number">13</span>   <span class="number">1</span></span><br><span class="line"><span class="number">7</span>      é˜¿è”é…‹         <span class="number">81</span>       <span class="number">40</span>        <span class="number">6</span>   <span class="number">2</span></span><br><span class="line"><span class="number">8</span>   ä¹Œå…¹åˆ«å…‹æ–¯å¦         <span class="number">88</span>       <span class="number">40</span>        <span class="number">8</span>     <span class="number">2</span></span><br><span class="line"><span class="number">9</span>       æ³°å›½        <span class="number">122</span>       <span class="number">40</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">10</span>      è¶Šå—        <span class="number">102</span>       <span class="number">50</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">11</span>      é˜¿æ›¼         <span class="number">87</span>       <span class="number">50</span>       <span class="number">12</span>   <span class="number">1</span></span><br><span class="line"><span class="number">12</span>      å·´æ—        <span class="number">116</span>       <span class="number">50</span>       <span class="number">11</span>   <span class="number">1</span></span><br><span class="line"><span class="number">13</span>      æœé²œ        <span class="number">110</span>       <span class="number">50</span>       <span class="number">14</span>   <span class="number">1</span></span><br><span class="line"><span class="number">14</span>      å°å°¼        <span class="number">164</span>       <span class="number">50</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">15</span>      æ¾³æ´²         <span class="number">40</span>       <span class="number">30</span>        <span class="number">1</span>   <span class="number">0</span></span><br><span class="line"><span class="number">16</span>     å™åˆ©äºš         <span class="number">76</span>       <span class="number">40</span>       <span class="number">17</span>      <span class="number">1</span></span><br><span class="line"><span class="number">17</span>      çº¦æ—¦        <span class="number">118</span>       <span class="number">50</span>        <span class="number">9</span>   <span class="number">1</span></span><br><span class="line"><span class="number">18</span>     ç§‘å¨ç‰¹        <span class="number">160</span>       <span class="number">50</span>       <span class="number">15</span>      <span class="number">1</span></span><br><span class="line"><span class="number">19</span>    å·´å‹’æ–¯å¦         <span class="number">96</span>       <span class="number">50</span>       <span class="number">16</span>      <span class="number">1</span></span><br></pre></td></tr></table></figure><p><a name="PGFOw"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿå…¶ä¸­åŒ…æ‹¬äº†åˆå§‹çš„è®¾ç½®ï¼Œä»¥åŠä¸­é—´è¿­ä»£è¿‡ç¨‹ä¸­ä¸­å¿ƒç‚¹çš„è®¡ç®—ã€‚åœ¨åˆå§‹è®¾ç½®ä¸­ï¼Œä¼šè¿›è¡Œ n_init æ¬¡çš„é€‰æ‹©ï¼Œç„¶åé€‰æ‹©åˆå§‹ä¸­å¿ƒç‚¹æ•ˆæœæœ€å¥½çš„ä¸ºåˆå§‹å€¼ã€‚åœ¨æ¯æ¬¡åˆ†ç±»æ›´æ–°åï¼Œä½ éƒ½éœ€è¦é‡æ–°ç¡®è®¤æ¯ä¸€ç±»çš„ä¸­å¿ƒç‚¹ï¼Œä¸€èˆ¬é‡‡ç”¨å‡å€¼çš„æ–¹å¼è¿›è¡Œç¡®è®¤ã€‚<br><br><br>å¦‚ä½•å°†å…¶ä»–ç‚¹åˆ’åˆ†åˆ° K ç±»ä¸­ï¼Ÿè¿™é‡Œå®é™…ä¸Šæ˜¯å…³äºè·ç¦»çš„å®šä¹‰ï¼Œæˆ‘ä»¬çŸ¥é“è·ç¦»æœ‰å¤šç§å®šä¹‰çš„æ–¹å¼ï¼Œåœ¨ K-Means å’Œ KNN ä¸­ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é‡‡ç”¨æ¬§æ°è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ã€åˆ‡æ¯”é›ªå¤«è·ç¦»ã€ä½™å¼¦è·ç¦»ç­‰ã€‚å¯¹äºç‚¹çš„åˆ’åˆ†ï¼Œå°±çœ‹å®ƒç¦»å“ªä¸ªç±»çš„ä¸­å¿ƒç‚¹çš„è·ç¦»æœ€è¿‘ï¼Œå°±å±äºå“ªä¸€ç±»ã€‚<br><br><br>å¦‚ä½•åŒºåˆ† K-Means å’Œ KNN è¿™ä¸¤ç§ç®—æ³•å‘¢ï¼Ÿåˆšå­¦è¿‡ K-Means å’Œ KNN ç®—æ³•çš„åŒå­¦åº”è¯¥èƒ½çŸ¥é“ä¸¤è€…çš„åŒºåˆ«ï¼Œä½†å¾€å¾€è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œå°±å®¹æ˜“æ··æ·†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸‰ä¸ªç»´åº¦æ¥åŒºåˆ† K-Means å’Œ KNN è¿™ä¸¤ä¸ªç®—æ³•ï¼š<br></p><ul><li>é¦–å…ˆï¼Œè¿™ä¸¤ä¸ªç®—æ³•è§£å†³æ•°æ®æŒ–æ˜çš„ä¸¤ç±»é—®é¢˜ã€‚K-Means æ˜¯èšç±»ç®—æ³•ï¼ŒKNN æ˜¯åˆ†ç±»ç®—æ³•ã€‚</li><li>è¿™ä¸¤ä¸ªç®—æ³•åˆ†åˆ«æ˜¯ä¸¤ç§ä¸åŒçš„å­¦ä¹ æ–¹å¼ã€‚K-Means æ˜¯éç›‘ç£å­¦ä¹ ï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦äº‹å…ˆç»™å‡ºåˆ†ç±»æ ‡ç­¾ï¼Œè€Œ KNN æ˜¯æœ‰ç›‘ç£å­¦ä¹ ï¼Œéœ€è¦æˆ‘ä»¬ç»™å‡ºè®­ç»ƒæ•°æ®çš„åˆ†ç±»æ ‡è¯†ã€‚</li><li>æœ€åï¼ŒK å€¼çš„å«ä¹‰ä¸åŒã€‚K-Means ä¸­çš„ K å€¼ä»£è¡¨ K ç±»ã€‚KNN ä¸­çš„ K å€¼ä»£è¡¨ K ä¸ªæœ€æ¥è¿‘çš„é‚»å±…ã€‚</li></ul><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585322317887-46d24bc4-6cbc-4173-8d10-ae8a610ed00a.png#align=left&display=inline&height=588&name=eb60546c6a3d9bc6a1538049c26723c5.png&originHeight=588&originWidth=864&size=163570&status=done&style=none&width=864" alt="eb60546c6a3d9bc6a1538049c26723c5.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;K-Means æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ ï¼Œè§£å†³çš„æ˜¯èšç±»é—®é¢˜ã€‚K ä»£è¡¨çš„æ˜¯ K ç±»ï¼ŒMeans ä»£è¡¨çš„æ˜¯ä¸­å¿ƒï¼Œä½ å¯ä»¥ç†è§£è¿™ä¸ªç®—æ³•çš„æœ¬è´¨æ˜¯ç¡®å®š K ç±»çš„ä¸­å¿ƒ
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-KNN_1</title>
    <link href="cpeixin.cn/2019/01/27/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-KNN-1/"/>
    <id>cpeixin.cn/2019/01/27/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-KNN-1/</id>
    <published>2019-01-26T16:14:49.000Z</published>
    <updated>2020-03-18T16:18:04.528Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>KNN çš„è‹±æ–‡å« K-Nearest Neighborï¼Œåº”è¯¥ç®—æ˜¯æ•°æ®æŒ–æ˜ç®—æ³•ä¸­æœ€ç®€å•çš„ä¸€ç§ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªä¾‹å­ä½“ä¼šä¸‹ã€‚å‡è®¾ï¼Œæˆ‘ä»¬æƒ³å¯¹ç”µå½±çš„ç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œç»Ÿè®¡äº†ç”µå½±ä¸­æ‰“æ–—æ¬¡æ•°ã€æ¥å»æ¬¡æ•°ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„æŒ‡æ ‡ä¹Ÿå¯ä»¥è¢«ç»Ÿè®¡åˆ°ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584547000621-d502499d-8b11-462b-b989-5df35d2efdbd.png#align=left&display=inline&height=440&name=6dac3a9961e69aa86d80de32bdc00987.png&originHeight=440&originWidth=1134&size=74222&status=done&style=none&width=1134" alt="6dac3a9961e69aa86d80de32bdc00987.png"></p><p>æˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ã€Šæˆ˜ç‹¼ã€‹ã€Šçº¢æµ·è¡ŒåŠ¨ã€‹ã€Šç¢Ÿä¸­è° 6ã€‹æ˜¯åŠ¨ä½œç‰‡ï¼Œã€Šå‰ä»» 3ã€‹ã€Šæ˜¥å¨‡æ•‘å¿—æ˜ã€‹ã€Šæ³°å¦å°¼å…‹å·ã€‹æ˜¯çˆ±æƒ…ç‰‡ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•è®©æœºå™¨ä¹Ÿå¯ä»¥æŒæ¡è¿™ä¸ªåˆ†ç±»çš„è§„åˆ™ï¼Œå½“æœ‰ä¸€éƒ¨æ–°ç”µå½±çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å¯¹å®ƒçš„ç±»å‹è‡ªåŠ¨åˆ†ç±»å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŠŠæ‰“æ–—æ¬¡æ•°çœ‹æˆ X è½´ï¼Œæ¥å»æ¬¡æ•°çœ‹æˆ Y è½´ï¼Œç„¶ååœ¨äºŒç»´çš„åæ ‡è½´ä¸Šï¼Œå¯¹è¿™å‡ éƒ¨ç”µå½±è¿›è¡Œæ ‡è®°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¯¹äºæœªçŸ¥çš„ç”µå½± Aï¼Œåæ ‡ä¸º (x,y)ï¼Œæˆ‘ä»¬éœ€è¦çœ‹ä¸‹ç¦»ç”µå½± A æœ€è¿‘çš„éƒ½æœ‰å“ªäº›ç”µå½±ï¼Œè¿™äº›ç”µå½±ä¸­çš„å¤§å¤šæ•°å±äºå“ªä¸ªåˆ†ç±»ï¼Œé‚£ä¹ˆç”µå½± A å°±å±äºå“ªä¸ªåˆ†ç±»ã€‚å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¡®å®šä¸€ä¸ª K å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦è§‚å¯Ÿç¦»ç”µå½± A æœ€è¿‘çš„ç”µå½±æœ‰å¤šå°‘ä¸ªã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546016437-8281d3c6-6f5f-403d-ac2b-0e283a6cdead.png#align=left&display=inline&height=388&name=fa0aa02dae219b21de5984371950c3cc.png&originHeight=388&originWidth=674&size=72040&status=done&style=none&width=674" alt="fa0aa02dae219b21de5984371950c3cc.png"></p><p><a name="3YI61"></a></p><h3 id="KNN-çš„å·¥ä½œåŸç†"><a href="#KNN-çš„å·¥ä½œåŸç†" class="headerlink" title="KNN çš„å·¥ä½œåŸç†"></a>KNN çš„å·¥ä½œåŸç†</h3><p>â€œè¿‘æœ±è€…èµ¤ï¼Œè¿‘å¢¨è€…é»‘â€å¯ä»¥è¯´æ˜¯ KNN çš„å·¥ä½œåŸç†ã€‚</p><p>æ•´ä¸ªè®¡ç®—è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ul><li>è®¡ç®—å¾…åˆ†ç±»ç‰©ä½“ä¸å…¶ä»–ç‰©ä½“ä¹‹é—´çš„è·ç¦»ï¼›</li><li>ç»Ÿè®¡è·ç¦»æœ€è¿‘çš„ K ä¸ªé‚»å±…ï¼›</li><li>å¯¹äº K ä¸ªæœ€è¿‘çš„é‚»å±…ï¼Œå®ƒä»¬å±äºå“ªä¸ªåˆ†ç±»æœ€å¤šï¼Œå¾…åˆ†ç±»ç‰©ä½“å°±å±äºå“ªä¸€ç±»ã€‚</li></ul><p><a name="OlXgV"></a></p><h3 id="K-å€¼å¦‚ä½•é€‰æ‹©"><a href="#K-å€¼å¦‚ä½•é€‰æ‹©" class="headerlink" title="K å€¼å¦‚ä½•é€‰æ‹©"></a>K å€¼å¦‚ä½•é€‰æ‹©</h3><p>ä½ èƒ½çœ‹å‡ºæ•´ä¸ª KNN çš„åˆ†ç±»è¿‡ç¨‹ï¼ŒK å€¼çš„é€‰æ‹©è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒK å€¼é€‰æ‹©å¤šå°‘æ˜¯é€‚åˆçš„å‘¢ï¼Ÿ</p><p>å¦‚æœ K å€¼æ¯”è¾ƒå°ï¼Œå°±ç›¸å½“äºæœªåˆ†ç±»ç‰©ä½“ä¸å®ƒçš„é‚»å±…éå¸¸æ¥è¿‘æ‰è¡Œã€‚è¿™æ ·äº§ç”Ÿçš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœé‚»å±…ç‚¹æ˜¯ä¸ªå™ªå£°ç‚¹ï¼Œé‚£ä¹ˆæœªåˆ†ç±»ç‰©ä½“çš„åˆ†ç±»ä¹Ÿä¼šäº§ç”Ÿè¯¯å·®ï¼Œè¿™æ · KNN åˆ†ç±»å°±ä¼šäº§ç”Ÿè¿‡æ‹Ÿåˆã€‚</p><p>å¦‚æœ K å€¼æ¯”è¾ƒå¤§ï¼Œç›¸å½“äºè·ç¦»è¿‡è¿œçš„ç‚¹ä¹Ÿä¼šå¯¹æœªçŸ¥ç‰©ä½“çš„åˆ†ç±»äº§ç”Ÿå½±å“ï¼Œè™½ç„¶è¿™ç§æƒ…å†µçš„å¥½å¤„æ˜¯é²æ£’æ€§å¼ºï¼Œä½†æ˜¯ä¸è¶³ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¼šäº§ç”Ÿæ¬ æ‹Ÿåˆæƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŠŠæœªåˆ†ç±»ç‰©ä½“çœŸæ­£åˆ†ç±»å‡ºæ¥ã€‚</p><p>æ‰€ä»¥ K å€¼åº”è¯¥æ˜¯ä¸ªå®è·µå‡ºæ¥çš„ç»“æœï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬äº‹å…ˆè€Œå®šçš„ã€‚åœ¨å·¥ç¨‹ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨äº¤å‰éªŒè¯çš„æ–¹å¼é€‰å– K å€¼ã€‚äº¤å‰éªŒè¯çš„æ€è·¯å°±æ˜¯ï¼ŒæŠŠæ ·æœ¬é›†ä¸­çš„å¤§éƒ¨åˆ†æ ·æœ¬ä½œä¸ºè®­ç»ƒé›†ï¼Œå‰©ä½™çš„å°éƒ¨åˆ†æ ·æœ¬ç”¨äºé¢„æµ‹ï¼Œæ¥éªŒè¯åˆ†ç±»æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚æ‰€ä»¥åœ¨ KNN ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠ K å€¼é€‰å–åœ¨è¾ƒå°çš„èŒƒå›´å†…ï¼ŒåŒæ—¶åœ¨éªŒè¯é›†ä¸Šå‡†ç¡®ç‡æœ€é«˜çš„é‚£ä¸€ä¸ªæœ€ç»ˆç¡®å®šä½œä¸º K å€¼ã€‚</p><p><a name="Dubk8"></a></p><h3 id="è·ç¦»å¦‚ä½•è®¡ç®—åœ¨-KNN"><a href="#è·ç¦»å¦‚ä½•è®¡ç®—åœ¨-KNN" class="headerlink" title="è·ç¦»å¦‚ä½•è®¡ç®—åœ¨ KNN"></a>è·ç¦»å¦‚ä½•è®¡ç®—åœ¨ KNN</h3><p>ç®—æ³•ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„è®¡ç®—å°±æ˜¯å…³äºè·ç¦»çš„åº¦é‡ã€‚ä¸¤ä¸ªæ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ä»£è¡¨äº†è¿™ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚è·ç¦»è¶Šå¤§ï¼Œå·®å¼‚æ€§è¶Šå¤§ï¼›è·ç¦»è¶Šå°ï¼Œç›¸ä¼¼åº¦è¶Šå¤§ã€‚</p><p>å…³äºè·ç¦»çš„è®¡ç®—æ–¹å¼æœ‰ä¸‹é¢äº”ç§æ–¹å¼ï¼š</p><ol><li>æ¬§æ°è·ç¦»ï¼›</li><li>æ›¼å“ˆé¡¿è·ç¦»ï¼›</li><li>é—µå¯å¤«æ–¯åŸºè·ç¦»ï¼›</li><li>åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼›</li><li>ä½™å¼¦è·ç¦»ã€‚</li></ol><p>å…¶ä¸­å‰ä¸‰ç§è·ç¦»æ˜¯ KNN ä¸­æœ€å¸¸ç”¨çš„è·ç¦»ï¼Œæˆ‘ç»™ä½ åˆ†åˆ«è®²è§£ä¸‹ã€‚</p><p>æ¬§æ°è·ç¦»æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„è·ç¦»å…¬å¼ï¼Œä¹Ÿå«åšæ¬§å‡ é‡Œå¾—è·ç¦»ã€‚åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œä¸¤ç‚¹çš„æ¬§å¼è·ç¦»å°±æ˜¯ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546310792-966b911e-96e1-42f1-b59c-62b4fc328c98.png#align=left&display=inline&height=162&name=f8d4fe58ec9580a4ffad5cee263b1b80.png&originHeight=162&originWidth=748&size=18688&status=done&style=none&width=748" alt="f8d4fe58ec9580a4ffad5cee263b1b80.png"></p><p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ±‚å¾—ä¸¤ç‚¹åœ¨ n ç»´ç©ºé—´ä¸­çš„è·ç¦»ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546284862-5cf34ec5-6a80-4214-b5b3-e0debb86c9f4.png#align=left&display=inline&height=190&name=40efe7cb4a2571e55438b55f8d37366a.png&originHeight=190&originWidth=1262&size=33639&status=done&style=none&width=1262" alt="40efe7cb4a2571e55438b55f8d37366a.png"></p><p>æ›¼å“ˆé¡¿è·ç¦»åœ¨å‡ ä½•ç©ºé—´ä¸­ç”¨çš„æ¯”è¾ƒå¤šã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œç»¿è‰²çš„ç›´çº¿ä»£è¡¨ä¸¤ç‚¹ä¹‹é—´çš„æ¬§å¼è·ç¦»ï¼Œè€Œçº¢è‰²å’Œé»„è‰²çš„çº¿ä¸ºä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚æ‰€ä»¥æ›¼å“ˆé¡¿è·ç¦»ç­‰äºä¸¤ä¸ªç‚¹åœ¨åæ ‡ç³»ä¸Šç»å¯¹è½´è·æ€»å’Œã€‚ç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1584546337196-c21e88b1-bef3-4846-b927-126eb5ad7fbd.jpeg#align=left&display=inline&height=1500&name=dd19ca4f0be3f60b526e9ea0b7d13543.jpg&originHeight=1500&originWidth=1467&size=239780&status=done&style=none&width=1467" alt="dd19ca4f0be3f60b526e9ea0b7d13543.jpg"></p><p>é—µå¯å¤«æ–¯åŸºè·ç¦»ä¸æ˜¯ä¸€ä¸ªè·ç¦»ï¼Œè€Œæ˜¯ä¸€ç»„è·ç¦»çš„å®šä¹‰ã€‚å¯¹äº n ç»´ç©ºé—´ä¸­çš„ä¸¤ä¸ªç‚¹ x(x1,x2,â€¦,xn) å’Œ y(y1,y2,â€¦,yn) ï¼Œ x å’Œ y ä¸¤ç‚¹ä¹‹é—´çš„é—µå¯å¤«æ–¯åŸºè·ç¦»ä¸ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546368933-d651d60a-3ccc-425d-8962-6cbcd4c5a72e.png#align=left&display=inline&height=238&name=4d614c3d6722c02e4ea03cb1e6653dc5.png&originHeight=238&originWidth=516&size=16729&status=done&style=none&width=516" alt="4d614c3d6722c02e4ea03cb1e6653dc5.png"></p><p>å…¶ä¸­ p ä»£è¡¨ç©ºé—´çš„ç»´æ•°ï¼Œå½“ p=1 æ—¶ï¼Œå°±æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼›å½“ p=2 æ—¶ï¼Œå°±æ˜¯æ¬§æ°è·ç¦»ï¼›å½“ pâ†’âˆæ—¶ï¼Œå°±æ˜¯åˆ‡æ¯”é›ªå¤«è·ç¦»ã€‚</p><p>é‚£ä¹ˆåˆ‡æ¯”é›ªå¤«è·ç¦»æ€ä¹ˆè®¡ç®—å‘¢ï¼ŸäºŒä¸ªç‚¹ä¹‹é—´çš„åˆ‡æ¯”é›ªå¤«è·ç¦»å°±æ˜¯è¿™ä¸¤ä¸ªç‚¹åæ ‡æ•°å€¼å·®çš„ç»å¯¹å€¼çš„æœ€å¤§å€¼ï¼Œç”¨æ•°å­¦è¡¨ç¤ºå°±æ˜¯ï¼šmax(|x1-y1|,|x2-y2|)ã€‚å…¶å…¬å¼ä¸ºpä¸ºæé™æ— ç©·çš„æƒ…å†µï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546700060-d96ebbde-05be-4668-a0a2-17f8b8f1620e.png#align=left&display=inline&height=168&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-18%20%E4%B8%8B%E5%8D%8811.49.01.png&originHeight=168&originWidth=786&size=27593&status=done&style=none&width=786" alt="å±å¹•å¿«ç…§ 2020-03-18 ä¸‹åˆ11.49.01.png"></p><p>ä½™å¼¦è·ç¦»å®é™…ä¸Šè®¡ç®—çš„æ˜¯ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ï¼Œæ˜¯åœ¨æ–¹å‘ä¸Šè®¡ç®—ä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼Œå¯¹ç»å¯¹æ•°å€¼ä¸æ•æ„Ÿã€‚åœ¨å…´è¶£ç›¸å…³æ€§æ¯”è¾ƒä¸Šï¼Œè§’åº¦å…³ç³»æ¯”è·ç¦»çš„ç»å¯¹å€¼æ›´é‡è¦ï¼Œå› æ­¤ä½™å¼¦è·ç¦»å¯ä»¥ç”¨äºè¡¡é‡ç”¨æˆ·å¯¹å†…å®¹å…´è¶£çš„åŒºåˆ†åº¦ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨æœç´¢å¼•æ“æœç´¢æŸä¸ªå…³é”®è¯ï¼Œå®ƒè¿˜ä¼šç»™ä½ æ¨èå…¶ä»–çš„ç›¸å…³æœç´¢ï¼Œè¿™äº›æ¨èçš„å…³é”®è¯å°±æ˜¯é‡‡ç”¨ä½™å¼¦è·ç¦»è®¡ç®—å¾—å‡ºçš„ã€‚</p><p><a name="eKgJh"></a></p><h3 id="KD-æ ‘"><a href="#KD-æ ‘" class="headerlink" title="KD æ ‘"></a>KD æ ‘</h3><p>å…¶å®ä»ä¸Šæ–‡ä½ ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼ŒKNN çš„è®¡ç®—è¿‡ç¨‹æ˜¯å¤§é‡è®¡ç®—æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚ä¸ºäº†å‡å°‘è®¡ç®—è·ç¦»æ¬¡æ•°ï¼Œæå‡ KNN çš„æœç´¢æ•ˆç‡ï¼Œäººä»¬æå‡ºäº† KD æ ‘ï¼ˆK-Dimensional çš„ç¼©å†™ï¼‰ã€‚KD æ ‘æ˜¯å¯¹æ•°æ®ç‚¹åœ¨ K ç»´ç©ºé—´ä¸­åˆ’åˆ†çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚åœ¨ KD æ ‘çš„æ„é€ ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ k ç»´æ•°å€¼ç‚¹çš„äºŒå‰æ ‘ã€‚æ—¢ç„¶æ˜¯äºŒå‰æ ‘ï¼Œå°±å¯ä»¥é‡‡ç”¨äºŒå‰æ ‘çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¿™æ ·å°±å¤§å¤§æå‡äº†æœç´¢æ•ˆç‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸éœ€è¦å¯¹ KD æ ‘çš„æ•°å­¦åŸç†äº†è§£å¤ªå¤šï¼Œä½ åªéœ€è¦çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªäºŒå‰æ ‘çš„æ•°æ®ç»“æ„ï¼Œæ–¹ä¾¿å­˜å‚¨ K ç»´ç©ºé—´çš„æ•°æ®å°±å¯ä»¥äº†ã€‚è€Œä¸”åœ¨ sklearn ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥è°ƒç”¨ KD æ ‘ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p><a name="K1rKD"></a></p><h3 id="ç”¨-KNN-åšå›å½’"><a href="#ç”¨-KNN-åšå›å½’" class="headerlink" title="ç”¨ KNN åšå›å½’"></a>ç”¨ KNN åšå›å½’</h3><p>KNN ä¸ä»…å¯ä»¥åšåˆ†ç±»ï¼Œè¿˜å¯ä»¥åšå›å½’ã€‚é¦–å…ˆè®²ä¸‹ä»€ä¹ˆæ˜¯å›å½’ã€‚åœ¨å¼€å¤´ç”µå½±è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå¦‚æœæƒ³è¦å¯¹æœªçŸ¥ç”µå½±è¿›è¡Œç±»å‹åˆ’åˆ†ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†ç±»é—®é¢˜ã€‚é¦–å…ˆçœ‹ä¸€ä¸‹è¦åˆ†ç±»çš„æœªçŸ¥ç”µå½±ï¼Œç¦»å®ƒæœ€è¿‘çš„ K éƒ¨ç”µå½±å¤§å¤šæ•°å±äºå“ªä¸ªåˆ†ç±»ï¼Œè¿™éƒ¨ç”µå½±å°±å±äºå“ªä¸ªåˆ†ç±»ã€‚å¦‚æœæ˜¯ä¸€éƒ¨æ–°ç”µå½±ï¼Œå·²çŸ¥å®ƒæ˜¯çˆ±æƒ…ç‰‡ï¼Œæƒ³è¦çŸ¥é“å®ƒçš„æ‰“æ–—æ¬¡æ•°ã€æ¥å»æ¬¡æ•°å¯èƒ½æ˜¯å¤šå°‘ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå›å½’é—®é¢˜ã€‚</p><p>é‚£ä¹ˆ KNN å¦‚ä½•åšå›å½’å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªæ–°ç”µå½± Xï¼Œæˆ‘ä»¬è¦é¢„æµ‹å®ƒçš„æŸä¸ªå±æ€§å€¼ï¼Œæ¯”å¦‚æ‰“æ–—æ¬¡æ•°ï¼Œå…·ä½“ç‰¹å¾å±æ€§å’Œæ•°å€¼å¦‚ä¸‹æ‰€ç¤ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šå…ˆè®¡ç®—å¾…æµ‹ç‚¹ï¼ˆæ–°ç”µå½± Xï¼‰åˆ°å·²çŸ¥ç‚¹çš„è·ç¦»ï¼Œé€‰æ‹©è·ç¦»æœ€è¿‘çš„ K ä¸ªç‚¹ã€‚å‡è®¾ K=3ï¼Œæ­¤æ—¶æœ€è¿‘çš„ 3 ä¸ªç‚¹ï¼ˆç”µå½±ï¼‰åˆ†åˆ«æ˜¯ã€Šæˆ˜ç‹¼ã€‹ï¼Œã€Šçº¢æµ·è¡ŒåŠ¨ã€‹å’Œã€Šç¢Ÿä¸­è° 6ã€‹ï¼Œé‚£ä¹ˆå®ƒçš„æ‰“æ–—æ¬¡æ•°å°±æ˜¯è¿™ 3 ä¸ªç‚¹çš„è¯¥å±æ€§å€¼çš„å¹³å‡å€¼ï¼Œå³ (100+95+105)/3=100 æ¬¡ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546868363-1e581966-91b8-4011-a72b-2ac38608fab1.png#align=left&display=inline&height=396&name=35dc8cc7d781c94b0fbaa0b53c01f716.png&originHeight=396&originWidth=890&size=66224&status=done&style=none&width=890" alt="35dc8cc7d781c94b0fbaa0b53c01f716.png"></p><p><a name="aZ4z7"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä»Šå¤©æˆ‘ç»™ä½ è®²äº† KNN çš„åŸç†ï¼Œä»¥åŠ KNN ä¸­çš„å‡ ä¸ªå…³é”®å› ç´ ã€‚æ¯”å¦‚é’ˆå¯¹ K å€¼çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨äº¤å‰éªŒè¯çš„æ–¹å¼å¾—å‡ºã€‚</p><p>é’ˆå¯¹æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»çš„å®šä¹‰ï¼Œå¸¸ç”¨çš„æœ‰ 5 ç§è¡¨è¾¾æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æ¥å®šä¹‰ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»å…¬å¼ã€‚ä¸åŒçš„å®šä¹‰ï¼Œé€‚ç”¨çš„åœºæ™¯ä¸åŒã€‚æ¯”å¦‚åœ¨æœç´¢å…³é”®è¯æ¨èä¸­ï¼Œä½™å¼¦è·ç¦»æ˜¯æ›´ä¸ºå¸¸ç”¨çš„ã€‚</p><p>å¦å¤–ä½ ä¹Ÿå¯ä»¥ç”¨ KNN è¿›è¡Œå›å½’ï¼Œé€šè¿‡ K ä¸ªé‚»å±…å¯¹æ–°çš„ç‚¹çš„å±æ€§è¿›è¡Œå€¼çš„é¢„æµ‹ã€‚KNN çš„ç†è®ºç®€å•ç›´æ¥ï¼Œé’ˆå¯¹ KNN ä¸­çš„æœç´¢ä¹Ÿæœ‰ç›¸åº”çš„ KD æ ‘è¿™ä¸ªæ•°æ®ç»“æ„ã€‚KNN çš„ç†è®ºæˆç†Ÿï¼Œå¯ä»¥åº”ç”¨åˆ°çº¿æ€§å’Œéçº¿æ€§çš„åˆ†ç±»é—®é¢˜ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨äºå›å½’åˆ†æã€‚ä¸è¿‡ KNN éœ€è¦è®¡ç®—æµ‹è¯•ç‚¹ä¸æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå½“æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œè®¡ç®—é‡æ˜¯éå¸¸åºå¤§çš„ï¼Œéœ€è¦å¤§é‡çš„å­˜å‚¨ç©ºé—´å’Œè®¡ç®—æ—¶é—´ã€‚å¦å¤–å¦‚æœæ ·æœ¬åˆ†ç±»ä¸å‡è¡¡ï¼Œæ¯”å¦‚æœ‰äº›åˆ†ç±»çš„æ ·æœ¬éå¸¸å°‘ï¼Œé‚£ä¹ˆè¯¥ç±»åˆ«çš„åˆ†ç±»å‡†ç¡®ç‡å°±ä¼šä½å¾ˆå¤šã€‚</p><p>å½“ç„¶åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åˆ°å„ç§å¯èƒ½å­˜åœ¨çš„æƒ…å†µï¼Œæ¯”å¦‚é’ˆå¯¹æŸç±»æ ·æœ¬å°‘çš„æƒ…å†µï¼Œå¯ä»¥å¢åŠ è¯¥ç±»åˆ«çš„æƒé‡ã€‚åŒæ · KNN ä¹Ÿå¯ä»¥ç”¨äºæ¨èç®—æ³•ï¼Œè™½ç„¶ç°åœ¨å¾ˆå¤šæ¨èç³»ç»Ÿçš„ç®—æ³•ä¼šä½¿ç”¨ TD-IDFã€ååŒè¿‡æ»¤ã€Apriori ç®—æ³•ï¼Œä¸è¿‡é’ˆå¯¹æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ KNN ä½œä¸ºæ¨èç®—æ³•ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546977892-60b1a6bc-e309-4c4a-be3e-203c729d42f2.png#align=left&display=inline&height=1017&name=d67073bef9247e1ca7a58ae7869f390f.png&originHeight=1017&originWidth=1172&size=243740&status=done&style=none&width=1172" alt="d67073bef9247e1ca7a58ae7869f390f.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;KNN çš„è‹±æ–‡å« K-Nearest Neighborï¼Œåº”è¯¥ç®—æ˜¯æ•°æ®æŒ–æ˜ç®—æ³•ä¸­æœ€ç®€å•çš„ä¸€ç§ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªä¾‹å­ä½“ä¼šä¸‹ã€‚å‡è®¾ï¼Œæˆ‘ä»¬æƒ³å¯¹ç”µå½±çš„ç±»å‹è¿›è¡Œ
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-KNN_1</title>
    <link href="cpeixin.cn/2019/01/26/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-KNN-2/"/>
    <id>cpeixin.cn/2019/01/26/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-KNN-2/</id>
    <published>2019-01-25T16:14:49.000Z</published>
    <updated>2020-03-28T01:58:58.497Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>KNN çš„è‹±æ–‡å« K-Nearest Neighborï¼Œåº”è¯¥ç®—æ˜¯æ•°æ®æŒ–æ˜ç®—æ³•ä¸­æœ€ç®€å•çš„ä¸€ç§ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªä¾‹å­ä½“ä¼šä¸‹ã€‚å‡è®¾ï¼Œæˆ‘ä»¬æƒ³å¯¹ç”µå½±çš„ç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œç»Ÿè®¡äº†ç”µå½±ä¸­æ‰“æ–—æ¬¡æ•°ã€æ¥å»æ¬¡æ•°ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„æŒ‡æ ‡ä¹Ÿå¯ä»¥è¢«ç»Ÿè®¡åˆ°ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584547000621-d502499d-8b11-462b-b989-5df35d2efdbd.png#align=left&display=inline&height=440&name=6dac3a9961e69aa86d80de32bdc00987.png&originHeight=440&originWidth=1134&size=74222&status=done&style=none&width=1134" alt="6dac3a9961e69aa86d80de32bdc00987.png"></p><p>æˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ã€Šæˆ˜ç‹¼ã€‹ã€Šçº¢æµ·è¡ŒåŠ¨ã€‹ã€Šç¢Ÿä¸­è° 6ã€‹æ˜¯åŠ¨ä½œç‰‡ï¼Œã€Šå‰ä»» 3ã€‹ã€Šæ˜¥å¨‡æ•‘å¿—æ˜ã€‹ã€Šæ³°å¦å°¼å…‹å·ã€‹æ˜¯çˆ±æƒ…ç‰‡ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•è®©æœºå™¨ä¹Ÿå¯ä»¥æŒæ¡è¿™ä¸ªåˆ†ç±»çš„è§„åˆ™ï¼Œå½“æœ‰ä¸€éƒ¨æ–°ç”µå½±çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å¯¹å®ƒçš„ç±»å‹è‡ªåŠ¨åˆ†ç±»å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŠŠæ‰“æ–—æ¬¡æ•°çœ‹æˆ X è½´ï¼Œæ¥å»æ¬¡æ•°çœ‹æˆ Y è½´ï¼Œç„¶ååœ¨äºŒç»´çš„åæ ‡è½´ä¸Šï¼Œå¯¹è¿™å‡ éƒ¨ç”µå½±è¿›è¡Œæ ‡è®°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¯¹äºæœªçŸ¥çš„ç”µå½± Aï¼Œåæ ‡ä¸º (x,y)ï¼Œæˆ‘ä»¬éœ€è¦çœ‹ä¸‹ç¦»ç”µå½± A æœ€è¿‘çš„éƒ½æœ‰å“ªäº›ç”µå½±ï¼Œè¿™äº›ç”µå½±ä¸­çš„å¤§å¤šæ•°å±äºå“ªä¸ªåˆ†ç±»ï¼Œé‚£ä¹ˆç”µå½± A å°±å±äºå“ªä¸ªåˆ†ç±»ã€‚å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¡®å®šä¸€ä¸ª K å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦è§‚å¯Ÿç¦»ç”µå½± A æœ€è¿‘çš„ç”µå½±æœ‰å¤šå°‘ä¸ªã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546016437-8281d3c6-6f5f-403d-ac2b-0e283a6cdead.png#align=left&display=inline&height=388&name=fa0aa02dae219b21de5984371950c3cc.png&originHeight=388&originWidth=674&size=72040&status=done&style=none&width=674" alt="fa0aa02dae219b21de5984371950c3cc.png"></p><p><a name="3YI61"></a></p><h3 id="KNN-çš„å·¥ä½œåŸç†"><a href="#KNN-çš„å·¥ä½œåŸç†" class="headerlink" title="KNN çš„å·¥ä½œåŸç†"></a>KNN çš„å·¥ä½œåŸç†</h3><p>â€œè¿‘æœ±è€…èµ¤ï¼Œè¿‘å¢¨è€…é»‘â€å¯ä»¥è¯´æ˜¯ KNN çš„å·¥ä½œåŸç†ã€‚</p><p>æ•´ä¸ªè®¡ç®—è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ul><li>è®¡ç®—å¾…åˆ†ç±»ç‰©ä½“ä¸å…¶ä»–ç‰©ä½“ä¹‹é—´çš„è·ç¦»ï¼›</li><li>ç»Ÿè®¡è·ç¦»æœ€è¿‘çš„ K ä¸ªé‚»å±…ï¼›</li><li>å¯¹äº K ä¸ªæœ€è¿‘çš„é‚»å±…ï¼Œå®ƒä»¬å±äºå“ªä¸ªåˆ†ç±»æœ€å¤šï¼Œå¾…åˆ†ç±»ç‰©ä½“å°±å±äºå“ªä¸€ç±»ã€‚</li></ul><p><a name="OlXgV"></a></p><h3 id="K-å€¼å¦‚ä½•é€‰æ‹©"><a href="#K-å€¼å¦‚ä½•é€‰æ‹©" class="headerlink" title="K å€¼å¦‚ä½•é€‰æ‹©"></a>K å€¼å¦‚ä½•é€‰æ‹©</h3><p>ä½ èƒ½çœ‹å‡ºæ•´ä¸ª KNN çš„åˆ†ç±»è¿‡ç¨‹ï¼ŒK å€¼çš„é€‰æ‹©è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒK å€¼é€‰æ‹©å¤šå°‘æ˜¯é€‚åˆçš„å‘¢ï¼Ÿ</p><p>å¦‚æœ K å€¼æ¯”è¾ƒå°ï¼Œå°±ç›¸å½“äºæœªåˆ†ç±»ç‰©ä½“ä¸å®ƒçš„é‚»å±…éå¸¸æ¥è¿‘æ‰è¡Œã€‚è¿™æ ·äº§ç”Ÿçš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœé‚»å±…ç‚¹æ˜¯ä¸ªå™ªå£°ç‚¹ï¼Œé‚£ä¹ˆæœªåˆ†ç±»ç‰©ä½“çš„åˆ†ç±»ä¹Ÿä¼šäº§ç”Ÿè¯¯å·®ï¼Œè¿™æ · KNN åˆ†ç±»å°±ä¼šäº§ç”Ÿè¿‡æ‹Ÿåˆã€‚</p><p>å¦‚æœ K å€¼æ¯”è¾ƒå¤§ï¼Œç›¸å½“äºè·ç¦»è¿‡è¿œçš„ç‚¹ä¹Ÿä¼šå¯¹æœªçŸ¥ç‰©ä½“çš„åˆ†ç±»äº§ç”Ÿå½±å“ï¼Œè™½ç„¶è¿™ç§æƒ…å†µçš„å¥½å¤„æ˜¯é²æ£’æ€§å¼ºï¼Œä½†æ˜¯ä¸è¶³ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¼šäº§ç”Ÿæ¬ æ‹Ÿåˆæƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŠŠæœªåˆ†ç±»ç‰©ä½“çœŸæ­£åˆ†ç±»å‡ºæ¥ã€‚</p><p>æ‰€ä»¥ K å€¼åº”è¯¥æ˜¯ä¸ªå®è·µå‡ºæ¥çš„ç»“æœï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬äº‹å…ˆè€Œå®šçš„ã€‚åœ¨å·¥ç¨‹ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨äº¤å‰éªŒè¯çš„æ–¹å¼é€‰å– K å€¼ã€‚äº¤å‰éªŒè¯çš„æ€è·¯å°±æ˜¯ï¼ŒæŠŠæ ·æœ¬é›†ä¸­çš„å¤§éƒ¨åˆ†æ ·æœ¬ä½œä¸ºè®­ç»ƒé›†ï¼Œå‰©ä½™çš„å°éƒ¨åˆ†æ ·æœ¬ç”¨äºé¢„æµ‹ï¼Œæ¥éªŒè¯åˆ†ç±»æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚æ‰€ä»¥åœ¨ KNN ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠ K å€¼é€‰å–åœ¨è¾ƒå°çš„èŒƒå›´å†…ï¼ŒåŒæ—¶åœ¨éªŒè¯é›†ä¸Šå‡†ç¡®ç‡æœ€é«˜çš„é‚£ä¸€ä¸ªæœ€ç»ˆç¡®å®šä½œä¸º K å€¼ã€‚</p><p><a name="Dubk8"></a></p><h3 id="è·ç¦»å¦‚ä½•è®¡ç®—åœ¨-KNN"><a href="#è·ç¦»å¦‚ä½•è®¡ç®—åœ¨-KNN" class="headerlink" title="è·ç¦»å¦‚ä½•è®¡ç®—åœ¨ KNN"></a>è·ç¦»å¦‚ä½•è®¡ç®—åœ¨ KNN</h3><p>ç®—æ³•ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„è®¡ç®—å°±æ˜¯å…³äºè·ç¦»çš„åº¦é‡ã€‚ä¸¤ä¸ªæ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ä»£è¡¨äº†è¿™ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚è·ç¦»è¶Šå¤§ï¼Œå·®å¼‚æ€§è¶Šå¤§ï¼›è·ç¦»è¶Šå°ï¼Œç›¸ä¼¼åº¦è¶Šå¤§ã€‚</p><p>å…³äºè·ç¦»çš„è®¡ç®—æ–¹å¼æœ‰ä¸‹é¢äº”ç§æ–¹å¼ï¼š</p><ol><li>æ¬§æ°è·ç¦»ï¼›</li><li>æ›¼å“ˆé¡¿è·ç¦»ï¼›</li><li>é—µå¯å¤«æ–¯åŸºè·ç¦»ï¼›</li><li>åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼›</li><li>ä½™å¼¦è·ç¦»ã€‚</li></ol><p>å…¶ä¸­å‰ä¸‰ç§è·ç¦»æ˜¯ KNN ä¸­æœ€å¸¸ç”¨çš„è·ç¦»ï¼Œæˆ‘ç»™ä½ åˆ†åˆ«è®²è§£ä¸‹ã€‚</p><p>æ¬§æ°è·ç¦»æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„è·ç¦»å…¬å¼ï¼Œä¹Ÿå«åšæ¬§å‡ é‡Œå¾—è·ç¦»ã€‚åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œä¸¤ç‚¹çš„æ¬§å¼è·ç¦»å°±æ˜¯ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546310792-966b911e-96e1-42f1-b59c-62b4fc328c98.png#align=left&display=inline&height=162&name=f8d4fe58ec9580a4ffad5cee263b1b80.png&originHeight=162&originWidth=748&size=18688&status=done&style=none&width=748" alt="f8d4fe58ec9580a4ffad5cee263b1b80.png"></p><p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ±‚å¾—ä¸¤ç‚¹åœ¨ n ç»´ç©ºé—´ä¸­çš„è·ç¦»ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546284862-5cf34ec5-6a80-4214-b5b3-e0debb86c9f4.png#align=left&display=inline&height=190&name=40efe7cb4a2571e55438b55f8d37366a.png&originHeight=190&originWidth=1262&size=33639&status=done&style=none&width=1262" alt="40efe7cb4a2571e55438b55f8d37366a.png"></p><p>æ›¼å“ˆé¡¿è·ç¦»åœ¨å‡ ä½•ç©ºé—´ä¸­ç”¨çš„æ¯”è¾ƒå¤šã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œç»¿è‰²çš„ç›´çº¿ä»£è¡¨ä¸¤ç‚¹ä¹‹é—´çš„æ¬§å¼è·ç¦»ï¼Œè€Œçº¢è‰²å’Œé»„è‰²çš„çº¿ä¸ºä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚æ‰€ä»¥æ›¼å“ˆé¡¿è·ç¦»ç­‰äºä¸¤ä¸ªç‚¹åœ¨åæ ‡ç³»ä¸Šç»å¯¹è½´è·æ€»å’Œã€‚ç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1584546337196-c21e88b1-bef3-4846-b927-126eb5ad7fbd.jpeg#align=left&display=inline&height=1500&name=dd19ca4f0be3f60b526e9ea0b7d13543.jpg&originHeight=1500&originWidth=1467&size=239780&status=done&style=none&width=1467" alt="dd19ca4f0be3f60b526e9ea0b7d13543.jpg"></p><p>é—µå¯å¤«æ–¯åŸºè·ç¦»ä¸æ˜¯ä¸€ä¸ªè·ç¦»ï¼Œè€Œæ˜¯ä¸€ç»„è·ç¦»çš„å®šä¹‰ã€‚å¯¹äº n ç»´ç©ºé—´ä¸­çš„ä¸¤ä¸ªç‚¹ x(x1,x2,â€¦,xn) å’Œ y(y1,y2,â€¦,yn) ï¼Œ x å’Œ y ä¸¤ç‚¹ä¹‹é—´çš„é—µå¯å¤«æ–¯åŸºè·ç¦»ä¸ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546368933-d651d60a-3ccc-425d-8962-6cbcd4c5a72e.png#align=left&display=inline&height=238&name=4d614c3d6722c02e4ea03cb1e6653dc5.png&originHeight=238&originWidth=516&size=16729&status=done&style=none&width=516" alt="4d614c3d6722c02e4ea03cb1e6653dc5.png"></p><p>å…¶ä¸­ p ä»£è¡¨ç©ºé—´çš„ç»´æ•°ï¼Œå½“ p=1 æ—¶ï¼Œå°±æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼›å½“ p=2 æ—¶ï¼Œå°±æ˜¯æ¬§æ°è·ç¦»ï¼›å½“ pâ†’âˆæ—¶ï¼Œå°±æ˜¯åˆ‡æ¯”é›ªå¤«è·ç¦»ã€‚</p><p>é‚£ä¹ˆåˆ‡æ¯”é›ªå¤«è·ç¦»æ€ä¹ˆè®¡ç®—å‘¢ï¼ŸäºŒä¸ªç‚¹ä¹‹é—´çš„åˆ‡æ¯”é›ªå¤«è·ç¦»å°±æ˜¯è¿™ä¸¤ä¸ªç‚¹åæ ‡æ•°å€¼å·®çš„ç»å¯¹å€¼çš„æœ€å¤§å€¼ï¼Œç”¨æ•°å­¦è¡¨ç¤ºå°±æ˜¯ï¼šmax(|x1-y1|,|x2-y2|)ã€‚å…¶å…¬å¼ä¸ºpä¸ºæé™æ— ç©·çš„æƒ…å†µï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546700060-d96ebbde-05be-4668-a0a2-17f8b8f1620e.png#align=left&display=inline&height=168&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-18%20%E4%B8%8B%E5%8D%8811.49.01.png&originHeight=168&originWidth=786&size=27593&status=done&style=none&width=786" alt="å±å¹•å¿«ç…§ 2020-03-18 ä¸‹åˆ11.49.01.png"></p><p>ä½™å¼¦è·ç¦»å®é™…ä¸Šè®¡ç®—çš„æ˜¯ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ï¼Œæ˜¯åœ¨æ–¹å‘ä¸Šè®¡ç®—ä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼Œå¯¹ç»å¯¹æ•°å€¼ä¸æ•æ„Ÿã€‚åœ¨å…´è¶£ç›¸å…³æ€§æ¯”è¾ƒä¸Šï¼Œè§’åº¦å…³ç³»æ¯”è·ç¦»çš„ç»å¯¹å€¼æ›´é‡è¦ï¼Œå› æ­¤ä½™å¼¦è·ç¦»å¯ä»¥ç”¨äºè¡¡é‡ç”¨æˆ·å¯¹å†…å®¹å…´è¶£çš„åŒºåˆ†åº¦ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨æœç´¢å¼•æ“æœç´¢æŸä¸ªå…³é”®è¯ï¼Œå®ƒè¿˜ä¼šç»™ä½ æ¨èå…¶ä»–çš„ç›¸å…³æœç´¢ï¼Œè¿™äº›æ¨èçš„å…³é”®è¯å°±æ˜¯é‡‡ç”¨ä½™å¼¦è·ç¦»è®¡ç®—å¾—å‡ºçš„ã€‚</p><p><a name="eKgJh"></a></p><h3 id="KD-æ ‘"><a href="#KD-æ ‘" class="headerlink" title="KD æ ‘"></a>KD æ ‘</h3><p>å…¶å®ä»ä¸Šæ–‡ä½ ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼ŒKNN çš„è®¡ç®—è¿‡ç¨‹æ˜¯å¤§é‡è®¡ç®—æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚ä¸ºäº†å‡å°‘è®¡ç®—è·ç¦»æ¬¡æ•°ï¼Œæå‡ KNN çš„æœç´¢æ•ˆç‡ï¼Œäººä»¬æå‡ºäº† KD æ ‘ï¼ˆK-Dimensional çš„ç¼©å†™ï¼‰ã€‚KD æ ‘æ˜¯å¯¹æ•°æ®ç‚¹åœ¨ K ç»´ç©ºé—´ä¸­åˆ’åˆ†çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚åœ¨ KD æ ‘çš„æ„é€ ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ k ç»´æ•°å€¼ç‚¹çš„äºŒå‰æ ‘ã€‚æ—¢ç„¶æ˜¯äºŒå‰æ ‘ï¼Œå°±å¯ä»¥é‡‡ç”¨äºŒå‰æ ‘çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¿™æ ·å°±å¤§å¤§æå‡äº†æœç´¢æ•ˆç‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸éœ€è¦å¯¹ KD æ ‘çš„æ•°å­¦åŸç†äº†è§£å¤ªå¤šï¼Œä½ åªéœ€è¦çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªäºŒå‰æ ‘çš„æ•°æ®ç»“æ„ï¼Œæ–¹ä¾¿å­˜å‚¨ K ç»´ç©ºé—´çš„æ•°æ®å°±å¯ä»¥äº†ã€‚è€Œä¸”åœ¨ sklearn ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥è°ƒç”¨ KD æ ‘ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p><a name="K1rKD"></a></p><h3 id="ç”¨-KNN-åšå›å½’"><a href="#ç”¨-KNN-åšå›å½’" class="headerlink" title="ç”¨ KNN åšå›å½’"></a>ç”¨ KNN åšå›å½’</h3><p>KNN ä¸ä»…å¯ä»¥åšåˆ†ç±»ï¼Œè¿˜å¯ä»¥åšå›å½’ã€‚é¦–å…ˆè®²ä¸‹ä»€ä¹ˆæ˜¯å›å½’ã€‚åœ¨å¼€å¤´ç”µå½±è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå¦‚æœæƒ³è¦å¯¹æœªçŸ¥ç”µå½±è¿›è¡Œç±»å‹åˆ’åˆ†ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†ç±»é—®é¢˜ã€‚é¦–å…ˆçœ‹ä¸€ä¸‹è¦åˆ†ç±»çš„æœªçŸ¥ç”µå½±ï¼Œç¦»å®ƒæœ€è¿‘çš„ K éƒ¨ç”µå½±å¤§å¤šæ•°å±äºå“ªä¸ªåˆ†ç±»ï¼Œè¿™éƒ¨ç”µå½±å°±å±äºå“ªä¸ªåˆ†ç±»ã€‚å¦‚æœæ˜¯ä¸€éƒ¨æ–°ç”µå½±ï¼Œå·²çŸ¥å®ƒæ˜¯çˆ±æƒ…ç‰‡ï¼Œæƒ³è¦çŸ¥é“å®ƒçš„æ‰“æ–—æ¬¡æ•°ã€æ¥å»æ¬¡æ•°å¯èƒ½æ˜¯å¤šå°‘ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå›å½’é—®é¢˜ã€‚</p><p>é‚£ä¹ˆ KNN å¦‚ä½•åšå›å½’å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªæ–°ç”µå½± Xï¼Œæˆ‘ä»¬è¦é¢„æµ‹å®ƒçš„æŸä¸ªå±æ€§å€¼ï¼Œæ¯”å¦‚æ‰“æ–—æ¬¡æ•°ï¼Œå…·ä½“ç‰¹å¾å±æ€§å’Œæ•°å€¼å¦‚ä¸‹æ‰€ç¤ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šå…ˆè®¡ç®—å¾…æµ‹ç‚¹ï¼ˆæ–°ç”µå½± Xï¼‰åˆ°å·²çŸ¥ç‚¹çš„è·ç¦»ï¼Œé€‰æ‹©è·ç¦»æœ€è¿‘çš„ K ä¸ªç‚¹ã€‚å‡è®¾ K=3ï¼Œæ­¤æ—¶æœ€è¿‘çš„ 3 ä¸ªç‚¹ï¼ˆç”µå½±ï¼‰åˆ†åˆ«æ˜¯ã€Šæˆ˜ç‹¼ã€‹ï¼Œã€Šçº¢æµ·è¡ŒåŠ¨ã€‹å’Œã€Šç¢Ÿä¸­è° 6ã€‹ï¼Œé‚£ä¹ˆå®ƒçš„æ‰“æ–—æ¬¡æ•°å°±æ˜¯è¿™ 3 ä¸ªç‚¹çš„è¯¥å±æ€§å€¼çš„å¹³å‡å€¼ï¼Œå³ (100+95+105)/3=100 æ¬¡ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546868363-1e581966-91b8-4011-a72b-2ac38608fab1.png#align=left&display=inline&height=396&name=35dc8cc7d781c94b0fbaa0b53c01f716.png&originHeight=396&originWidth=890&size=66224&status=done&style=none&width=890" alt="35dc8cc7d781c94b0fbaa0b53c01f716.png"></p><p><a name="aZ4z7"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä»Šå¤©æˆ‘ç»™ä½ è®²äº† KNN çš„åŸç†ï¼Œä»¥åŠ KNN ä¸­çš„å‡ ä¸ªå…³é”®å› ç´ ã€‚æ¯”å¦‚é’ˆå¯¹ K å€¼çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨äº¤å‰éªŒè¯çš„æ–¹å¼å¾—å‡ºã€‚</p><p>é’ˆå¯¹æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»çš„å®šä¹‰ï¼Œå¸¸ç”¨çš„æœ‰ 5 ç§è¡¨è¾¾æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æ¥å®šä¹‰ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»å…¬å¼ã€‚ä¸åŒçš„å®šä¹‰ï¼Œé€‚ç”¨çš„åœºæ™¯ä¸åŒã€‚æ¯”å¦‚åœ¨æœç´¢å…³é”®è¯æ¨èä¸­ï¼Œä½™å¼¦è·ç¦»æ˜¯æ›´ä¸ºå¸¸ç”¨çš„ã€‚</p><p>å¦å¤–ä½ ä¹Ÿå¯ä»¥ç”¨ KNN è¿›è¡Œå›å½’ï¼Œé€šè¿‡ K ä¸ªé‚»å±…å¯¹æ–°çš„ç‚¹çš„å±æ€§è¿›è¡Œå€¼çš„é¢„æµ‹ã€‚KNN çš„ç†è®ºç®€å•ç›´æ¥ï¼Œé’ˆå¯¹ KNN ä¸­çš„æœç´¢ä¹Ÿæœ‰ç›¸åº”çš„ KD æ ‘è¿™ä¸ªæ•°æ®ç»“æ„ã€‚KNN çš„ç†è®ºæˆç†Ÿï¼Œå¯ä»¥åº”ç”¨åˆ°çº¿æ€§å’Œéçº¿æ€§çš„åˆ†ç±»é—®é¢˜ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨äºå›å½’åˆ†æã€‚ä¸è¿‡ KNN éœ€è¦è®¡ç®—æµ‹è¯•ç‚¹ä¸æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå½“æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œè®¡ç®—é‡æ˜¯éå¸¸åºå¤§çš„ï¼Œéœ€è¦å¤§é‡çš„å­˜å‚¨ç©ºé—´å’Œè®¡ç®—æ—¶é—´ã€‚å¦å¤–å¦‚æœæ ·æœ¬åˆ†ç±»ä¸å‡è¡¡ï¼Œæ¯”å¦‚æœ‰äº›åˆ†ç±»çš„æ ·æœ¬éå¸¸å°‘ï¼Œé‚£ä¹ˆè¯¥ç±»åˆ«çš„åˆ†ç±»å‡†ç¡®ç‡å°±ä¼šä½å¾ˆå¤šã€‚</p><p>å½“ç„¶åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åˆ°å„ç§å¯èƒ½å­˜åœ¨çš„æƒ…å†µï¼Œæ¯”å¦‚é’ˆå¯¹æŸç±»æ ·æœ¬å°‘çš„æƒ…å†µï¼Œå¯ä»¥å¢åŠ è¯¥ç±»åˆ«çš„æƒé‡ã€‚åŒæ · KNN ä¹Ÿå¯ä»¥ç”¨äºæ¨èç®—æ³•ï¼Œè™½ç„¶ç°åœ¨å¾ˆå¤šæ¨èç³»ç»Ÿçš„ç®—æ³•ä¼šä½¿ç”¨ TD-IDFã€ååŒè¿‡æ»¤ã€Apriori ç®—æ³•ï¼Œä¸è¿‡é’ˆå¯¹æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ KNN ä½œä¸ºæ¨èç®—æ³•ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584546977892-60b1a6bc-e309-4c4a-be3e-203c729d42f2.png#align=left&display=inline&height=1017&name=d67073bef9247e1ca7a58ae7869f390f.png&originHeight=1017&originWidth=1172&size=243740&status=done&style=none&width=1172" alt="d67073bef9247e1ca7a58ae7869f390f.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;KNN çš„è‹±æ–‡å« K-Nearest Neighborï¼Œåº”è¯¥ç®—æ˜¯æ•°æ®æŒ–æ˜ç®—æ³•ä¸­æœ€ç®€å•çš„ä¸€ç§ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªä¾‹å­ä½“ä¼šä¸‹ã€‚å‡è®¾ï¼Œæˆ‘ä»¬æƒ³å¯¹ç”µå½±çš„ç±»å‹è¿›è¡Œ
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-SVM_2</title>
    <link href="cpeixin.cn/2019/01/25/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-SVM-2/"/>
    <id>cpeixin.cn/2019/01/25/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-SVM-2/</id>
    <published>2019-01-25T12:27:13.000Z</published>
    <updated>2020-03-28T12:51:04.700Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>SVM æ˜¯æœ‰ç›‘ç£çš„å­¦ä¹ æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆå¯¹æ•°æ®æ‰“ä¸Šåˆ†ç±»æ ‡ç­¾ï¼Œé€šè¿‡æ±‚è§£æœ€å¤§åˆ†ç±»é—´éš”æ¥æ±‚è§£äºŒåˆ†ç±»é—®é¢˜ã€‚å¦‚æœè¦æ±‚è§£å¤šåˆ†ç±»é—®é¢˜ï¼Œå¯ä»¥å°†å¤šä¸ªäºŒåˆ†ç±»å™¨ç»„åˆèµ·æ¥å½¢æˆä¸€ä¸ªå¤šåˆ†ç±»å™¨ã€‚</p><p><a name="c0qdV"></a></p><h3 id="sklearn-ä¸­ä½¿ç”¨-SVM"><a href="#sklearn-ä¸­ä½¿ç”¨-SVM" class="headerlink" title="sklearn ä¸­ä½¿ç”¨ SVM"></a>sklearn ä¸­ä½¿ç”¨ SVM</h3><p>åœ¨ Python çš„ sklearn å·¥å…·åŒ…ä¸­æœ‰ SVM ç®—æ³•ï¼Œé¦–å…ˆéœ€è¦å¼•ç”¨å·¥å…·åŒ…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br></pre></td></tr></table></figure><p>SVM æ—¢å¯ä»¥åšå›å½’ï¼Œä¹Ÿå¯ä»¥åšåˆ†ç±»å™¨ã€‚</p><p>å½“ç”¨ SVM åšå›å½’çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ SVR æˆ– LinearSVRã€‚SVR çš„è‹±æ–‡æ˜¯ Support Vector Regressionã€‚</p><p>è¿™ç¯‡æ–‡ç« åªè®²åˆ†ç±»ï¼Œè¿™é‡Œåªæ˜¯ç®€å•åœ°æä¸€ä¸‹ã€‚å½“åšåˆ†ç±»å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ SVC æˆ–è€… LinearSVCã€‚SVC çš„è‹±æ–‡æ˜¯ Support Vector Classificationã€‚</p><p>æˆ‘ç®€å•è¯´ä¸€ä¸‹è¿™ä¸¤è€…ä¹‹å‰çš„å·®åˆ«ã€‚</p><p>ä»åå­—ä¸Šä½ èƒ½çœ‹å‡º LinearSVC æ˜¯ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œç”¨äºå¤„ç†çº¿æ€§å¯åˆ†çš„æ•°æ®ï¼Œåªèƒ½ä½¿ç”¨çº¿æ€§æ ¸å‡½æ•°ã€‚ä¸Šä¸€èŠ‚ï¼Œæˆ‘è®²åˆ° SVM æ˜¯é€šè¿‡æ ¸å‡½æ•°å°†æ ·æœ¬ä»åŸå§‹ç©ºé—´æ˜ å°„åˆ°ä¸€ä¸ªæ›´é«˜ç»´çš„ç‰¹è´¨ç©ºé—´ä¸­ï¼Œè¿™æ ·å°±ä½¿å¾—æ ·æœ¬åœ¨æ–°çš„ç©ºé—´ä¸­çº¿æ€§å¯åˆ†ã€‚</p><p>å¦‚æœæ˜¯é’ˆå¯¹éçº¿æ€§çš„æ•°æ®ï¼Œéœ€è¦ç”¨åˆ° SVCã€‚åœ¨ SVC ä¸­ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨åˆ°çº¿æ€§æ ¸å‡½æ•°ï¼ˆè¿›è¡Œçº¿æ€§åˆ’åˆ†ï¼‰ï¼Œä¹Ÿèƒ½ä½¿ç”¨é«˜ç»´çš„æ ¸å‡½æ•°ï¼ˆè¿›è¡Œéçº¿æ€§åˆ’åˆ†ï¼‰ã€‚</p><p><a name="eWSro"></a></p><h3 id="åˆ›å»ºä¸€ä¸ª-SVM-åˆ†ç±»å™¨"><a href="#åˆ›å»ºä¸€ä¸ª-SVM-åˆ†ç±»å™¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ª SVM åˆ†ç±»å™¨"></a>åˆ›å»ºä¸€ä¸ª SVM åˆ†ç±»å™¨</h3><p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ SVC çš„æ„é€ å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = svm.SVC(kernel=â€˜rbfâ€™, C=<span class="number">1.0</span>, gamma=â€˜autoâ€™)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸‰ä¸ªé‡è¦çš„å‚æ•° kernelã€C å’Œ gammaã€‚</p><p>kernel ä»£è¡¨æ ¸å‡½æ•°çš„é€‰æ‹©ï¼Œå®ƒæœ‰å››ç§é€‰æ‹©ï¼Œåªä¸è¿‡é»˜è®¤æ˜¯ rbfï¼Œå³é«˜æ–¯æ ¸å‡½æ•°ã€‚</p><ol><li>linearï¼šçº¿æ€§æ ¸å‡½æ•°</li><li>polyï¼šå¤šé¡¹å¼æ ¸å‡½æ•°</li><li>rbfï¼šé«˜æ–¯æ ¸å‡½æ•°ï¼ˆé»˜è®¤ï¼‰</li><li>sigmoidï¼šsigmoid æ ¸å‡½æ•°</li></ol><p>è¿™å››ç§å‡½æ•°ä»£è¡¨ä¸åŒçš„æ˜ å°„æ–¹å¼ï¼Œä½ å¯èƒ½ä¼šé—®ï¼Œåœ¨å®é™…å·¥ä½œä¸­ï¼Œå¦‚ä½•é€‰æ‹©è¿™ 4 ç§æ ¸å‡½æ•°å‘¢ï¼Ÿæˆ‘æ¥ç»™ä½ è§£é‡Šä¸€ä¸‹ï¼š</p><p>çº¿æ€§æ ¸å‡½æ•°ï¼Œæ˜¯åœ¨æ•°æ®çº¿æ€§å¯åˆ†çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ï¼Œè¿ç®—é€Ÿåº¦å¿«ï¼Œæ•ˆæœå¥½ã€‚ä¸è¶³åœ¨äºå®ƒä¸èƒ½å¤„ç†çº¿æ€§ä¸å¯åˆ†çš„æ•°æ®ã€‚</p><p>å¤šé¡¹å¼æ ¸å‡½æ•°å¯ä»¥å°†æ•°æ®ä»ä½ç»´ç©ºé—´æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ï¼Œä½†å‚æ•°æ¯”è¾ƒå¤šï¼Œè®¡ç®—é‡å¤§ã€‚</p><p>é«˜æ–¯æ ¸å‡½æ•°åŒæ ·å¯ä»¥å°†æ ·æœ¬æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ï¼Œä½†ç›¸æ¯”äºå¤šé¡¹å¼æ ¸å‡½æ•°æ¥è¯´æ‰€éœ€çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œé€šå¸¸æ€§èƒ½ä¸é”™ï¼Œæ‰€ä»¥æ˜¯é»˜è®¤ä½¿ç”¨çš„æ ¸å‡½æ•°ã€‚</p><p>äº†è§£æ·±åº¦å­¦ä¹ çš„åŒå­¦åº”è¯¥çŸ¥é“ sigmoid ç»å¸¸ç”¨åœ¨ç¥ç»ç½‘ç»œçš„æ˜ å°„ä¸­ã€‚å› æ­¤å½“é€‰ç”¨ sigmoid æ ¸å‡½æ•°æ—¶ï¼ŒSVM å®ç°çš„æ˜¯å¤šå±‚ç¥ç»ç½‘ç»œã€‚ä¸Šé¢ä»‹ç»çš„ 4 ç§æ ¸å‡½æ•°ï¼Œé™¤äº†ç¬¬ä¸€ç§çº¿æ€§æ ¸å‡½æ•°å¤–ï¼Œå…¶ä½™ 3 ç§éƒ½å¯ä»¥å¤„ç†çº¿æ€§ä¸å¯åˆ†çš„æ•°æ®ã€‚</p><p>å‚æ•° C ä»£è¡¨ç›®æ ‡å‡½æ•°çš„æƒ©ç½šç³»æ•°ï¼Œæƒ©ç½šç³»æ•°æŒ‡çš„æ˜¯åˆ†é”™æ ·æœ¬æ—¶çš„æƒ©ç½šç¨‹åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º 1.0ã€‚å½“ C è¶Šå¤§çš„æ—¶å€™ï¼Œåˆ†ç±»å™¨çš„å‡†ç¡®æ€§è¶Šé«˜ï¼Œä½†åŒæ ·å®¹é”™ç‡ä¼šè¶Šä½ï¼Œæ³›åŒ–èƒ½åŠ›ä¼šå˜å·®ã€‚ç›¸åï¼ŒC è¶Šå°ï¼Œæ³›åŒ–èƒ½åŠ›è¶Šå¼ºï¼Œä½†æ˜¯å‡†ç¡®æ€§ä¼šé™ä½ã€‚</p><p>å‚æ•° gamma ä»£è¡¨æ ¸å‡½æ•°çš„ç³»æ•°ï¼Œé»˜è®¤ä¸ºæ ·æœ¬ç‰¹å¾æ•°çš„å€’æ•°ï¼Œå³ gamma = 1 / n_featuresã€‚åœ¨åˆ›å»º SVM åˆ†ç±»å™¨ä¹‹åï¼Œå°±å¯ä»¥è¾“å…¥è®­ç»ƒé›†å¯¹å®ƒè¿›è¡Œè®­ç»ƒã€‚æˆ‘ä»¬ä½¿ç”¨ model.fit(train_X,train_y)ï¼Œä¼ å…¥è®­ç»ƒé›†ä¸­çš„ç‰¹å¾å€¼çŸ©é˜µ train_X å’Œåˆ†ç±»æ ‡è¯† train_yã€‚ç‰¹å¾å€¼çŸ©é˜µå°±æ˜¯æˆ‘ä»¬åœ¨ç‰¹å¾é€‰æ‹©åæŠ½å–çš„ç‰¹å¾å€¼çŸ©é˜µï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å…¨éƒ¨æ•°æ®ä½œä¸ºç‰¹å¾å€¼çŸ©é˜µï¼‰ï¼›åˆ†ç±»æ ‡è¯†å°±æ˜¯äººå·¥äº‹å…ˆé’ˆå¯¹æ¯ä¸ªæ ·æœ¬æ ‡è¯†çš„åˆ†ç±»ç»“æœã€‚è¿™æ ·æ¨¡å‹ä¼šè‡ªåŠ¨è¿›è¡Œåˆ†ç±»å™¨çš„è®­ç»ƒã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ prediction=model.predict(test_X) æ¥å¯¹ç»“æœè¿›è¡Œé¢„æµ‹ï¼Œä¼ å…¥æµ‹è¯•é›†ä¸­çš„æ ·æœ¬ç‰¹å¾çŸ©é˜µ test_Xï¼Œå¯ä»¥å¾—åˆ°æµ‹è¯•é›†çš„é¢„æµ‹åˆ†ç±»ç»“æœ predictionã€‚</p><p>åŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºçº¿æ€§ SVM åˆ†ç±»å™¨ï¼Œä½¿ç”¨ model=svm.LinearSVC()ã€‚åœ¨ LinearSVC ä¸­æ²¡æœ‰ kernel è¿™ä¸ªå‚æ•°ï¼Œé™åˆ¶æˆ‘ä»¬åªèƒ½ä½¿ç”¨çº¿æ€§æ ¸å‡½æ•°ã€‚ç”±äº LinearSVC å¯¹çº¿æ€§åˆ†ç±»åšäº†ä¼˜åŒ–ï¼Œå¯¹äºæ•°æ®é‡å¤§çš„çº¿æ€§å¯åˆ†é—®é¢˜ï¼Œä½¿ç”¨ LinearSVC çš„æ•ˆç‡è¦é«˜äº SVCã€‚</p><p>å¦‚æœä½ ä¸çŸ¥é“æ•°æ®é›†æ˜¯å¦ä¸ºçº¿æ€§ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ SVC ç±»åˆ›å»º SVM åˆ†ç±»å™¨ã€‚</p><p>åœ¨è®­ç»ƒå’Œé¢„æµ‹ä¸­ï¼ŒLinearSVC å’Œ SVC ä¸€æ ·ï¼Œéƒ½æ˜¯ä½¿ç”¨ model.fit(train_X,train_y) å’Œ model.predict(test_X)ã€‚</p><p><a name="ZQodv"></a></p><h3 id="SVM-è¿›è¡Œä¹³è…ºç™Œæ£€æµ‹"><a href="#SVM-è¿›è¡Œä¹³è…ºç™Œæ£€æµ‹" class="headerlink" title="SVM è¿›è¡Œä¹³è…ºç™Œæ£€æµ‹"></a>SVM è¿›è¡Œä¹³è…ºç™Œæ£€æµ‹</h3><p>åœ¨äº†è§£äº†å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨ SVM åˆ†ç±»å™¨åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„é¡¹ç›®ï¼Œæ•°æ®é›†æ¥è‡ªç¾å›½å¨æ–¯åº·æ˜Ÿå·çš„ä¹³è…ºç™Œè¯Šæ–­æ•°æ®é›†ï¼Œç‚¹å‡»è¿™é‡Œè¿›è¡Œä¸‹è½½ <a href="https://github.com/cystanford/breast_cancer_data/blob/master/data.csv" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/cystanford/breast_cancer_data/blob/master/data.csv</a>ã€‚åŒ»ç–—äººå‘˜é‡‡é›†äº†æ‚£è€…ä¹³è…ºè‚¿å—ç»è¿‡ç»†é’ˆç©¿åˆº (FNA) åçš„æ•°å­—åŒ–å›¾åƒï¼Œå¹¶ä¸”å¯¹è¿™äº›æ•°å­—å›¾åƒè¿›è¡Œäº†ç‰¹å¾æå–ï¼Œè¿™äº›ç‰¹å¾å¯ä»¥æè¿°å›¾åƒä¸­çš„ç»†èƒæ ¸å‘ˆç°ã€‚è‚¿ç˜¤å¯ä»¥åˆ†æˆè‰¯æ€§å’Œæ¶æ€§ã€‚éƒ¨åˆ†æ•°æ®æˆªå±å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584281681475-3c6ed20a-f7a6-4633-970e-e8be3f9ca5dc.png#align=left&display=inline&height=968&name=image.png&originHeight=968&originWidth=1482&size=238425&status=done&style=none&width=1482" alt="image.png"></p><p>æ•°æ®è¡¨ä¸€å…±åŒ…æ‹¬äº† 32 ä¸ªå­—æ®µï¼Œä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584281699309-c39300dc-5a10-4181-8c0f-eb37dc117515.png#align=left&display=inline&height=1031&name=1e6af6fa8bebdfba10457c111b5e9c13.png&originHeight=1031&originWidth=622&size=325518&status=done&style=none&width=622" alt="1e6af6fa8bebdfba10457c111b5e9c13.png"></p><p>ä¸Šé¢çš„è¡¨æ ¼ä¸­ï¼Œmean ä»£è¡¨å¹³å‡å€¼ï¼Œse ä»£è¡¨æ ‡å‡†å·®ï¼Œworst ä»£è¡¨æœ€å¤§å€¼ï¼ˆ3 ä¸ªæœ€å¤§å€¼çš„å¹³å‡å€¼ï¼‰ã€‚æ¯å¼ å›¾åƒéƒ½è®¡ç®—äº†ç›¸åº”çš„ç‰¹å¾ï¼Œå¾—å‡ºäº†è¿™ 30 ä¸ªç‰¹å¾å€¼ï¼ˆä¸åŒ…æ‹¬ ID å­—æ®µå’Œåˆ†ç±»æ ‡è¯†ç»“æœå­—æ®µ diagnosisï¼‰ï¼Œå®é™…ä¸Šæ˜¯ 10 ä¸ªç‰¹å¾å€¼ï¼ˆradiusã€textureã€perimeterã€areaã€smoothnessã€compactnessã€concavityã€concave pointsã€symmetry å’Œ fractal_dimension_meanï¼‰çš„ 3 ä¸ªç»´åº¦ï¼Œå¹³å‡ã€æ ‡å‡†å·®å’Œæœ€å¤§å€¼ã€‚è¿™äº›ç‰¹å¾å€¼éƒ½ä¿ç•™äº† 4 ä½æ•°å­—ã€‚å­—æ®µä¸­æ²¡æœ‰ç¼ºå¤±çš„å€¼ã€‚åœ¨ 569 ä¸ªæ‚£è€…ä¸­ï¼Œä¸€å…±æœ‰ 357 ä¸ªæ˜¯è‰¯æ€§ï¼Œ212 ä¸ªæ˜¯æ¶æ€§ã€‚</p><p>å¥½äº†ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç”Ÿæˆä¸€ä¸ªä¹³è…ºç™Œè¯Šæ–­çš„ SVM åˆ†ç±»å™¨ï¼Œå¹¶è®¡ç®—è¿™ä¸ªåˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚é¦–å…ˆè®¾å®šé¡¹ç›®çš„æ‰§è¡Œæµç¨‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584282681711-9d8d82c5-ea3c-489d-a0c1-1ddc0ed43531.png#align=left&display=inline&height=558&name=image.png&originHeight=558&originWidth=1216&size=382196&status=done&style=none&width=1216" alt="image.png"></p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åŠ è½½æ•°æ®æºï¼›åœ¨å‡†å¤‡é˜¶æ®µï¼Œéœ€è¦å¯¹åŠ è½½çš„æ•°æ®æºè¿›è¡Œæ¢ç´¢ï¼ŒæŸ¥çœ‹æ ·æœ¬ç‰¹å¾å’Œç‰¹å¾å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®å¯è§†åŒ–ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬å¯¹æ•°æ®åŠæ•°æ®ä¹‹é—´çš„å…³ç³»è¿›ä¸€æ­¥åŠ æ·±äº†è§£ã€‚</p><p>ç„¶åæŒ‰ç…§â€œå®Œå…¨åˆä¸€â€çš„å‡†åˆ™æ¥è¯„ä¼°æ•°æ®çš„è´¨é‡ï¼Œå¦‚æœæ•°æ®è´¨é‡ä¸é«˜å°±éœ€è¦åšæ•°æ®æ¸…æ´—ã€‚æ•°æ®æ¸…æ´—ä¹‹åï¼Œä½ å¯ä»¥åšç‰¹å¾é€‰æ‹©ï¼Œæ–¹ä¾¿åç»­çš„æ¨¡å‹è®­ç»ƒï¼›</p><p>åœ¨åˆ†ç±»é˜¶æ®µï¼Œé€‰æ‹©æ ¸å‡½æ•°è¿›è¡Œè®­ç»ƒï¼Œå¦‚æœä¸çŸ¥é“æ•°æ®æ˜¯å¦ä¸ºçº¿æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ SVC(kernel=â€˜rbfâ€™) ï¼Œä¹Ÿå°±æ˜¯é«˜æ–¯æ ¸å‡½æ•°çš„ SVM åˆ†ç±»å™¨ã€‚ç„¶åå¯¹è®­ç»ƒå¥½çš„æ¨¡å‹ç”¨æµ‹è¯•é›†è¿›è¡Œè¯„ä¼°ã€‚æŒ‰ç…§ä¸Šé¢çš„æµç¨‹ï¼Œæˆ‘ä»¬æ¥ç¼–å†™ä¸‹ä»£ç ï¼ŒåŠ è½½æ•°æ®å¹¶å¯¹æ•°æ®åšéƒ¨åˆ†çš„æ¢ç´¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ•°æ®é›†ï¼Œä½ éœ€è¦æŠŠæ•°æ®æ”¾åˆ°ç›®å½•ä¸­</span></span><br><span class="line">data = pd.read_csv(<span class="string">"./data.csv"</span>)</span><br><span class="line"><span class="comment"># æ•°æ®æ¢ç´¢</span></span><br><span class="line"><span class="comment"># å› ä¸ºæ•°æ®é›†ä¸­åˆ—æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬éœ€è¦æŠŠdataframeä¸­çš„åˆ—å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥</span></span><br><span class="line">pd.set_option(<span class="string">'display.max_columns'</span>, <span class="literal">None</span>)</span><br><span class="line">print(data.columns)</span><br><span class="line">print(data.head(<span class="number">5</span>))</span><br><span class="line">print(data.describe())</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœä¸­ï¼Œä½ èƒ½çœ‹åˆ° 32 ä¸ªå­—æ®µé‡Œï¼Œid æ˜¯æ²¡æœ‰å®é™…å«ä¹‰çš„ï¼Œå¯ä»¥å»æ‰ã€‚diagnosis å­—æ®µçš„å–å€¼ä¸º B æˆ–è€… Mï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 0 å’Œ 1 æ¥æ›¿ä»£ã€‚å¦å¤–å…¶ä½™çš„ 30 ä¸ªå­—æ®µï¼Œå…¶å®å¯ä»¥åˆ†æˆä¸‰ç»„å­—æ®µï¼Œä¸‹åˆ’çº¿åé¢çš„ meanã€se å’Œ worst ä»£è¡¨äº†æ¯ç»„å­—æ®µä¸åŒçš„åº¦é‡æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯å¹³å‡å€¼ã€æ ‡å‡†å·®å’Œæœ€å¤§å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å°†ç‰¹å¾å­—æ®µåˆ†æˆ3ç»„</span></span><br><span class="line">features_mean= list(data.columns[<span class="number">2</span>:<span class="number">12</span>])</span><br><span class="line">features_se= list(data.columns[<span class="number">12</span>:<span class="number">22</span>])</span><br><span class="line">features_worst=list(data.columns[<span class="number">22</span>:<span class="number">32</span>])</span><br><span class="line"><span class="comment"># æ•°æ®æ¸…æ´—</span></span><br><span class="line"><span class="comment"># IDåˆ—æ²¡æœ‰ç”¨ï¼Œåˆ é™¤è¯¥åˆ—</span></span><br><span class="line">data.drop(<span class="string">"id"</span>,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># å°†Bè‰¯æ€§æ›¿æ¢ä¸º0ï¼ŒMæ¶æ€§æ›¿æ¢ä¸º1</span></span><br><span class="line">data[<span class="string">'diagnosis'</span>]=data[<span class="string">'diagnosis'</span>].map(&#123;<span class="string">'M'</span>:<span class="number">1</span>,<span class="string">'B'</span>:<span class="number">0</span>&#125;)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬è¦åšç‰¹å¾å­—æ®µçš„ç­›é€‰ï¼Œé¦–å…ˆéœ€è¦è§‚å¯Ÿä¸‹ features_mean å„å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”¨ DataFrame çš„ corr() å‡½æ•°ï¼Œç„¶åç”¨çƒ­åŠ›å›¾å¸®æˆ‘ä»¬å¯è§†åŒ–å‘ˆç°ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿä¼šçœ‹æ•´ä½“è‰¯æ€§ã€æ¶æ€§è‚¿ç˜¤çš„è¯Šæ–­æƒ…å†µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å°†è‚¿ç˜¤è¯Šæ–­ç»“æœå¯è§†åŒ–</span></span><br><span class="line">sns.countplot(data[<span class="string">'diagnosis'</span>],label=<span class="string">"Count"</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># ç”¨çƒ­åŠ›å›¾å‘ˆç°features_meanå­—æ®µä¹‹é—´çš„ç›¸å…³æ€§</span></span><br><span class="line">corr = data[features_mean].corr()</span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line"><span class="comment"># annot=Trueæ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®</span></span><br><span class="line">sns.heatmap(corr, annot=<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>å›¾è¡¨å±•ç¤ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584283328012-45c4e411-27f8-4334-b18e-b5d1dfa2c4e5.png#align=left&display=inline&height=658&name=a65435de48cee8091bd5f83d286ddb4d.png&originHeight=658&originWidth=864&size=31224&status=done&style=none&width=864" alt="a65435de48cee8091bd5f83d286ddb4d.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584289159025-e03f3a3a-eddc-4359-9594-23febd6cc5f5.png#align=left&display=inline&height=1586&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-16%20%E4%B8%8A%E5%8D%8812.16.14.png&originHeight=1586&originWidth=1568&size=318165&status=done&style=none&width=1568" alt="å±å¹•å¿«ç…§ 2020-03-16 ä¸Šåˆ12.16.14.png"></p><p>çƒ­åŠ›å›¾ä¸­å¯¹è§’çº¿ä¸Šçš„ä¸ºå•å˜é‡è‡ªèº«çš„ç›¸å…³ç³»æ•°æ˜¯ 1ã€‚é¢œè‰²è¶Šæµ…ä»£è¡¨ç›¸å…³æ€§è¶Šå¤§ã€‚æ‰€ä»¥ä½ èƒ½çœ‹å‡ºæ¥ radius_meanã€perimeter_mean å’Œ area_mean ç›¸å…³æ€§éå¸¸å¤§ï¼Œcompactness_meanã€concavity_meanã€concave_points_mean è¿™ä¸‰ä¸ªå­—æ®µä¹Ÿæ˜¯ç›¸å…³çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å–å…¶ä¸­çš„ä¸€ä¸ªä½œä¸ºä»£è¡¨ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è¿›è¡Œç‰¹å¾é€‰æ‹©å‘¢ï¼Ÿç‰¹å¾é€‰æ‹©çš„ç›®çš„æ˜¯é™ç»´ï¼Œç”¨å°‘é‡çš„ç‰¹å¾ä»£è¡¨æ•°æ®çš„ç‰¹æ€§ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å¢å¼ºåˆ†ç±»å™¨çš„æ³›åŒ–èƒ½åŠ›ï¼Œé¿å…æ•°æ®è¿‡æ‹Ÿåˆã€‚</p><p>æˆ‘ä»¬èƒ½çœ‹åˆ° meanã€se å’Œ worst è¿™ä¸‰ç»„ç‰¹å¾æ˜¯å¯¹åŒä¸€ç»„å†…å®¹çš„ä¸åŒåº¦é‡æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä¿ç•™ mean è¿™ç»„ç‰¹å¾ï¼Œåœ¨ç‰¹å¾é€‰æ‹©ä¸­å¿½ç•¥æ‰ se å’Œ worstã€‚åŒæ—¶æˆ‘ä»¬èƒ½çœ‹åˆ° mean è¿™ç»„ç‰¹å¾ä¸­ï¼Œradius_meanã€perimeter_meanã€area_mean è¿™ä¸‰ä¸ªå±æ€§ç›¸å…³æ€§å¤§ï¼Œcompactness_meanã€daconcavity_meanã€concave points_mean è¿™ä¸‰ä¸ªå±æ€§ç›¸å…³æ€§å¤§ã€‚</p><p>æˆ‘ä»¬åˆ†åˆ«ä»è¿™ 2 ç±»ä¸­é€‰æ‹© 1 ä¸ªå±æ€§ä½œä¸ºä»£è¡¨ï¼Œæ¯”å¦‚ radius_mean å’Œ compactness_meanã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠåŸæ¥çš„ 10 ä¸ªå±æ€§ç¼©å‡ä¸º 6 ä¸ªå±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç‰¹å¾é€‰æ‹©</span></span><br><span class="line">features_remain = [<span class="string">'radius_mean'</span>,<span class="string">'texture_mean'</span>, <span class="string">'smoothness_mean'</span>,<span class="string">'compactness_mean'</span>,</span><br><span class="line">                   <span class="string">'symmetry_mean'</span>, <span class="string">'fractal_dimension_mean'</span>]</span><br></pre></td></tr></table></figure><p>å¯¹ç‰¹å¾è¿›è¡Œé€‰æ‹©ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡†å¤‡è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># æŠ½å–30%çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†</span></span><br><span class="line">train, test = train_test_split(data, test_size = <span class="number">0.3</span>)<span class="comment"># in this our main data is splitted into train and test</span></span><br><span class="line"><span class="comment"># æŠ½å–ç‰¹å¾é€‰æ‹©çš„æ•°å€¼ä½œä¸ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®</span></span><br><span class="line">train_X = train[features_remain]</span><br><span class="line">train_y=train[<span class="string">'diagnosis'</span>]</span><br><span class="line">test_X= test[features_remain]</span><br><span class="line">test_y =test[<span class="string">'diagnosis'</span>]</span><br></pre></td></tr></table></figure><p>åœ¨è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œè§„èŒƒåŒ–ï¼Œè¿™æ ·è®©æ•°æ®åŒåœ¨åŒä¸€ä¸ªé‡çº§ä¸Šï¼Œé¿å…å› ä¸ºç»´åº¦é—®é¢˜é€ æˆæ•°æ®è¯¯å·®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># é‡‡ç”¨Z-Scoreè§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1</span></span><br><span class="line">ss = StandardScaler()</span><br><span class="line">train_X = ss.fit_transform(train_X)</span><br><span class="line">test_X = ss.transform(test_X)</span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬å¯ä»¥è®© SVM åšè®­ç»ƒå’Œé¢„æµ‹äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºSVMåˆ†ç±»å™¨</span></span><br><span class="line">model = svm.SVC()</span><br><span class="line"><span class="comment"># ç”¨è®­ç»ƒé›†åšè®­ç»ƒ</span></span><br><span class="line">model.fit(train_X,train_y)</span><br><span class="line"><span class="comment"># ç”¨æµ‹è¯•é›†åšé¢„æµ‹</span></span><br><span class="line">prediction=model.predict(test_X)</span><br><span class="line">print(<span class="string">'å‡†ç¡®ç‡: '</span>, metrics.accuracy_score(prediction,test_y))</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å‡†ç¡®ç‡:  <span class="number">0.9181286549707602</span></span><br></pre></td></tr></table></figure><p>ä¹³è…ºç™Œè¯Šæ–­åˆ†ç±»çš„ SVM å®æˆ˜ï¼Œä»è¿™ä¸ªè¿‡ç¨‹ä¸­æ•´ä¸ªæ‰§è¡Œçš„æµç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æ•°æ®æ¢ç´¢ã€æ•°æ®æ¸…æ´—ã€ç‰¹å¾é€‰æ‹©ã€SVM è®­ç»ƒå’Œç»“æœè¯„ä¼°ç­‰ç¯èŠ‚ã€‚sklearn å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¥½çš„å·¥å…·ï¼Œå¯¹ä¸ŠèŠ‚è¯¾ä¸­è®²åˆ°çš„ SVM çš„åˆ›å»ºå’Œè®­ç»ƒéƒ½è¿›è¡Œäº†å°è£…ï¼Œè®©æˆ‘ä»¬æ— éœ€å…³å¿ƒä¸­é—´çš„è¿ç®—ç»†èŠ‚ã€‚ä½†æ­£å› ä¸ºè¿™æ ·ï¼Œæˆ‘ä»¬æ›´éœ€è¦å¯¹æ¯ä¸ªæµç¨‹ç†Ÿç»ƒæŒæ¡ï¼Œé€šè¿‡å®æˆ˜é¡¹ç›®è®­ç»ƒæ•°æ®åŒ–æ€ç»´å’Œå¯¹æ•°æ®çš„æ•æ„Ÿåº¦ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1584283983373-21da2dfb-3082-4a72-b3dd-6722a2d4af30.png#align=left&display=inline&height=309&name=797fe646ae4668139600fca2c50c5282.png&originHeight=309&originWidth=864&size=86329&status=done&style=none&width=864" alt="797fe646ae4668139600fca2c50c5282.png"></p><p>å…¨éƒ¨ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm, metrics</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line">data = pandas.read_csv(<span class="string">"data.csv"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pandas.set_option(<span class="string">'display.max_columns'</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ç‰¹å¾å­—æ®µåˆ†æˆ3ç»„</span></span><br><span class="line">features_mean= list(data.columns[<span class="number">2</span>:<span class="number">12</span>])</span><br><span class="line">features_se= list(data.columns[<span class="number">12</span>:<span class="number">22</span>])</span><br><span class="line">features_worst=list(data.columns[<span class="number">22</span>:<span class="number">32</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®æ¸…æ´—</span></span><br><span class="line"><span class="comment"># IDåˆ—æ²¡æœ‰ç”¨ï¼Œåˆ é™¤è¯¥åˆ—</span></span><br><span class="line">data.drop(<span class="string">"id"</span>,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># å°†Bè‰¯æ€§æ›¿æ¢ä¸º0ï¼ŒMæ¶æ€§æ›¿æ¢ä¸º1</span></span><br><span class="line">data[<span class="string">'diagnosis'</span>]=data[<span class="string">'diagnosis'</span>].map(&#123;<span class="string">'M'</span>:<span class="number">1</span>,<span class="string">'B'</span>:<span class="number">0</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># # å°†è‚¿ç˜¤è¯Šæ–­ç»“æœå¯è§†åŒ–</span></span><br><span class="line"><span class="comment"># sns.countplot(data['diagnosis'],label="Count")</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"><span class="comment"># # ç”¨çƒ­åŠ›å›¾å‘ˆç°features_meanå­—æ®µä¹‹é—´çš„ç›¸å…³æ€§</span></span><br><span class="line"><span class="comment"># corr = data[features_mean].corr()</span></span><br><span class="line"><span class="comment"># plt.figure(figsize=(14,14))</span></span><br><span class="line"><span class="comment"># # annot=Trueæ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®</span></span><br><span class="line"><span class="comment"># sns.heatmap(corr, annot=True)</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç‰¹å¾é€‰æ‹©</span></span><br><span class="line">features_remain = [<span class="string">'radius_mean'</span>,<span class="string">'texture_mean'</span>, <span class="string">'smoothness_mean'</span>,<span class="string">'compactness_mean'</span>,<span class="string">'symmetry_mean'</span>, <span class="string">'fractal_dimension_mean'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ½å–30%çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†</span></span><br><span class="line">train, test = train_test_split(data, test_size = <span class="number">0.3</span>)<span class="comment"># in this our main data is splitted into train and test</span></span><br><span class="line"><span class="comment"># æŠ½å–ç‰¹å¾é€‰æ‹©çš„æ•°å€¼ä½œä¸ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®</span></span><br><span class="line">train_X = train[features_remain]</span><br><span class="line">train_y=train[<span class="string">'diagnosis'</span>]</span><br><span class="line">test_X= test[features_remain]</span><br><span class="line">test_y =test[<span class="string">'diagnosis'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡‡ç”¨Z-Scoreè§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1</span></span><br><span class="line">ss = StandardScaler()</span><br><span class="line">train_X = ss.fit_transform(train_X)</span><br><span class="line">test_X = ss.transform(test_X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºSVMåˆ†ç±»å™¨</span></span><br><span class="line">model = svm.SVC()</span><br><span class="line"><span class="comment"># ç”¨è®­ç»ƒé›†åšè®­ç»ƒ</span></span><br><span class="line">model.fit(train_X,train_y)</span><br><span class="line"><span class="comment"># ç”¨æµ‹è¯•é›†åšé¢„æµ‹</span></span><br><span class="line">prediction=model.predict(test_X)</span><br><span class="line">print(<span class="string">'å‡†ç¡®ç‡: '</span>, metrics.accuracy_score(prediction,test_y))</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;SVM æ˜¯æœ‰ç›‘ç£çš„å­¦ä¹ æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆå¯¹æ•°æ®æ‰“ä¸Šåˆ†ç±»æ ‡ç­¾ï¼Œé€šè¿‡æ±‚è§£æœ€å¤§åˆ†ç±»é—´éš”æ¥æ±‚è§£äºŒåˆ†ç±»é—®é¢˜ã€‚å¦‚æœè¦æ±‚è§£å¤šåˆ†ç±»é—®é¢˜ï¼Œå¯ä»¥å°†å¤šä¸ªäºŒåˆ†ç±»å™¨ç»„åˆèµ·
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-SVM_1</title>
    <link href="cpeixin.cn/2019/01/24/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-SVM-1/"/>
    <id>cpeixin.cn/2019/01/24/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-SVM-1/</id>
    <published>2019-01-24T14:27:13.000Z</published>
    <updated>2020-03-18T16:15:38.313Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><a name="XR4XW"></a></p><h3 id="SVM-æ”¯æŒå‘é‡æœº"><a href="#SVM-æ”¯æŒå‘é‡æœº" class="headerlink" title="SVM æ”¯æŒå‘é‡æœº"></a>SVM æ”¯æŒå‘é‡æœº</h3><p>SVM çš„è‹±æ–‡å« Support Vector Machineï¼Œä¸­æ–‡åä¸ºæ”¯æŒå‘é‡æœºã€‚</p><p>å®ƒæ˜¯å¸¸è§çš„ä¸€ç§åˆ†ç±»æ–¹æ³•ï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼ŒSVM æ˜¯æœ‰ç›‘ç£çš„å­¦ä¹ æ¨¡å‹ã€‚ä»€ä¹ˆæ˜¯æœ‰ç›‘ç£çš„å­¦ä¹ æ¨¡å‹å‘¢ï¼Ÿå®ƒæŒ‡çš„æ˜¯æˆ‘ä»¬éœ€è¦äº‹å…ˆå¯¹æ•°æ®æ‰“ä¸Šåˆ†ç±»æ ‡ç­¾ï¼Œè¿™æ ·æœºå™¨å°±çŸ¥é“è¿™ä¸ªæ•°æ®å±äºå“ªä¸ªåˆ†ç±»ã€‚åŒæ ·æ— ç›‘ç£å­¦ä¹ ï¼Œå°±æ˜¯æ•°æ®æ²¡æœ‰è¢«æ‰“ä¸Šåˆ†ç±»æ ‡ç­¾ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬ä¸å…·å¤‡å…ˆéªŒçš„çŸ¥è¯†ï¼Œæˆ–è€…æ‰“æ ‡ç­¾çš„æˆæœ¬å¾ˆé«˜ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æœºå™¨ä»£æˆ‘ä»¬éƒ¨åˆ†å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œæ¯”å¦‚å°†æ•°æ®è¿›è¡Œèšç±»ï¼Œæ–¹ä¾¿åç»­äººå·¥å¯¹æ¯ä¸ªç±»è¿›è¡Œåˆ†æã€‚SVM ä½œä¸ºæœ‰ç›‘ç£çš„å­¦ä¹ æ¨¡å‹ï¼Œé€šå¸¸å¯ä»¥å¸®æˆ‘ä»¬æ¨¡å¼è¯†åˆ«ã€åˆ†ç±»ä»¥åŠå›å½’åˆ†æã€‚</p><p>æ¡Œå­ä¸Šæˆ‘æ”¾äº†çº¢è‰²å’Œè“è‰²ä¸¤ç§çƒï¼Œè¯·ä½ ç”¨ä¸€æ ¹æ£å­å°†è¿™ä¸¤ç§é¢œè‰²çš„çƒåˆ†å¼€ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848057858-85ca0b55-bc91-49b7-bed8-7d3bc5d55195.png#align=left&display=inline&height=704&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.44.57.png&originHeight=704&originWidth=1144&size=551983&status=done&style=none&width=1144" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.44.57.png"></p><p>ä½ å¯ä»¥å¾ˆå¿«æƒ³åˆ°è§£å†³æ–¹æ¡ˆï¼Œåœ¨çº¢è‰²å’Œè“è‰²çƒä¹‹é—´ç”»æ¡ç›´çº¿å°±å¥½äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848114572-d05fbf11-0704-4b29-8958-afdbe3c401bb.png#align=left&display=inline&height=798&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.46.07.png&originHeight=798&originWidth=1054&size=558953&status=done&style=none&width=1054" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.46.07.png"></p><p>è¿™æ¬¡éš¾åº¦å‡çº§ï¼Œæ¡Œå­ä¸Šä¾ç„¶æ”¾ç€çº¢è‰²ã€è“è‰²ä¸¤ç§çƒï¼Œä½†æ˜¯å®ƒä»¬çš„æ‘†æ”¾ä¸è§„å¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¦‚ä½•ç”¨ä¸€æ ¹æ£å­æŠŠè¿™ä¸¤ç§é¢œè‰²åˆ†å¼€å‘¢ï¼Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848163531-759be244-8599-42a2-8431-7e3d7bb84f13.png#align=left&display=inline&height=638&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.46.52.png&originHeight=638&originWidth=1054&size=436782&status=done&style=none&width=1054" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.46.52.png"></p><p>ä½ å¯èƒ½æƒ³äº†æƒ³ï¼Œè®¤ä¸ºä¸€æ ¹æ£å­æ˜¯åˆ†ä¸å¼€çš„ã€‚é™¤éæŠŠæ£å­å¼¯æ›²ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848206430-7ff055b4-a870-4c97-9ea9-c2703adc1d07.png#align=left&display=inline&height=644&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.47.44.png&originHeight=644&originWidth=1056&size=518833&status=done&style=none&width=1056" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.47.44.png"></p><p>æ‰€ä»¥è¿™é‡Œç›´çº¿å˜æˆäº†æ›²çº¿ã€‚å¦‚æœåœ¨åŒä¸€ä¸ªå¹³é¢ä¸Šæ¥çœ‹ï¼Œçº¢è“ä¸¤ç§é¢œè‰²çš„çƒæ˜¯å¾ˆéš¾åˆ†å¼€çš„ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥è®©å®ƒä»¬è‡ªç„¶åœ°åˆ†å¼€å‘¢ï¼Ÿ</p><p>è¿™é‡Œä½ å¯èƒ½ä¼šçµæœºä¸€åŠ¨ï¼ŒçŒ›æ‹ä¸€ä¸‹æ¡Œå­ï¼Œè¿™äº›å°çƒç¬é—´è…¾ç©ºè€Œèµ·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚åœ¨è…¾èµ·çš„é‚£ä¸€åˆ¹é‚£ï¼Œå‡ºç°äº†ä¸€ä¸ªæ°´å¹³åˆ‡é¢ï¼Œæ°å¥½æŠŠçº¢ã€è“ä¸¤ç§é¢œè‰²çš„çƒåˆ†å¼€ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848325363-17ccf722-32b6-4ca6-b21a-46c246fa50e7.png#align=left&display=inline&height=1494&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.49.02.png&originHeight=1494&originWidth=1140&size=1239386&status=done&style=none&width=1140" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.49.02.png"></p><p>åœ¨è¿™é‡Œï¼ŒäºŒç»´å¹³é¢å˜æˆäº†ä¸‰ç»´ç©ºé—´ã€‚åŸæ¥çš„æ›²çº¿å˜æˆäº†ä¸€ä¸ªå¹³é¢ã€‚è¿™ä¸ªå¹³é¢ï¼Œæˆ‘ä»¬å°±å«åšè¶…å¹³é¢ã€‚</p><p><a name="cmRWw"></a></p><h3 id="SVM-çš„å·¥ä½œåŸç†ç”¨"><a href="#SVM-çš„å·¥ä½œåŸç†ç”¨" class="headerlink" title="SVM çš„å·¥ä½œåŸç†ç”¨"></a>SVM çš„å·¥ä½œåŸç†ç”¨</h3><p>SVM è®¡ç®—çš„è¿‡ç¨‹å°±æ˜¯å¸®æˆ‘ä»¬æ‰¾åˆ°é‚£ä¸ªè¶…å¹³é¢çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¶…å¹³é¢å°±æ˜¯æˆ‘ä»¬çš„ SVM åˆ†ç±»å™¨ã€‚æˆ‘ä»¬å†è¿‡å¤´æ¥çœ‹æœ€ç®€å•çš„ç»ƒä¹  1ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥æœ‰å¤šç§ç›´çº¿çš„åˆ’åˆ†ï¼Œæ¯”å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç›´çº¿ Aã€ç›´çº¿ B å’Œç›´çº¿ Cï¼Œç©¶ç«Ÿå“ªç§æ‰æ˜¯æ›´å¥½çš„åˆ’åˆ†å‘¢ï¼Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848413801-0ceb1fff-52ca-4e58-9eea-1ea2271d5f50.png#align=left&display=inline&height=1076&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.50.59.png&originHeight=1076&originWidth=1062&size=531974&status=done&style=none&width=1062" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.50.59.png"></p><p>å¾ˆæ˜æ˜¾å›¾ä¸­çš„ç›´çº¿ B æ›´é è¿‘è“è‰²çƒï¼Œä½†æ˜¯åœ¨çœŸå®ç¯å¢ƒä¸‹ï¼Œçƒå†å¤šä¸€äº›çš„è¯ï¼Œè“è‰²çƒå¯èƒ½å°±è¢«åˆ’åˆ†åˆ°äº†ç›´çº¿ B çš„å³ä¾§ï¼Œè¢«è®¤ä¸ºæ˜¯çº¢è‰²çƒã€‚åŒæ ·ç›´çº¿ A æ›´é è¿‘çº¢è‰²çƒï¼Œåœ¨çœŸå®ç¯å¢ƒä¸‹ï¼Œå¦‚æœçº¢è‰²çƒå†å¤šä¸€äº›ï¼Œä¹Ÿå¯èƒ½ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯è“è‰²çƒã€‚æ‰€ä»¥ç›¸æ¯”äºç›´çº¿ A å’Œç›´çº¿ Bï¼Œç›´çº¿ C çš„åˆ’åˆ†æ›´ä¼˜ï¼Œå› ä¸ºå®ƒçš„é²æ£’æ€§æ›´å¼ºã€‚</p><p>é‚£æ€æ ·æ‰èƒ½å¯»æ‰¾åˆ°ç›´çº¿ C è¿™ä¸ªæ›´ä¼˜çš„ç­”æ¡ˆå‘¢ï¼Ÿè¿™é‡Œï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ª SVM ç‰¹æœ‰çš„æ¦‚å¿µï¼šåˆ†ç±»é—´éš”ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬çš„åˆ†ç±»ç¯å¢ƒä¸æ˜¯åœ¨äºŒç»´å¹³é¢ä¸­çš„ï¼Œè€Œæ˜¯åœ¨å¤šç»´ç©ºé—´ä¸­ï¼Œè¿™æ ·ç›´çº¿ C å°±å˜æˆäº†å†³ç­–é¢ Cã€‚åœ¨ä¿è¯å†³ç­–é¢ä¸å˜ï¼Œä¸”åˆ†ç±»ä¸äº§ç”Ÿé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç§»åŠ¨å†³ç­–é¢ Cï¼Œç›´åˆ°äº§ç”Ÿä¸¤ä¸ªæé™çš„ä½ç½®ï¼šå¦‚å›¾ä¸­çš„å†³ç­–é¢ A å’Œå†³ç­–é¢ Bã€‚æé™çš„ä½ç½®æ˜¯æŒ‡ï¼Œå¦‚æœè¶Šè¿‡äº†è¿™ä¸ªä½ç½®ï¼Œå°±ä¼šäº§ç”Ÿåˆ†ç±»é”™è¯¯ã€‚è¿™æ ·çš„è¯ï¼Œ<strong>ä¸¤ä¸ªæé™ä½ç½® A å’Œ B ä¹‹é—´çš„åˆ†ç•Œçº¿ C å°±æ˜¯æœ€ä¼˜å†³ç­–é¢</strong>ã€‚æé™ä½ç½®åˆ°æœ€ä¼˜å†³ç­–é¢ C ä¹‹é—´çš„è·ç¦»ï¼Œå°±æ˜¯â€œåˆ†ç±»é—´éš”â€ï¼Œè‹±æ–‡å«åš marginã€‚</p><p>å¦‚æœæˆ‘ä»¬è½¬åŠ¨è¿™ä¸ªæœ€ä¼˜å†³ç­–é¢ï¼Œä½ ä¼šå‘ç°å¯èƒ½å­˜åœ¨å¤šä¸ªæœ€ä¼˜å†³ç­–é¢ï¼Œå®ƒä»¬éƒ½èƒ½æŠŠæ•°æ®é›†æ­£ç¡®åˆ†å¼€ï¼Œè¿™äº›æœ€ä¼˜å†³ç­–é¢çš„åˆ†ç±»é—´éš”å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œ<strong>è€Œé‚£ä¸ªæ‹¥æœ‰â€œæœ€å¤§é—´éš”â€ï¼ˆmax marginï¼‰çš„å†³ç­–é¢å°±æ˜¯ SVM è¦æ‰¾çš„æœ€ä¼˜è§£</strong>ã€‚</p><p><strong>ç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»å…¬å¼</strong><br><strong><br></strong><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848862628-4e93bb3a-c356-41f0-8088-46138fb57573.png#align=left&display=inline&height=1022&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.58.33.png&originHeight=1022&originWidth=1040&size=517784&status=done&style=none&width=1040" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.58.33.png"><strong><br></strong><br>**åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æŠŠçº¢è“ä¸¤ç§é¢œè‰²çš„çƒæ”¾åˆ°ä¸€ä¸ªä¸‰ç»´ç©ºé—´é‡Œï¼Œä½ å‘ç°å†³ç­–é¢å°±å˜æˆäº†ä¸€ä¸ªå¹³é¢ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”¨çº¿æ€§å‡½æ•°æ¥è¡¨ç¤ºï¼Œå¦‚æœåœ¨ä¸€ç»´ç©ºé—´é‡Œå°±è¡¨ç¤ºä¸€ä¸ªç‚¹ï¼Œåœ¨äºŒç»´ç©ºé—´é‡Œè¡¨ç¤ºä¸€æ¡ç›´çº¿ï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­ä»£è¡¨ä¸€ä¸ªå¹³é¢ï¼Œå½“ç„¶ç©ºé—´ç»´æ•°è¿˜å¯ä»¥æ›´å¤šï¼Œè¿™æ ·æˆ‘ä»¬ç»™è¿™ä¸ªçº¿æ€§å‡½æ•°èµ·ä¸ªåç§°å«åšâ€œè¶…å¹³é¢â€ã€‚è¶…å¹³é¢çš„æ•°å­¦è¡¨è¾¾å¯ä»¥å†™æˆï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583848926092-6ff7478d-c627-4f06-9c39-3600dd492194.png#align=left&display=inline&height=226&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%889.59.41.png&originHeight=226&originWidth=1238&size=66855&status=done&style=none&width=1238" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ9.59.41.png"></p><p>åœ¨è¿™ä¸ªå…¬å¼é‡Œï¼Œwã€x æ˜¯ n ç»´ç©ºé—´é‡Œçš„å‘é‡ï¼Œå…¶ä¸­ x æ˜¯å‡½æ•°å˜é‡ï¼›w æ˜¯æ³•å‘é‡ã€‚æ³•å‘é‡è¿™é‡ŒæŒ‡çš„æ˜¯å‚ç›´äºå¹³é¢çš„ç›´çº¿æ‰€è¡¨ç¤ºçš„å‘é‡ï¼Œå®ƒå†³å®šäº†è¶…å¹³é¢çš„æ–¹å‘ã€‚</p><p>SVM å°±æ˜¯å¸®æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ï¼Œè¿™ä¸ªè¶…å¹³é¢èƒ½å°†ä¸åŒçš„æ ·æœ¬åˆ’åˆ†å¼€ï¼ŒåŒæ—¶ä½¿å¾—æ ·æœ¬é›†ä¸­çš„ç‚¹åˆ°è¿™ä¸ªåˆ†ç±»è¶…å¹³é¢çš„æœ€å°è·ç¦»ï¼ˆå³åˆ†ç±»é—´éš”ï¼‰æœ€å¤§åŒ–ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æ”¯æŒå‘é‡å°±æ˜¯ç¦»åˆ†ç±»è¶…å¹³é¢æœ€è¿‘çš„æ ·æœ¬ç‚¹</strong>ï¼Œå®é™…ä¸Šå¦‚æœç¡®å®šäº†æ”¯æŒå‘é‡ä¹Ÿå°±ç¡®å®šäº†è¿™ä¸ªè¶…å¹³é¢ã€‚æ‰€ä»¥æ”¯æŒå‘é‡å†³å®šäº†åˆ†ç±»é—´éš”åˆ°åº•æ˜¯å¤šå°‘ï¼Œè€Œåœ¨æœ€å¤§é—´éš”ä»¥å¤–çš„æ ·æœ¬ç‚¹ï¼Œå…¶å®å¯¹åˆ†ç±»éƒ½æ²¡æœ‰æ„ä¹‰ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œ <strong>SVM å°±æ˜¯æ±‚è§£æœ€å¤§åˆ†ç±»é—´éš”çš„è¿‡ç¨‹</strong>ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹åˆ†ç±»é—´éš”çš„å¤§å°è¿›è¡Œå®šä¹‰ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰æŸç±»æ ·æœ¬é›†åˆ°è¶…å¹³é¢çš„è·ç¦»æ˜¯è¿™ä¸ªæ ·æœ¬é›†åˆå†…çš„æ ·æœ¬åˆ°è¶…å¹³é¢çš„æœ€çŸ­è·ç¦»ã€‚æˆ‘ä»¬ç”¨ di ä»£è¡¨ç‚¹ xi åˆ°è¶…å¹³é¢ wxi+b=0 çš„æ¬§æ°è·ç¦»ã€‚å› æ­¤æˆ‘ä»¬è¦æ±‚ di çš„æœ€å°å€¼ï¼Œç”¨å®ƒæ¥ä»£è¡¨è¿™ä¸ªæ ·æœ¬åˆ°è¶…å¹³é¢çš„æœ€çŸ­è·ç¦»ã€‚di å¯ä»¥ç”¨å…¬å¼è®¡ç®—å¾—å‡ºï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583849438170-2fa70c02-1e0f-4528-9473-613228d12a72.png#align=left&display=inline&height=404&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%8810.08.11.png&originHeight=404&originWidth=1060&size=59272&status=done&style=none&width=1060" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ10.08.11.png"></p><p>å…¶ä¸­||w||ä¸ºè¶…å¹³é¢çš„èŒƒæ•°ï¼Œdi çš„å…¬å¼å¯ä»¥ç”¨è§£æå‡ ä½•çŸ¥è¯†è¿›è¡Œæ¨å¯¼</p><p><strong>æœ€å¤§é—´éš”çš„ä¼˜åŒ–æ¨¡å‹</strong></p><p>æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯æ‰¾å‡ºæ‰€æœ‰åˆ†ç±»é—´éš”ä¸­æœ€å¤§çš„é‚£ä¸ªå€¼å¯¹åº”çš„è¶…å¹³é¢ã€‚</p><p>åœ¨æ•°å­¦ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜ï¼ˆå‡¸ä¼˜åŒ–å°±æ˜¯å…³äºæ±‚å‡¸é›†ä¸­çš„å‡¸å‡½æ•°æœ€å°åŒ–çš„é—®é¢˜ï¼Œè¿™é‡Œä¸å…·ä½“å±•å¼€ï¼‰ã€‚é€šè¿‡å‡¸ä¼˜åŒ–é—®é¢˜ï¼Œæœ€åå¯ä»¥æ±‚å‡ºæœ€ä¼˜çš„ w å’Œ bï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æƒ³è¦æ‰¾çš„æœ€ä¼˜è¶…å¹³é¢ã€‚ä¸­é—´æ±‚è§£çš„è¿‡ç¨‹ä¼šç”¨åˆ°æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼Œå’Œ KKTï¼ˆKarush-Kuhn-Tuckerï¼‰æ¡ä»¶ã€‚æ•°å­¦å…¬å¼æ¯”è¾ƒå¤šï¼Œè¿™é‡Œä¸è¿›è¡Œå±•å¼€ã€‚</p><p><strong>ç¡¬é—´éš”ã€è½¯é—´éš”å’Œéçº¿æ€§ SVM</strong></p><p>å‡å¦‚æ•°æ®æ˜¯å®Œå…¨çš„çº¿æ€§å¯åˆ†çš„ï¼Œé‚£ä¹ˆå­¦ä¹ åˆ°çš„æ¨¡å‹å¯ä»¥ç§°ä¸ºç¡¬é—´éš”æ”¯æŒå‘é‡æœºã€‚æ¢ä¸ªè¯´æ³•ï¼Œç¡¬é—´éš”æŒ‡çš„å°±æ˜¯å®Œå…¨åˆ†ç±»å‡†ç¡®ï¼Œä¸èƒ½å­˜åœ¨åˆ†ç±»é”™è¯¯çš„æƒ…å†µã€‚è½¯é—´éš”ï¼Œå°±æ˜¯å…è®¸ä¸€å®šé‡çš„æ ·æœ¬åˆ†ç±»é”™è¯¯ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå®é™…å·¥ä½œä¸­çš„æ•°æ®æ²¡æœ‰é‚£ä¹ˆâ€œå¹²å‡€â€ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šå­˜åœ¨ä¸€äº›å™ªç‚¹ã€‚æ‰€ä»¥çº¿æ€§å¯åˆ†æ˜¯ä¸ªç†æƒ³æƒ…å†µã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°è½¯é—´éš” SVMï¼ˆè¿‘ä¼¼çº¿æ€§å¯åˆ†ï¼‰ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583849887196-a50333bc-3465-4267-be20-ca3c6231ae0d.png#align=left&display=inline&height=1026&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%8810.13.13.png&originHeight=1026&originWidth=1048&size=693506&status=done&style=none&width=1048" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ10.13.13.png"></p><p>å¦å¤–è¿˜å­˜åœ¨ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯éçº¿æ€§æ”¯æŒå‘é‡æœºã€‚</p><p>æ¯”å¦‚ä¸‹é¢çš„æ ·æœ¬é›†å°±æ˜¯ä¸ªéçº¿æ€§çš„æ•°æ®ã€‚å›¾ä¸­çš„ä¸¤ç±»æ•°æ®ï¼Œåˆ†åˆ«åˆ†å¸ƒä¸ºä¸¤ä¸ªåœ†åœˆçš„å½¢çŠ¶ã€‚é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œä¸è®ºæ˜¯å¤šé«˜çº§çš„åˆ†ç±»å™¨ï¼Œåªè¦æ˜ å°„å‡½æ•°æ˜¯çº¿æ€§çš„ï¼Œå°±æ²¡æ³•å¤„ç†ï¼ŒSVM ä¹Ÿå¤„ç†ä¸äº†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šæ ¸å‡½æ•°ã€‚å®ƒå¯ä»¥å°†æ ·æœ¬ä»åŸå§‹ç©ºé—´æ˜ å°„åˆ°ä¸€ä¸ªæ›´é«˜ç»´çš„ç‰¹è´¨ç©ºé—´ä¸­ï¼Œä½¿å¾—æ ·æœ¬åœ¨æ–°çš„ç©ºé—´ä¸­çº¿æ€§å¯åˆ†ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŸæ¥çš„æ¨å¯¼æ¥è¿›è¡Œè®¡ç®—ï¼Œåªæ˜¯æ‰€æœ‰çš„æ¨å¯¼æ˜¯åœ¨æ–°çš„ç©ºé—´ï¼Œè€Œä¸æ˜¯åœ¨åŸæ¥çš„ç©ºé—´ä¸­è¿›è¡Œã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583850072724-04450db0-5917-4314-977e-a514fe95efee.png#align=left&display=inline&height=804&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%8810.16.46.png&originHeight=804&originWidth=1058&size=559074&status=done&style=none&width=1058" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ10.16.46.png"></p><p><a name="pxzoC"></a></p><h3 id="ç”¨-SVM-å¦‚ä½•è§£å†³å¤šåˆ†ç±»é—®é¢˜"><a href="#ç”¨-SVM-å¦‚ä½•è§£å†³å¤šåˆ†ç±»é—®é¢˜" class="headerlink" title="ç”¨ SVM å¦‚ä½•è§£å†³å¤šåˆ†ç±»é—®é¢˜"></a>ç”¨ SVM å¦‚ä½•è§£å†³å¤šåˆ†ç±»é—®é¢˜</h3><p>SVM æœ¬èº«æ˜¯ä¸€ä¸ªäºŒå€¼åˆ†ç±»å™¨ï¼Œæœ€åˆæ˜¯ä¸ºäºŒåˆ†ç±»é—®é¢˜è®¾è®¡çš„ï¼Œä¹Ÿå°±æ˜¯å›ç­” Yes æˆ–è€…æ˜¯ Noã€‚è€Œå®é™…ä¸Šæˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯å¤šåˆ†ç±»çš„æƒ…å†µï¼Œæ¯”å¦‚å¯¹æ–‡æœ¬è¿›è¡Œåˆ†ç±»ï¼Œæˆ–è€…å¯¹å›¾åƒè¿›è¡Œè¯†åˆ«ã€‚</p><p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªäºŒåˆ†ç±»å™¨ç»„åˆèµ·æ¥å½¢æˆä¸€ä¸ªå¤šåˆ†ç±»å™¨ï¼Œå¸¸è§çš„æ–¹æ³•æœ‰â€œä¸€å¯¹å¤šæ³•â€å’Œâ€œä¸€å¯¹ä¸€æ³•â€ä¸¤ç§ã€‚</p><ol><li>ä¸€å¯¹å¤šæ³•å‡è®¾æˆ‘ä»¬è¦æŠŠç‰©ä½“åˆ†æˆ Aã€Bã€Cã€D å››ç§åˆ†ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆæŠŠå…¶ä¸­çš„ä¸€ç±»ä½œä¸ºåˆ†ç±» 1ï¼Œå…¶ä»–ç±»ç»Ÿä¸€å½’ä¸ºåˆ†ç±» 2ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥æ„é€  4 ç§ SVMï¼Œåˆ†åˆ«ä¸ºä»¥ä¸‹çš„æƒ…å†µï¼š<br>ï¼ˆ1ï¼‰æ ·æœ¬ A ä½œä¸ºæ­£é›†ï¼ŒBï¼ŒCï¼ŒD ä½œä¸ºè´Ÿé›†ï¼›<br>ï¼ˆ2ï¼‰æ ·æœ¬ B ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒCï¼ŒD ä½œä¸ºè´Ÿé›†ï¼›<br>ï¼ˆ3ï¼‰æ ·æœ¬ C ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒBï¼ŒD ä½œä¸ºè´Ÿé›†ï¼›<br>ï¼ˆ4ï¼‰æ ·æœ¬ D ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒBï¼ŒC ä½œä¸ºè´Ÿé›†ã€‚<br><br><br>è¿™ç§æ–¹æ³•ï¼Œé’ˆå¯¹ K ä¸ªåˆ†ç±»ï¼Œéœ€è¦è®­ç»ƒ K ä¸ªåˆ†ç±»å™¨ï¼Œåˆ†ç±»é€Ÿåº¦è¾ƒå¿«ï¼Œä½†è®­ç»ƒé€Ÿåº¦è¾ƒæ…¢ï¼Œå› ä¸ºæ¯ä¸ªåˆ†ç±»å™¨éƒ½éœ€è¦å¯¹å…¨éƒ¨æ ·æœ¬è¿›è¡Œè®­ç»ƒï¼Œè€Œä¸”è´Ÿæ ·æœ¬æ•°é‡è¿œå¤§äºæ­£æ ·æœ¬æ•°é‡ï¼Œä¼šé€ æˆæ ·æœ¬ä¸å¯¹ç§°çš„æƒ…å†µï¼Œè€Œä¸”å½“å¢åŠ æ–°çš„åˆ†ç±»ï¼Œæ¯”å¦‚ç¬¬ K+1 ç±»æ—¶ï¼Œéœ€è¦é‡æ–°å¯¹åˆ†ç±»å™¨è¿›è¡Œæ„é€ ã€‚<br><br><br>2. ä¸€å¯¹ä¸€æ³•ä¸€å¯¹ä¸€æ³•çš„åˆè¡·æ˜¯æƒ³åœ¨è®­ç»ƒçš„æ—¶å€™æ›´åŠ çµæ´»ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ä¸¤ç±»æ ·æœ¬ä¹‹é—´æ„é€ ä¸€ä¸ª SVMï¼Œè¿™æ ·é’ˆå¯¹ K ç±»çš„æ ·æœ¬ï¼Œå°±ä¼šæœ‰ C(k,2) ç±»åˆ†ç±»å™¨ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¦åˆ’åˆ† Aã€Bã€C ä¸‰ä¸ªç±»ï¼Œå¯ä»¥æ„é€  3 ä¸ªåˆ†ç±»å™¨ï¼š<br>ï¼ˆ1ï¼‰åˆ†ç±»å™¨ 1ï¼šAã€Bï¼›<br>ï¼ˆ2ï¼‰åˆ†ç±»å™¨ 2ï¼šAã€Cï¼›<br>ï¼ˆ3ï¼‰åˆ†ç±»å™¨ 3ï¼šBã€Cã€‚<br><br><br>å½“å¯¹ä¸€ä¸ªæœªçŸ¥æ ·æœ¬è¿›è¡Œåˆ†ç±»æ—¶ï¼Œæ¯ä¸€ä¸ªåˆ†ç±»å™¨éƒ½ä¼šæœ‰ä¸€ä¸ªåˆ†ç±»ç»“æœï¼Œå³ä¸º 1 ç¥¨ï¼Œæœ€ç»ˆå¾—ç¥¨æœ€å¤šçš„ç±»åˆ«å°±æ˜¯æ•´ä¸ªæœªçŸ¥æ ·æœ¬çš„ç±»åˆ«ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¦‚æœæ–°å¢ä¸€ç±»ï¼Œä¸éœ€è¦é‡æ–°è®­ç»ƒæ‰€æœ‰çš„ SVMï¼Œåªéœ€è¦è®­ç»ƒå’Œæ–°å¢è¿™ä¸€ç±»æ ·æœ¬çš„åˆ†ç±»å™¨ã€‚è€Œä¸”è¿™ç§æ–¹å¼åœ¨è®­ç»ƒå•ä¸ª SVM æ¨¡å‹çš„æ—¶å€™ï¼Œè®­ç»ƒé€Ÿåº¦å¿«ã€‚ä½†è¿™ç§æ–¹æ³•çš„ä¸è¶³åœ¨äºï¼Œåˆ†ç±»å™¨çš„ä¸ªæ•°ä¸ K çš„å¹³æ–¹æˆæ­£æ¯”ï¼Œæ‰€ä»¥å½“ K è¾ƒå¤§æ—¶ï¼Œè®­ç»ƒå’Œæµ‹è¯•çš„æ—¶é—´ä¼šæ¯”è¾ƒæ…¢ã€‚<br></li></ol><p><a name="lPomc"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>SVM åˆ†ç±»å™¨ï¼Œå®ƒåœ¨æ–‡æœ¬åˆ†ç±»å°¤å…¶æ˜¯é’ˆå¯¹äºŒåˆ†ç±»ä»»åŠ¡æ€§èƒ½å“è¶Šã€‚åŒæ ·ï¼Œé’ˆå¯¹å¤šåˆ†ç±»çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€å¯¹å¤šï¼Œæˆ–è€…ä¸€å¯¹ä¸€çš„æ–¹æ³•ï¼Œå¤šä¸ªäºŒå€¼åˆ†ç±»å™¨ç»„åˆæˆä¸€ä¸ªå¤šåˆ†ç±»å™¨ã€‚</p><p>å¦å¤–å…³äº SVM åˆ†ç±»å™¨çš„æ¦‚å¿µï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æŒæ¡ä»¥ä¸‹çš„ä¸‰ä¸ªç¨‹åº¦ï¼š</p><p>å®Œå…¨çº¿æ€§å¯åˆ†æƒ…å†µä¸‹çš„çº¿æ€§åˆ†ç±»å™¨ï¼Œä¹Ÿå°±æ˜¯çº¿æ€§å¯åˆ†çš„æƒ…å†µï¼Œæ˜¯æœ€åŸå§‹çš„ SVMï¼Œå®ƒæœ€æ ¸å¿ƒçš„æ€æƒ³å°±æ˜¯æ‰¾åˆ°æœ€å¤§çš„åˆ†ç±»é—´éš”ï¼›<br><br><br>å¤§éƒ¨åˆ†çº¿æ€§å¯åˆ†æƒ…å†µä¸‹çš„çº¿æ€§åˆ†ç±»å™¨ï¼Œå¼•å…¥äº†è½¯é—´éš”çš„æ¦‚å¿µã€‚è½¯é—´éš”ï¼Œå°±æ˜¯å…è®¸ä¸€å®šé‡çš„æ ·æœ¬åˆ†ç±»é”™è¯¯ï¼›<br><br><br>çº¿æ€§ä¸å¯åˆ†æƒ…å†µä¸‹çš„éçº¿æ€§åˆ†ç±»å™¨ï¼Œå¼•å…¥äº†æ ¸å‡½æ•°ã€‚å®ƒè®©åŸæœ‰çš„æ ·æœ¬ç©ºé—´é€šè¿‡æ ¸å‡½æ•°æŠ•å°„åˆ°äº†ä¸€ä¸ªé«˜ç»´çš„ç©ºé—´ä¸­ï¼Œä»è€Œå˜å¾—çº¿æ€§å¯åˆ†ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;XR4XW&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3 id=&quot;SVM-æ”¯æŒå‘é‡æœº&quot;&gt;&lt;a href=&quot;#SVM-æ”¯æŒå‘é‡æœº&quot; class=&quot;h
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-æœ´ç´ è´å¶æ–¯ï¼ˆä¸‹ï¼‰</title>
    <link href="cpeixin.cn/2019/01/21/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%EF%BC%88%E4%B8%8B%EF%BC%89/"/>
    <id>cpeixin.cn/2019/01/21/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%EF%BC%88%E4%B8%8B%EF%BC%89/</id>
    <published>2019-01-21T02:34:38.000Z</published>
    <updated>2020-03-10T14:27:31.518Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»æœ€é€‚åˆçš„åœºæ™¯å°±æ˜¯æ–‡æœ¬åˆ†ç±»ã€æƒ…æ„Ÿåˆ†æå’Œåƒåœ¾é‚®ä»¶è¯†åˆ«ã€‚å…¶ä¸­æƒ…æ„Ÿåˆ†æå’Œåƒåœ¾é‚®ä»¶è¯†åˆ«éƒ½æ˜¯é€šè¿‡æ–‡æœ¬æ¥è¿›è¡Œåˆ¤æ–­ã€‚ä»è¿™é‡Œä½ èƒ½çœ‹å‡ºæ¥ï¼Œè¿™ä¸‰ä¸ªåœºæ™¯æœ¬è´¨ä¸Šéƒ½æ˜¯æ–‡æœ¬åˆ†ç±»ï¼Œè¿™ä¹Ÿæ˜¯æœ´ç´ è´å¶æ–¯æœ€æ“…é•¿çš„åœ°æ–¹ã€‚æ‰€ä»¥æœ´ç´ è´å¶æ–¯ä¹Ÿå¸¸ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç† NLP çš„å·¥å…·ã€‚ä»Šå¤©æˆ‘å¸¦ä½ ä¸€èµ·ä½¿ç”¨æœ´ç´ è´å¶æ–¯åšä¸‹æ–‡æ¡£åˆ†ç±»çš„é¡¹ç›®ï¼Œæœ€é‡è¦çš„å·¥å…·å°±æ˜¯ sklearn è¿™ä¸ªæœºå™¨å­¦ä¹ ç¥å™¨ã€‚</p><h3 id="sklearnæœºå™¨å­¦ä¹ åŒ…"><a href="#sklearnæœºå™¨å­¦ä¹ åŒ…" class="headerlink" title="sklearnæœºå™¨å­¦ä¹ åŒ…"></a>sklearnæœºå™¨å­¦ä¹ åŒ…</h3><p>sklearn çš„å…¨ç§°å« Scikit-learnï¼Œå®ƒç»™æˆ‘ä»¬æä¾›äº† 3 ä¸ªæœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯<strong>é«˜æ–¯æœ´ç´ è´å¶æ–¯ï¼ˆGaussianNBï¼‰ã€å¤šé¡¹å¼æœ´ç´ è´å¶æ–¯ï¼ˆMultinomialNBï¼‰å’Œä¼¯åŠªåˆ©æœ´ç´ è´å¶æ–¯ï¼ˆBernoulliNBï¼‰</strong>ã€‚</p><p>è¿™ä¸‰ç§ç®—æ³•é€‚åˆåº”ç”¨åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®ç‰¹å¾å˜é‡çš„ä¸åŒé€‰æ‹©ä¸åŒçš„ç®—æ³•ï¼š</p><ul><li><p>é«˜æ–¯æœ´ç´ è´å¶æ–¯ï¼šç‰¹å¾å˜é‡æ˜¯è¿ç»­å˜é‡ï¼Œç¬¦åˆé«˜æ–¯åˆ†å¸ƒï¼Œæ¯”å¦‚è¯´äººçš„èº«é«˜ï¼Œç‰©ä½“çš„é•¿åº¦ã€‚</p></li><li><p>å¤šé¡¹å¼æœ´ç´ è´å¶æ–¯ï¼šç‰¹å¾å˜é‡æ˜¯ç¦»æ•£å˜é‡ï¼Œç¬¦åˆå¤šé¡¹åˆ†å¸ƒï¼Œåœ¨æ–‡æ¡£åˆ†ç±»ä¸­ç‰¹å¾å˜é‡ä½“ç°åœ¨ä¸€ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°ï¼Œæˆ–è€…æ˜¯å•è¯çš„ TF-IDF å€¼ç­‰ã€‚</p></li><li><p>ä¼¯åŠªåˆ©æœ´ç´ è´å¶æ–¯ï¼šç‰¹å¾å˜é‡æ˜¯å¸ƒå°”å˜é‡ï¼Œç¬¦åˆ 0/1 åˆ†å¸ƒï¼Œåœ¨æ–‡æ¡£åˆ†ç±»ä¸­ç‰¹å¾æ˜¯å•è¯æ˜¯å¦å‡ºç°ã€‚</p></li></ul><p>ä¼¯åŠªåˆ©æœ´ç´ è´å¶æ–¯æ˜¯ä»¥æ–‡ä»¶ä¸ºç²’åº¦ï¼Œå¦‚æœè¯¥å•è¯åœ¨æŸæ–‡ä»¶ä¸­å‡ºç°äº†å³ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚è€Œå¤šé¡¹å¼æœ´ç´ è´å¶æ–¯æ˜¯ä»¥å•è¯ä¸ºç²’åº¦ï¼Œä¼šè®¡ç®—åœ¨æŸä¸ªæ–‡ä»¶ä¸­çš„å…·ä½“æ¬¡æ•°ã€‚è€Œé«˜æ–¯æœ´ç´ è´å¶æ–¯é€‚åˆå¤„ç†ç‰¹å¾å˜é‡æ˜¯è¿ç»­å˜é‡ï¼Œä¸”ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰çš„æƒ…å†µã€‚æ¯”å¦‚èº«é«˜ã€ä½“é‡è¿™ç§è‡ªç„¶ç•Œçš„ç°è±¡å°±æ¯”è¾ƒé€‚åˆç”¨é«˜æ–¯æœ´ç´ è´å¶æ–¯æ¥å¤„ç†ã€‚è€Œæ–‡æœ¬åˆ†ç±»æ˜¯ä½¿ç”¨å¤šé¡¹å¼æœ´ç´ è´å¶æ–¯æˆ–è€…ä¼¯åŠªåˆ©æœ´ç´ è´å¶æ–¯ã€‚</p><h3 id="TF-IDF-å€¼"><a href="#TF-IDF-å€¼" class="headerlink" title="TF-IDF å€¼"></a>TF-IDF å€¼</h3><p>æˆ‘åœ¨å¤šé¡¹å¼æœ´ç´ è´å¶æ–¯ä¸­æåˆ°äº†â€œè¯çš„ TF-IDF å€¼â€ï¼Œå¦‚ä½•ç†è§£è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Ÿ</p><p>TF-IDF æ˜¯ä¸€ä¸ªç»Ÿè®¡æ–¹æ³•ï¼Œç”¨æ¥è¯„ä¼°æŸä¸ªè¯è¯­å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–æ–‡æ¡£åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚</p><p>TF-IDF å®é™…ä¸Šæ˜¯ä¸¤ä¸ªè¯ç»„ <strong>Term Frequency å’Œ Inverse Document Frequency</strong> çš„æ€»ç§°ï¼Œä¸¤è€…ç¼©å†™ä¸º TF å’Œ IDFï¼Œåˆ†åˆ«ä»£è¡¨äº†è¯é¢‘å’Œé€†å‘æ–‡æ¡£é¢‘ç‡ã€‚</p><p><strong>è¯é¢‘ TF</strong> è®¡ç®—äº†ä¸€ä¸ªå•è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå®ƒè®¤ä¸ºä¸€ä¸ªå•è¯çš„é‡è¦æ€§å’Œå®ƒåœ¨æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°å‘ˆæ­£æ¯”ã€‚</p><p><strong>é€†å‘æ–‡æ¡£é¢‘ç‡ IDF</strong>ï¼Œæ˜¯æŒ‡ä¸€ä¸ªå•è¯åœ¨æ–‡æ¡£ä¸­çš„åŒºåˆ†åº¦ã€‚å®ƒè®¤ä¸ºä¸€ä¸ªå•è¯å‡ºç°åœ¨çš„æ–‡æ¡£æ•°è¶Šå°‘ï¼Œå°±è¶Šèƒ½é€šè¿‡è¿™ä¸ªå•è¯æŠŠè¯¥æ–‡æ¡£å’Œå…¶ä»–æ–‡æ¡£åŒºåˆ†å¼€ã€‚IDF è¶Šå¤§å°±ä»£è¡¨è¯¥å•è¯çš„åŒºåˆ†åº¦è¶Šå¤§ã€‚</p><p>æ‰€ä»¥ TF-IDF å®é™…ä¸Šæ˜¯è¯é¢‘ TF å’Œé€†å‘æ–‡æ¡£é¢‘ç‡ IDF çš„ä¹˜ç§¯ã€‚è¿™æ ·æˆ‘ä»¬å€¾å‘äºæ‰¾åˆ° TF å’Œ IDF å–å€¼éƒ½é«˜çš„å•è¯ä½œä¸ºåŒºåˆ†ï¼Œå³è¿™ä¸ªå•è¯åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°å¤šï¼ŒåŒæ—¶åˆå¾ˆå°‘å‡ºç°åœ¨å…¶ä»–æ–‡æ¡£ä¸­ã€‚è¿™æ ·çš„å•è¯é€‚åˆç”¨äºåˆ†ç±»ã€‚</p><p><strong>TF-IDF å¦‚ä½•è®¡ç®—</strong>é¦–å…ˆæˆ‘ä»¬çœ‹ä¸‹è¯é¢‘ TF å’Œé€†å‘æ–‡æ¡£æ¦‚ç‡ IDF çš„å…¬å¼ã€‚</p><p><img src="p1.png" alt="p1"></p><p><strong>ä¸ºä»€ä¹ˆ IDF çš„åˆ†æ¯ä¸­ï¼Œå•è¯å‡ºç°çš„æ–‡æ¡£æ•°è¦åŠ  1 å‘¢ï¼Ÿå› ä¸ºæœ‰äº›å•è¯å¯èƒ½ä¸ä¼šå­˜åœ¨æ–‡æ¡£ä¸­ï¼Œä¸ºäº†é¿å…åˆ†æ¯ä¸º 0ï¼Œç»Ÿä¸€ç»™å•è¯å‡ºç°çš„æ–‡æ¡£æ•°éƒ½åŠ  1ã€‚</strong></p><p><strong>TF-IDF=TF*IDF</strong></p><p>ä½ å¯ä»¥çœ‹åˆ°ï¼ŒTF-IDF å€¼å°±æ˜¯ TF ä¸ IDF çš„ä¹˜ç§¯, è¿™æ ·å¯ä»¥æ›´å‡†ç¡®åœ°å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»ã€‚æ¯”å¦‚â€œæˆ‘â€è¿™æ ·çš„é«˜é¢‘å•è¯ï¼Œè™½ç„¶ TF è¯é¢‘é«˜ï¼Œä½†æ˜¯ IDF å€¼å¾ˆä½ï¼Œæ•´ä½“çš„ TF-IDF ä¹Ÿä¸é«˜ã€‚</p><p>æˆ‘åœ¨è¿™é‡Œä¸¾ä¸ªä¾‹å­ã€‚å‡è®¾ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œä¸€å…±æœ‰ 10 ç¯‡æ–‡æ¡£ï¼Œå…¶ä¸­ä¸€ç¯‡æ–‡æ¡£æœ‰ 1000 ä¸ªå•è¯ï¼Œâ€œthisâ€è¿™ä¸ªå•è¯å‡ºç° 20 æ¬¡ï¼Œâ€œbayesâ€å‡ºç°äº† 5 æ¬¡ã€‚â€œthisâ€åœ¨æ‰€æœ‰æ–‡æ¡£ä¸­å‡å‡ºç°è¿‡ï¼Œè€Œâ€œbayesâ€åªåœ¨ 2 ç¯‡æ–‡æ¡£ä¸­å‡ºç°è¿‡ã€‚æˆ‘ä»¬æ¥è®¡ç®—ä¸€ä¸‹è¿™ä¸¤ä¸ªè¯è¯­çš„ TF-IDF å€¼ã€‚é’ˆå¯¹â€œthisâ€ï¼Œè®¡ç®— TF-IDF å€¼ï¼š</p><p><img src="p2.png" alt="p2"></p><p>æ‰€ä»¥ TF-IDF=0.02*(-0.0414)=-8.28e-4ã€‚</p><p>é’ˆå¯¹â€œbayesâ€ï¼Œè®¡ç®— TF-IDF å€¼ï¼š</p><p><img src="p3.png" alt="p3"></p><p>TF-IDF=0.005*0.5229=2.61e-3ã€‚</p><p>å¾ˆæ˜æ˜¾â€œbayesâ€çš„ TF-IDF å€¼è¦å¤§äºâ€œthisâ€çš„ TF-IDF å€¼ã€‚è¿™å°±è¯´æ˜ç”¨â€œbayesâ€è¿™ä¸ªå•è¯åšåŒºåˆ†æ¯”å•è¯â€œthisâ€è¦å¥½ã€‚</p><p><strong>å¦‚ä½•æ±‚ TF-IDF</strong></p><p>åœ¨ sklearn ä¸­æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ TfidfVectorizer ç±»ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬è®¡ç®—å•è¯ TF-IDF å‘é‡çš„å€¼ã€‚</p><p>åœ¨è¿™ä¸ªç±»ä¸­ï¼Œå– sklearn è®¡ç®—çš„å¯¹æ•° log æ—¶ï¼Œåº•æ•°æ˜¯ eï¼Œä¸æ˜¯ 10ã€‚ä¸‹é¢æˆ‘æ¥è®²ä¸‹å¦‚ä½•åˆ›å»º TfidfVectorizer ç±»ã€‚</p><p>åˆ›å»º TfidfVectorizer çš„æ–¹æ³•æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TfidfVectorizer(stop_words=stop_words, token_pattern=token_pattern)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œæœ‰ä¸¤ä¸ªæ„é€ å‚æ•°ï¼Œå¯ä»¥è‡ªå®šä¹‰åœç”¨è¯ stop_words å’Œè§„å¾‹è§„åˆ™ token_patternã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¼ é€’çš„æ•°æ®ç»“æ„ï¼Œåœç”¨è¯ stop_words æ˜¯ä¸€ä¸ªåˆ—è¡¨ List ç±»å‹ï¼Œè€Œè¿‡æ»¤è§„åˆ™ token_pattern æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ä»€ä¹ˆæ˜¯åœç”¨è¯ï¼Ÿåœç”¨è¯å°±æ˜¯åœ¨åˆ†ç±»ä¸­æ²¡æœ‰ç”¨çš„è¯ï¼Œè¿™äº›è¯ä¸€èˆ¬è¯é¢‘ TF é«˜ï¼Œä½†æ˜¯ IDF å¾ˆä½ï¼Œèµ·ä¸åˆ°åˆ†ç±»çš„ä½œç”¨ã€‚ä¸ºäº†èŠ‚çœç©ºé—´å’Œè®¡ç®—æ—¶é—´ï¼Œæˆ‘ä»¬æŠŠè¿™äº›è¯ä½œä¸ºåœç”¨è¯ stop wordsï¼Œå‘Šè¯‰æœºå™¨è¿™äº›è¯ä¸éœ€è¦å¸®æˆ‘è®¡ç®—ã€‚</p><p><img src="p4.png" alt="p4"></p><p>å½“æˆ‘ä»¬åˆ›å»ºå¥½ TF-IDF å‘é‡ç±»å‹æ—¶ï¼Œå¯ä»¥ç”¨ fit_transform å¸®æˆ‘ä»¬è®¡ç®—ï¼Œè¿”å›ç»™æˆ‘ä»¬æ–‡æœ¬çŸ©é˜µï¼Œè¯¥çŸ©é˜µè¡¨ç¤ºäº†æ¯ä¸ªå•è¯åœ¨æ¯ä¸ªæ–‡æ¡£ä¸­çš„ TF-IDF å€¼ã€‚</p><p><img src="p5.png" alt="p5"></p><p>åœ¨æˆ‘ä»¬è¿›è¡Œ fit_transform æ‹Ÿåˆæ¨¡å‹åï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ›´å¤šçš„ TF-IDF å‘é‡å±æ€§ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¯æ±‡çš„å¯¹åº”å…³ç³»ï¼ˆå­—å…¸ç±»å‹ï¼‰å’Œå‘é‡çš„ IDF å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è·å–è®¾ç½®çš„åœç”¨è¯ stop_wordsã€‚</p><p><img src="p6.png" alt="p6"></p><h3 id="å¦‚ä½•å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»"><a href="#å¦‚ä½•å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»" class="headerlink" title="å¦‚ä½•å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»"></a>å¦‚ä½•å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»</h3><p>å¦‚æœæˆ‘ä»¬è¦å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„é˜¶æ®µï¼š</p><p><img src="p7.png" alt="p7"></p><ol><li><p>åŸºäºåˆ†è¯çš„æ•°æ®å‡†å¤‡ï¼ŒåŒ…æ‹¬åˆ†è¯ã€å•è¯æƒé‡è®¡ç®—ã€å»æ‰åœç”¨è¯ï¼›</p></li><li><p>åº”ç”¨æœ´ç´ è´å¶æ–¯åˆ†ç±»è¿›è¡Œåˆ†ç±»ï¼Œé¦–å…ˆé€šè¿‡è®­ç»ƒé›†å¾—åˆ°æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼Œç„¶åå°†åˆ†ç±»å™¨åº”ç”¨äºæµ‹è¯•é›†ï¼Œå¹¶ä¸å®é™…ç»“æœåšå¯¹æ¯”ï¼Œæœ€ç»ˆå¾—åˆ°æµ‹è¯•é›†çš„åˆ†ç±»å‡†ç¡®ç‡ã€‚</p></li></ol><p>æ•´ä¸ªæµç¨‹å°†åˆ†æˆä¸‹é¢å‡ ä¸ªæ¨¡å—ï¼š</p><ul><li>æ¨¡å— 1ï¼šå¯¹æ–‡æ¡£è¿›è¡Œåˆ†è¯åœ¨å‡†å¤‡é˜¶æ®µé‡Œï¼Œæœ€é‡è¦çš„å°±æ˜¯åˆ†è¯ã€‚é‚£ä¹ˆå¦‚æœç»™æ–‡æ¡£è¿›è¡Œåˆ†è¯å‘¢ï¼Ÿè‹±æ–‡æ–‡æ¡£å’Œä¸­æ–‡æ–‡æ¡£æ‰€ä½¿ç”¨çš„åˆ†è¯å·¥å…·ä¸åŒã€‚</li></ul><p>åœ¨è‹±æ–‡æ–‡æ¡£ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ NTLK åŒ…ã€‚NTLK åŒ…ä¸­åŒ…å«äº†è‹±æ–‡çš„åœç”¨è¯ stop wordsã€åˆ†è¯å’Œæ ‡æ³¨æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line">word_list = nltk.word_tokenize(text) <span class="comment">#åˆ†è¯</span></span><br><span class="line">nltk.pos_tag(word_list) <span class="comment">#æ ‡æ³¨å•è¯çš„è¯æ€§</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸­æ–‡æ–‡æ¡£ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ jieba åŒ…ã€‚jieba åŒ…ä¸­åŒ…å«äº†ä¸­æ–‡çš„åœç”¨è¯ stop words å’Œåˆ†è¯æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line">word_list = jieba.cut (text) <span class="comment">#ä¸­æ–‡åˆ†è¯</span></span><br></pre></td></tr></table></figure><ul><li>æ¨¡å— 2ï¼šåŠ è½½åœç”¨è¯è¡¨</li></ul><p>æˆ‘ä»¬éœ€è¦è‡ªå·±è¯»å–åœç”¨è¯è¡¨æ–‡ä»¶ï¼Œä»ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°ä¸­æ–‡å¸¸ç”¨çš„åœç”¨è¯ä¿å­˜åœ¨ stop_words.txtï¼Œç„¶ååˆ©ç”¨ Python çš„æ–‡ä»¶è¯»å–å‡½æ•°è¯»å–æ–‡ä»¶ï¼Œä¿å­˜åœ¨ stop_words æ•°ç»„ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop_words = [line.strip().decode(<span class="string">'utf-8'</span>) <span class="keyword">for</span> line <span class="keyword">in</span> io.open(<span class="string">'stop_words.txt'</span>).readlines()]</span><br></pre></td></tr></table></figure><ul><li>æ¨¡å— 3ï¼šè®¡ç®—å•è¯çš„æƒé‡</li></ul><p>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ° sklearn é‡Œçš„ TfidfVectorizer ç±»ï¼Œä¸Šé¢æˆ‘ä»¬ä»‹ç»è¿‡å®ƒä½¿ç”¨çš„æ–¹æ³•ã€‚ç›´æ¥åˆ›å»º TfidfVectorizer ç±»ï¼Œç„¶åä½¿ç”¨ fit_transform æ–¹æ³•è¿›è¡Œæ‹Ÿåˆï¼Œå¾—åˆ° TF-IDF ç‰¹å¾ç©ºé—´ featuresï¼Œä½ å¯ä»¥ç†è§£ä¸ºé€‰å‡ºæ¥çš„åˆ†è¯å°±æ˜¯ç‰¹å¾ã€‚æˆ‘ä»¬è®¡ç®—è¿™äº›ç‰¹å¾åœ¨æ–‡æ¡£ä¸Šçš„ç‰¹å¾å‘é‡ï¼Œå¾—åˆ°ç‰¹å¾ç©ºé—´ featuresã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tf = TfidfVectorizer(stop_words=stop_words, max_df=<span class="number">0.5</span>)</span><br><span class="line">features = tf.fit_transform(train_contents)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ max_df å‚æ•°ç”¨æ¥æè¿°å•è¯åœ¨æ–‡æ¡£ä¸­çš„æœ€é«˜å‡ºç°ç‡ã€‚å‡è®¾ max_df=0.5ï¼Œä»£è¡¨ä¸€ä¸ªå•è¯åœ¨ 50% çš„æ–‡æ¡£ä¸­éƒ½å‡ºç°è¿‡äº†ï¼Œé‚£ä¹ˆå®ƒåªæºå¸¦äº†éå¸¸å°‘çš„ä¿¡æ¯ï¼Œå› æ­¤å°±ä¸ä½œä¸ºåˆ†è¯ç»Ÿè®¡ã€‚ä¸€èˆ¬å¾ˆå°‘è®¾ç½® min_dfï¼Œå› ä¸º min_df é€šå¸¸éƒ½ä¼šå¾ˆå°ã€‚</p><ul><li>æ¨¡å— 4ï¼šç”Ÿæˆæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</li></ul><p>æˆ‘ä»¬å°†ç‰¹å¾è®­ç»ƒé›†çš„ç‰¹å¾ç©ºé—´ train_featuresï¼Œä»¥åŠè®­ç»ƒé›†å¯¹åº”çš„åˆ†ç±» train_labels ä¼ é€’ç»™è´å¶æ–¯åˆ†ç±»å™¨ clfï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç¬¦åˆç‰¹å¾ç©ºé—´å’Œå¯¹åº”åˆ†ç±»çš„åˆ†ç±»å™¨ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯å¤šé¡¹å¼è´å¶æ–¯åˆ†ç±»å™¨ï¼Œå…¶ä¸­ alpha ä¸ºå¹³æ»‘å‚æ•°ã€‚ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¹³æ»‘å‘¢ï¼Ÿå› ä¸ºå¦‚æœä¸€ä¸ªå•è¯åœ¨è®­ç»ƒæ ·æœ¬ä¸­æ²¡æœ‰å‡ºç°ï¼Œè¿™ä¸ªå•è¯çš„æ¦‚ç‡å°±ä¼šè¢«è®¡ç®—ä¸º 0ã€‚ä½†è®­ç»ƒé›†æ ·æœ¬åªæ˜¯æ•´ä½“çš„æŠ½æ ·æƒ…å†µï¼Œæˆ‘ä»¬ä¸èƒ½å› ä¸ºä¸€ä¸ªäº‹ä»¶æ²¡æœ‰è§‚å¯Ÿåˆ°ï¼Œå°±è®¤ä¸ºæ•´ä¸ªäº‹ä»¶çš„æ¦‚ç‡ä¸º 0ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åšå¹³æ»‘å¤„ç†ã€‚å½“ alpha=1 æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ Laplace å¹³æ»‘ã€‚</p><p>Laplace å¹³æ»‘å°±æ˜¯é‡‡ç”¨åŠ  1 çš„æ–¹å¼ï¼Œæ¥ç»Ÿè®¡æ²¡æœ‰å‡ºç°è¿‡çš„å•è¯çš„æ¦‚ç‡ã€‚è¿™æ ·å½“è®­ç»ƒæ ·æœ¬å¾ˆå¤§çš„æ—¶å€™ï¼ŒåŠ  1 å¾—åˆ°çš„æ¦‚ç‡å˜åŒ–å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä¹ŸåŒæ—¶é¿å…äº†é›¶æ¦‚ç‡çš„é—®é¢˜ã€‚</p><p>å½“ 0&lt; alpha &lt;1 æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ Lidstone å¹³æ»‘ã€‚å¯¹äº Lidstone å¹³æ»‘æ¥è¯´ï¼Œalpha è¶Šå°ï¼Œè¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œç²¾åº¦è¶Šé«˜ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½® alpha ä¸º 0.001ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å¤šé¡¹å¼è´å¶æ–¯åˆ†ç±»å™¨</span></span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB  </span><br><span class="line">clf = MultinomialNB(alpha=<span class="number">0.001</span>).fit(train_features, train_labels)</span><br></pre></td></tr></table></figure><ul><li>æ¨¡å— 5ï¼šä½¿ç”¨ç”Ÿæˆçš„åˆ†ç±»å™¨</li></ul><p>åšé¢„æµ‹é¦–å…ˆæˆ‘ä»¬éœ€è¦å¾—åˆ°æµ‹è¯•é›†çš„ç‰¹å¾çŸ©é˜µã€‚æ–¹æ³•æ˜¯ç”¨è®­ç»ƒé›†çš„åˆ†è¯åˆ›å»ºä¸€ä¸ª TfidfVectorizer ç±»ï¼Œä½¿ç”¨åŒæ ·çš„ stop_words å’Œ max_dfï¼Œç„¶åç”¨è¿™ä¸ª TfidfVectorizer ç±»å¯¹æµ‹è¯•é›†çš„å†…å®¹è¿›è¡Œ fit_transform æ‹Ÿåˆï¼Œå¾—åˆ°æµ‹è¯•é›†çš„ç‰¹å¾çŸ©é˜µ test_featuresã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">test_tf = TfidfVectorizer(stop_words=stop_words, max_df=<span class="number">0.5</span>, vocabulary=train_vocabulary)</span><br><span class="line">test_features=test_tf.fit_transform(test_contents)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬ç”¨è®­ç»ƒå¥½çš„åˆ†ç±»å™¨å¯¹æ–°æ•°æ®åšé¢„æµ‹ã€‚</p><p>æ–¹æ³•æ˜¯ä½¿ç”¨ predict å‡½æ•°ï¼Œä¼ å…¥æµ‹è¯•é›†çš„ç‰¹å¾çŸ©é˜µ test_featuresï¼Œå¾—åˆ°åˆ†ç±»ç»“æœ predicted_labelsã€‚predict å‡½æ•°åšçš„å·¥ä½œå°±æ˜¯æ±‚è§£æ‰€æœ‰åéªŒæ¦‚ç‡å¹¶æ‰¾å‡ºæœ€å¤§çš„é‚£ä¸ªã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">predicted_labels=clf.predict(test_features)</span><br></pre></td></tr></table></figure><ul><li>æ¨¡å— 6ï¼šè®¡ç®—å‡†ç¡®ç‡</li></ul><p>è®¡ç®—å‡†ç¡®ç‡å®é™…ä¸Šæ˜¯å¯¹åˆ†ç±»æ¨¡å‹çš„è¯„ä¼°ã€‚æˆ‘ä»¬å¯ä»¥è°ƒç”¨ sklearn ä¸­çš„ metrics åŒ…ï¼Œåœ¨ metrics ä¸­æä¾›äº† accuracy_score å‡½æ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹å®é™…ç»“æœå’Œé¢„æµ‹çš„ç»“æœåšå¯¹æ¯”ï¼Œç»™å‡ºæ¨¡å‹çš„å‡†ç¡®ç‡ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line"><span class="keyword">print</span> metrics.accuracy_score(test_labels, predicted_labels)</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®æŒ–æ˜ç¥å™¨-sklearn"><a href="#æ•°æ®æŒ–æ˜ç¥å™¨-sklearn" class="headerlink" title="æ•°æ®æŒ–æ˜ç¥å™¨ sklearn"></a>æ•°æ®æŒ–æ˜ç¥å™¨ sklearn</h3><p>ä»æ•°æ®æŒ–æ˜çš„æµç¨‹æ¥çœ‹ï¼Œä¸€èˆ¬åŒ…æ‹¬äº†è·å–æ•°æ®ã€æ•°æ®æ¸…æ´—ã€æ¨¡å‹è®­ç»ƒã€æ¨¡å‹è¯„ä¼°å’Œæ¨¡å‹éƒ¨ç½²è¿™å‡ ä¸ªè¿‡ç¨‹ã€‚</p><p>sklearn ä¸­åŒ…å«äº†å¤§é‡çš„æ•°æ®æŒ–æ˜ç®—æ³•ï¼Œæ¯”å¦‚ä¸‰ç§æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£ä¸åŒç®—æ³•çš„é€‚ç”¨æ¡ä»¶ï¼Œä»¥åŠåˆ›å»ºæ—¶æ‰€éœ€çš„å‚æ•°ï¼Œå°±å¯ä»¥ç”¨æ¨¡å‹å¸®æˆ‘ä»¬è¿›è¡Œè®­ç»ƒã€‚åœ¨æ¨¡å‹è¯„ä¼°ä¸­ï¼Œsklearn æä¾›äº† metrics åŒ…ï¼Œå¸®æˆ‘ä»¬å¯¹é¢„æµ‹ç»“æœä¸å®é™…ç»“æœè¿›è¡Œè¯„ä¼°ã€‚åœ¨æ–‡æ¡£åˆ†ç±»çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é’ˆå¯¹æ–‡æ¡£çš„ç‰¹ç‚¹ï¼Œç»™å‡ºäº†åŸºäºåˆ†è¯çš„å‡†å¤‡æµç¨‹ã€‚ä¸€èˆ¬æ¥è¯´ NTLK åŒ…é€‚ç”¨äºè‹±æ–‡æ–‡æ¡£ï¼Œè€Œ jieba é€‚ç”¨äºä¸­æ–‡æ–‡æ¡£ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æ–‡æ¡£é€‰æ‹©ä¸åŒçš„åŒ…ï¼Œå¯¹æ–‡æ¡£æå–åˆ†è¯ã€‚</p><p>è¿™äº›åˆ†è¯å°±æ˜¯è´å¶æ–¯åˆ†ç±»ä¸­æœ€é‡è¦çš„ç‰¹å¾å±æ€§ã€‚åŸºäºè¿™äº›åˆ†è¯ï¼Œæˆ‘ä»¬å¾—åˆ°åˆ†è¯çš„æƒé‡ï¼Œå³ç‰¹å¾çŸ©é˜µã€‚é€šè¿‡ç‰¹å¾çŸ©é˜µä¸åˆ†ç±»ç»“æœï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºå‡ºæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼Œç„¶åç”¨åˆ†ç±»å™¨è¿›è¡Œé¢„æµ‹ï¼Œæœ€åé¢„æµ‹ç»“æœä¸å®é™…ç»“æœåšå¯¹æ¯”å³å¯ä»¥å¾—åˆ°åˆ†ç±»å™¨åœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡ã€‚</p><h3 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h3><p>æ–‡æ¡£å…±æœ‰ 4 ç§ç±»å‹ï¼šå¥³æ€§ã€ä½“è‚²ã€æ–‡å­¦ã€æ ¡å›­</p><p>æ ¹æ®ä¸‹é¢ç»™å®šçš„è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®è¿›è¡Œ æœ´ç´ è´å¶æ–¯æ–‡æœ¬åˆ†ç±»å®æˆ˜ã€‚</p><p>æ•°æ®åœ°å€ï¼š<a href="https://github.com/cystanford/text_classification/tree/master/text%20classification" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/cystanford/text_classification/tree/master/text%20classification</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="comment"># ä¸­æ–‡æ–‡æœ¬åˆ†ç±»</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer</span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">'ignore'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cut_words</span><span class="params">(file_path)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å¯¹æ–‡æœ¬è¿›è¡Œåˆ‡è¯</span></span><br><span class="line"><span class="string">    :param file_path: txtæ–‡æœ¬è·¯å¾„</span></span><br><span class="line"><span class="string">    :return: ç”¨ç©ºæ ¼åˆ†è¯çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    text_with_spaces = <span class="string">''</span></span><br><span class="line">    <span class="keyword">with</span> open(file_path, <span class="string">'r'</span>, encoding=<span class="string">'gb18030'</span>, errors=<span class="string">'ignore'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        text = f.read()</span><br><span class="line">        textcut = jieba.cut(text)</span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> textcut:</span><br><span class="line">            text_with_spaces += word + <span class="string">' '</span></span><br><span class="line">    <span class="keyword">return</span> text_with_spaces</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">text_category = [<span class="string">'å¥³æ€§'</span>, <span class="string">'ä½“è‚²'</span>, <span class="string">'æ–‡å­¦'</span>, <span class="string">'æ ¡å›­'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadfile</span><span class="params">(data_path)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å°†è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠ è½½</span></span><br><span class="line"><span class="string">    :param file_dir: ä¿å­˜txtæ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="string">    :param label: æ–‡æ¡£æ ‡ç­¾</span></span><br><span class="line"><span class="string">    :return: åˆ†è¯åçš„æ–‡æ¡£åˆ—è¡¨å’Œæ ‡ç­¾</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    words_list = []</span><br><span class="line">    labels = []</span><br><span class="line">    <span class="keyword">for</span> category <span class="keyword">in</span> text_category:</span><br><span class="line">        file_path = data_path  + category + <span class="string">'/'</span></span><br><span class="line">        file_list = os.listdir(file_path)</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> file_list:</span><br><span class="line">            words_list.append(cut_words(file_path+file))</span><br><span class="line">        labels.append(category)</span><br><span class="line">    <span class="keyword">return</span> words_list, labels</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_stop_words</span><span class="params">(stop_words_path)</span>:</span></span><br><span class="line">    stop_words = open(stop_words_path, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>).read()</span><br><span class="line">    stop_words = stop_words.encode(<span class="string">'utf-8'</span>).decode(<span class="string">'utf-8-sig'</span>)  <span class="comment"># åˆ—è¡¨å¤´éƒ¨\ufeffå¤„ç†</span></span><br><span class="line">    stop_words = stop_words.split(<span class="string">'\n'</span>)  <span class="comment"># æ ¹æ®åˆ†éš”ç¬¦åˆ†éš”</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> stop_words</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    train_data_path = <span class="string">'train'</span> + <span class="string">'/'</span></span><br><span class="line">    test_data_path = <span class="string">'test'</span> + <span class="string">'/'</span></span><br><span class="line">    stop_words_path = <span class="string">'stop/stopword.txt'</span></span><br><span class="line">    train_words_list, train_labels = loadfile(train_data_path)</span><br><span class="line"></span><br><span class="line">    test_words_list, test_labels = loadfile(test_data_path)</span><br><span class="line"></span><br><span class="line">    stop_words = get_stop_words(stop_words_path)</span><br><span class="line"></span><br><span class="line">    tf = TfidfVectorizer(stop_words=stop_words, max_df=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    train_features = tf.fit_transform(train_words_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸Šé¢fitè¿‡äº†ï¼Œè¿™é‡Œtransform</span></span><br><span class="line">    test_features = tf.transform(test_words_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤šé¡¹å¼è´å¶æ–¯åˆ†ç±»å™¨</span></span><br><span class="line">    <span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB</span><br><span class="line"></span><br><span class="line">    clf = MultinomialNB(alpha=<span class="number">0.001</span>).fit(train_features, train_labels)</span><br><span class="line">    predicted_labels = clf.predict(test_features)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—å‡†ç¡®ç‡</span></span><br><span class="line">    print(<span class="string">'å‡†ç¡®ç‡ä¸ºï¼š'</span>, metrics.accuracy_score(test_labels, predicted_labels))</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æœ´ç´ è´å¶æ–¯åˆ†ç±»æœ€é€‚åˆçš„åœºæ™¯å°±æ˜¯æ–‡æœ¬åˆ†ç±»ã€æƒ…æ„Ÿåˆ†æå’Œåƒåœ¾é‚®ä»¶è¯†åˆ«ã€‚å…¶ä¸­æƒ…æ„Ÿåˆ†æå’Œåƒåœ¾é‚®ä»¶è¯†åˆ«éƒ½æ˜¯é€šè¿‡æ–‡æœ¬æ¥è¿›è¡Œåˆ¤æ–­ã€‚ä»è¿™é‡Œä½ èƒ½çœ‹å‡ºæ¥ï¼Œè¿™ä¸‰ä¸ªåœºæ™¯æœ¬
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-æœ´ç´ è´å¶æ–¯ï¼ˆä¸Šï¼‰</title>
    <link href="cpeixin.cn/2019/01/20/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%EF%BC%88%E4%B8%8A%EF%BC%89/"/>
    <id>cpeixin.cn/2019/01/20/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%EF%BC%88%E4%B8%8A%EF%BC%89/</id>
    <published>2019-01-20T15:19:16.000Z</published>
    <updated>2020-03-28T12:46:47.071Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><h3 id="è´å¶æ–¯åŸç†"><a href="#è´å¶æ–¯åŸç†" class="headerlink" title="è´å¶æ–¯åŸç†"></a>è´å¶æ–¯åŸç†</h3><p>è´å¶æ–¯åŸç†æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿè´å¶æ–¯ä¸ºäº†è§£å†³ä¸€ä¸ªå«â€œé€†å‘æ¦‚ç‡â€é—®é¢˜å†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œå°è¯•è§£ç­”åœ¨æ²¡æœ‰å¤ªå¤šå¯é è¯æ®çš„æƒ…å†µä¸‹ï¼Œæ€æ ·åšå‡ºæ›´ç¬¦åˆæ•°å­¦é€»è¾‘çš„æ¨æµ‹ã€‚ä»€ä¹ˆæ˜¯â€œé€†å‘æ¦‚ç‡â€å‘¢ï¼Ÿæ‰€è°“â€œé€†å‘æ¦‚ç‡â€æ˜¯ç›¸å¯¹â€œæ­£å‘æ¦‚ç‡â€è€Œè¨€ã€‚</p><p>æ­£å‘æ¦‚ç‡çš„é—®é¢˜å¾ˆå®¹æ˜“ç†è§£ï¼Œæ¯”å¦‚æˆ‘ä»¬å·²ç»çŸ¥é“è¢‹å­é‡Œé¢æœ‰ N ä¸ªçƒï¼Œä¸æ˜¯é»‘çƒå°±æ˜¯ç™½çƒï¼Œå…¶ä¸­ M ä¸ªæ˜¯é»‘çƒï¼Œé‚£ä¹ˆæŠŠæ‰‹ä¼¸è¿›å»æ‘¸ä¸€ä¸ªçƒï¼Œå°±èƒ½çŸ¥é“æ‘¸å‡ºé»‘çƒçš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ä½†è¿™ç§æƒ…å†µå¾€å¾€æ˜¯ä¸Šå¸è§†è§’ï¼Œå³äº†è§£äº†äº‹æƒ…çš„å…¨è²Œå†åšåˆ¤æ–­ã€‚</p><p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾çŸ¥é“äº‹æƒ…çš„å…¨è²Œã€‚è´å¶æ–¯åˆ™ä»å®é™…åœºæ™¯å‡ºå‘ï¼Œæäº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬äº‹å…ˆä¸çŸ¥é“è¢‹å­é‡Œé¢é»‘çƒå’Œç™½çƒçš„æ¯”ä¾‹ï¼Œè€Œæ˜¯é€šè¿‡æˆ‘ä»¬æ‘¸å‡ºæ¥çš„çƒçš„é¢œè‰²ï¼Œèƒ½åˆ¤æ–­å‡ºè¢‹å­é‡Œé¢é»‘ç™½çƒçš„æ¯”ä¾‹ä¹ˆï¼Ÿæ­£æ˜¯è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼Œå½±å“äº†æ¥ä¸‹æ¥è¿‘ 200 å¹´çš„ç»Ÿè®¡å­¦ç†è®ºã€‚è¿™æ˜¯å› ä¸ºï¼Œè´å¶æ–¯åŸç†ä¸å…¶ä»–ç»Ÿè®¡å­¦æ¨æ–­æ–¹æ³•æˆªç„¶ä¸åŒï¼Œå®ƒæ˜¯å»ºç«‹åœ¨ä¸»è§‚åˆ¤æ–­çš„åŸºç¡€ä¸Šï¼šåœ¨æˆ‘ä»¬ä¸äº†è§£æ‰€æœ‰å®¢è§‚äº‹å®çš„æƒ…å†µä¸‹ï¼ŒåŒæ ·å¯ä»¥å…ˆä¼°è®¡ä¸€ä¸ªå€¼ï¼Œç„¶åæ ¹æ®å®é™…ç»“æœä¸æ–­è¿›è¡Œä¿®æ­£ã€‚</p><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªé¢˜ç›®æ¥ä½“ä¼šä¸‹ï¼šå‡è®¾æœ‰ä¸€ç§ç—…å«åšâ€œè´å¶æ­»â€ï¼Œå®ƒçš„å‘ç—…ç‡æ˜¯ä¸‡åˆ†ä¹‹ä¸€ï¼Œå³ 10000 äººä¸­ä¼šæœ‰ 1 ä¸ªäººå¾—ç—…ã€‚ç°æœ‰ä¸€ç§æµ‹è¯•å¯ä»¥æ£€éªŒä¸€ä¸ªäººæ˜¯å¦å¾—ç—…çš„å‡†ç¡®ç‡æ˜¯ 99.9%ï¼Œå®ƒçš„è¯¯æŠ¥ç‡æ˜¯ 0.1%ï¼Œé‚£ä¹ˆç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœä¸€ä¸ªäººè¢«æŸ¥å‡ºæ¥æ‚£æœ‰â€œå¶è´æ­»â€ï¼Œå®é™…ä¸Šæ‚£æœ‰çš„å¯èƒ½æ€§æœ‰å¤šå¤§ï¼Ÿä½ å¯èƒ½ä¼šæƒ³è¯´ï¼Œæ—¢ç„¶æŸ¥å‡ºæ‚£æœ‰â€œè´å¶æ­»â€çš„å‡†ç¡®ç‡æ˜¯ 99.9%ï¼Œé‚£æ˜¯ä¸æ˜¯å®é™…ä¸Šæ‚£â€œè´å¶æ­»â€çš„æ¦‚ç‡ä¹Ÿæ˜¯ 99.9% å‘¢ï¼Ÿå®é™…ä¸Šä¸æ˜¯çš„ã€‚</p><p>ä½ è‡ªå·±æƒ³æƒ³ï¼Œåœ¨ 10000 ä¸ªäººä¸­ï¼Œè¿˜å­˜åœ¨ 0.1% çš„è¯¯æŸ¥çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯ 10 ä¸ªäººæ²¡æœ‰æ‚£ç—…ä½†æ˜¯è¢«è¯Šæ–­æˆé˜³æ€§ã€‚å½“ç„¶ 10000 ä¸ªäººä¸­ï¼Œä¹Ÿç¡®å®å­˜åœ¨ä¸€ä¸ªæ‚£æœ‰è´å¶æ­»çš„äººï¼Œä»–æœ‰ 99.9% çš„æ¦‚ç‡è¢«æ£€æŸ¥å‡ºæ¥ã€‚æ‰€ä»¥ä½ å¯ä»¥ç²—ç®—ä¸‹ï¼Œæ‚£ç—…çš„è¿™ä¸ªäººå®é™…ä¸Šæ˜¯è¿™ 11 ä¸ªäººé‡Œé¢çš„ä¸€å‘˜ï¼Œå³å®é™…æ‚£ç—…æ¯”ä¾‹æ˜¯ 1/11â‰ˆ9%ã€‚</p><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®é™…ä¸Šæ¶‰åŠåˆ°äº†è´å¶æ–¯åŸç†ä¸­çš„å‡ ä¸ªæ¦‚å¿µï¼š</p><p><strong>å…ˆéªŒæ¦‚ç‡ï¼š</strong>é€šè¿‡ç»éªŒæ¥åˆ¤æ–­äº‹æƒ…å‘ç”Ÿçš„æ¦‚ç‡ï¼Œæ¯”å¦‚è¯´â€œè´å¶æ­»â€çš„å‘ç—…ç‡æ˜¯ä¸‡åˆ†ä¹‹ä¸€ï¼Œå°±æ˜¯å…ˆéªŒæ¦‚ç‡ã€‚å†æ¯”å¦‚å—æ–¹çš„æ¢…é›¨å­£æ˜¯ 6-7 æœˆï¼Œå°±æ˜¯é€šè¿‡å¾€å¹´çš„æ°”å€™æ€»ç»“å‡ºæ¥çš„ç»éªŒï¼Œè¿™ä¸ªæ—¶å€™ä¸‹é›¨çš„æ¦‚ç‡å°±æ¯”å…¶ä»–æ—¶é—´é«˜å‡ºå¾ˆå¤šã€‚</p><p><strong>åéªŒæ¦‚ç‡ï¼š</strong>åéªŒæ¦‚ç‡å°±æ˜¯å‘ç”Ÿç»“æœä¹‹åï¼Œæ¨æµ‹åŸå› çš„æ¦‚ç‡ã€‚æ¯”å¦‚è¯´æŸäººæŸ¥å‡ºæ¥äº†æ‚£æœ‰â€œè´å¶æ­»â€ï¼Œé‚£ä¹ˆæ‚£ç—…çš„åŸå› å¯èƒ½æ˜¯ Aã€B æˆ– Cã€‚æ‚£æœ‰â€œè´å¶æ­»â€æ˜¯å› ä¸ºåŸå›  A çš„æ¦‚ç‡å°±æ˜¯åéªŒæ¦‚ç‡ã€‚å®ƒæ˜¯å±äºæ¡ä»¶æ¦‚ç‡çš„ä¸€ç§ã€‚</p><p><strong>æ¡ä»¶æ¦‚ç‡ï¼š</strong>äº‹ä»¶ A åœ¨å¦å¤–ä¸€ä¸ªäº‹ä»¶ B å·²ç»å‘ç”Ÿæ¡ä»¶ä¸‹çš„å‘ç”Ÿæ¦‚ç‡ï¼Œè¡¨ç¤ºä¸º P(A|B)ï¼Œè¯»ä½œâ€œåœ¨ B å‘ç”Ÿçš„æ¡ä»¶ä¸‹ A å‘ç”Ÿçš„æ¦‚ç‡â€ã€‚æ¯”å¦‚åŸå›  A çš„æ¡ä»¶ä¸‹ï¼Œæ‚£æœ‰â€œè´å¶æ­»â€çš„æ¦‚ç‡ï¼Œå°±æ˜¯æ¡ä»¶æ¦‚ç‡ã€‚</p><p><strong>ä¼¼ç„¶å‡½æ•°ï¼ˆlikelihood functionï¼‰ï¼š</strong>ä½ å¯ä»¥æŠŠæ¦‚ç‡æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ç†è§£ä¸ºæ±‚å‚æ•°ä¼°è®¡çš„è¿‡ç¨‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªç¡¬å¸åœ¨ 10 æ¬¡æŠ›è½ä¸­æ­£é¢å‡æœä¸Šã€‚</p><p>é‚£ä¹ˆä½ è‚¯å®šåœ¨æƒ³ï¼Œè¿™ä¸ªç¡¬å¸æ˜¯å‡åŒ€çš„å¯èƒ½æ€§æ˜¯å¤šå°‘ï¼Ÿè¿™é‡Œç¡¬å¸å‡åŒ€å°±æ˜¯ä¸ªå‚æ•°ï¼Œä¼¼ç„¶å‡½æ•°å°±æ˜¯ç”¨æ¥è¡¡é‡è¿™ä¸ªæ¨¡å‹çš„å‚æ•°ã€‚ä¼¼ç„¶åœ¨è¿™é‡Œå°±æ˜¯å¯èƒ½æ€§çš„æ„æ€ï¼Œå®ƒæ˜¯å…³äºç»Ÿè®¡å‚æ•°çš„å‡½æ•°ã€‚</p><p>ä»‹ç»å®Œè´å¶æ–¯åŸç†ä¸­çš„è¿™å‡ ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹è´å¶æ–¯åŸç†ï¼Œå®é™…ä¸Šè´å¶æ–¯åŸç†å°±æ˜¯æ±‚è§£åéªŒæ¦‚ç‡ï¼Œæˆ‘ä»¬å‡è®¾ï¼šA è¡¨ç¤ºäº‹ä»¶ â€œæµ‹å‡ºä¸ºé˜³æ€§â€, ç”¨ B1 è¡¨ç¤ºâ€œæ‚£æœ‰è´å¶æ­»â€, B2 è¡¨ç¤ºâ€œæ²¡æœ‰æ‚£è´å¶æ­»â€ã€‚</p><p>æ ¹æ®ä¸Šé¢é‚£é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢çš„ä¿¡æ¯ã€‚æ‚£æœ‰è´å¶æ­»çš„æƒ…å†µä¸‹ï¼Œæµ‹å‡ºä¸ºé˜³æ€§çš„æ¦‚ç‡ä¸º P(A|B1)=99.9%ï¼Œæ²¡æœ‰æ‚£è´å¶æ­»ï¼Œä½†æµ‹å‡ºä¸ºé˜³æ€§çš„æ¦‚ç‡ä¸º P(A|B2)=0.1%ã€‚å¦å¤–æ‚£æœ‰è´å¶æ­»çš„æ¦‚ç‡ä¸º P(B1)=0.01%ï¼Œæ²¡æœ‰æ‚£è´å¶æ­»çš„æ¦‚ç‡ P(B2)=99.99%ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬æ£€æµ‹å‡ºæ¥ä¸ºé˜³æ€§ï¼Œè€Œä¸”æ˜¯è´å¶æ­»çš„æ¦‚ç‡ P(B1ï¼ŒAï¼‰=P(B1)<em>P(A|B1)=0.01%</em>99.9%=0.00999%ã€‚</p><p>è¿™é‡Œ P(B1,A) ä»£è¡¨çš„æ˜¯è”åˆæ¦‚ç‡ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥æ±‚å¾— P(B2,A)=P(B2)<em>P(A|B2)=99.99%</em>0.1%=0.09999%ã€‚</p><p>ç„¶åæˆ‘ä»¬æƒ³æ±‚å¾—æ˜¯æ£€æŸ¥ä¸ºé˜³æ€§çš„æƒ…å†µä¸‹ï¼Œæ‚£æœ‰è´å¶æ­»çš„æ¦‚ç‡ï¼Œä¹Ÿå³æ˜¯ P(B1|A)ã€‚æ‰€ä»¥æ£€æŸ¥å‡ºé˜³æ€§ï¼Œä¸”æ‚£æœ‰è´å¶æ­»çš„æ¦‚ç‡ä¸ºï¼š</p><p><img src="p1.png" alt="p1"></p><p>æ£€æŸ¥å‡ºæ˜¯é˜³æ€§ï¼Œä½†æ²¡æœ‰æ‚£æœ‰è´å¶æ­»çš„æ¦‚ç‡ä¸ºï¼š</p><p><img src="p2.png" alt="p2"></p><p>è¿™é‡Œæˆ‘ä»¬èƒ½çœ‹å‡ºæ¥ 0.01%+0.1% å‡å‡ºç°åœ¨äº† P(B1|A) å’Œ P(B2|A) çš„è®¡ç®—ä¸­ä½œä¸ºåˆ†æ¯ã€‚</p><p>æˆ‘ä»¬æŠŠå®ƒç§°ä¹‹ä¸ºè®ºæ®å› å­ï¼Œä¹Ÿç›¸å½“äºä¸€ä¸ªæƒå€¼å› å­ã€‚å…¶ä¸­ P(B1ï¼‰ã€P(B2) å°±æ˜¯å…ˆéªŒæ¦‚ç‡ï¼Œæˆ‘ä»¬ç°åœ¨çŸ¥é“äº†è§‚æµ‹å€¼ï¼Œå°±æ˜¯è¢«æ£€æµ‹å‡ºæ¥æ˜¯é˜³æ€§ï¼Œæ¥æ±‚æ‚£è´å¶æ­»çš„æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯æ±‚åéªŒæ¦‚ç‡ã€‚</p><p>æ±‚åéªŒæ¦‚ç‡å°±æ˜¯è´å¶æ–¯åŸç†è¦æ±‚çš„ï¼ŒåŸºäºåˆšæ‰æ±‚å¾—çš„ P(B1|A)ï¼ŒP(B2|A)ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºè´å¶æ–¯å…¬å¼ä¸ºï¼š</p><p><img src="p3.png" alt="p3"></p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºé€šç”¨çš„è´å¶æ–¯å…¬å¼ï¼š</p><p><img src="p4.png" alt="p4"></p><h3 id="æœ´ç´ è´å¶æ–¯"><a href="#æœ´ç´ è´å¶æ–¯" class="headerlink" title="æœ´ç´ è´å¶æ–¯"></a>æœ´ç´ è´å¶æ–¯</h3><p>è®²å®Œè´å¶æ–¯åŸç†ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ä»Šå¤©é‡ç‚¹è¦è®²çš„ç®—æ³•ï¼Œæœ´ç´ è´å¶æ–¯ã€‚å®ƒæ˜¯ä¸€ç§ç®€å•ä½†æä¸ºå¼ºå¤§çš„é¢„æµ‹å»ºæ¨¡ç®—æ³•ã€‚</p><p>ä¹‹æ‰€ä»¥ç§°ä¸ºæœ´ç´ è´å¶æ–¯ï¼Œæ˜¯å› ä¸ºå®ƒå‡è®¾æ¯ä¸ªè¾“å…¥å˜é‡æ˜¯ç‹¬ç«‹çš„ã€‚è¿™æ˜¯ä¸€ä¸ªå¼ºç¡¬çš„å‡è®¾ï¼Œå®é™…æƒ…å†µå¹¶ä¸ä¸€å®šï¼Œä½†æ˜¯è¿™é¡¹æŠ€æœ¯å¯¹äºç»å¤§éƒ¨åˆ†çš„å¤æ‚é—®é¢˜ä»ç„¶éå¸¸æœ‰æ•ˆã€‚</p><p>æœ´ç´ è´å¶æ–¯æ¨¡å‹ç”±ä¸¤ç§ç±»å‹çš„æ¦‚ç‡ç»„æˆï¼š</p><ul><li>æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡P(Cj)ï¼›</li><li>æ¯ä¸ªå±æ€§çš„æ¡ä»¶æ¦‚ç‡P(Ai|Cj)ã€‚</li></ul><p>æˆ‘æ¥ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ä»€ä¹ˆæ˜¯ç±»åˆ«æ¦‚ç‡å’Œæ¡ä»¶æ¦‚ç‡ã€‚</p><p>å‡è®¾æˆ‘æœ‰ 7 ä¸ªæ£‹å­ï¼Œå…¶ä¸­ 3 ä¸ªæ˜¯ç™½è‰²çš„ï¼Œ4 ä¸ªæ˜¯é»‘è‰²çš„ã€‚é‚£ä¹ˆæ£‹å­æ˜¯ç™½è‰²çš„æ¦‚ç‡å°±æ˜¯ 3/7ï¼Œé»‘è‰²çš„æ¦‚ç‡å°±æ˜¯ 4/7ï¼Œè¿™ä¸ªå°±æ˜¯ç±»åˆ«æ¦‚ç‡ã€‚</p><p>å‡è®¾æˆ‘æŠŠè¿™ 7 ä¸ªæ£‹å­æ”¾åˆ°äº†ä¸¤ä¸ªç›’å­é‡Œï¼Œå…¶ä¸­ç›’å­ A é‡Œé¢æœ‰ 2 ä¸ªç™½æ£‹ï¼Œ2 ä¸ªé»‘æ£‹ï¼›ç›’å­ B é‡Œé¢æœ‰ 1 ä¸ªç™½æ£‹ï¼Œ2 ä¸ªé»‘æ£‹ã€‚é‚£ä¹ˆåœ¨ç›’å­ A ä¸­æŠ“åˆ°ç™½æ£‹çš„æ¦‚ç‡å°±æ˜¯ 1/2ï¼ŒæŠ“åˆ°é»‘æ£‹çš„æ¦‚ç‡ä¹Ÿæ˜¯ 1/2ï¼Œè¿™ä¸ªå°±æ˜¯æ¡ä»¶æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æŸä¸ªæ¡ä»¶ï¼ˆæ¯”å¦‚åœ¨ç›’å­ A ä¸­ï¼‰ä¸‹çš„æ¦‚ç‡ã€‚</p><p>åœ¨æœ´ç´ è´å¶æ–¯ä¸­ï¼Œæˆ‘ä»¬è¦ç»Ÿè®¡çš„æ˜¯å±æ€§çš„æ¡ä»¶æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯å‡è®¾å–å‡ºæ¥çš„æ˜¯ç™½è‰²çš„æ£‹å­ï¼Œé‚£ä¹ˆå®ƒå±äºç›’å­ A çš„æ¦‚ç‡æ˜¯ 2/3ã€‚ä¸ºäº†è®­ç»ƒæœ´ç´ è´å¶æ–¯æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç»™å‡ºè®­ç»ƒæ•°æ®ï¼Œä»¥åŠè¿™äº›æ•°æ®å¯¹åº”çš„åˆ†ç±»ã€‚</p><p>é‚£ä¹ˆä¸Šé¢è¿™ä¸¤ä¸ªæ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯ç±»åˆ«æ¦‚ç‡å’Œæ¡ä»¶æ¦‚ç‡ã€‚ä»–ä»¬éƒ½å¯ä»¥ä»ç»™å‡ºçš„è®­ç»ƒæ•°æ®ä¸­è®¡ç®—å‡ºæ¥ã€‚ä¸€æ—¦è®¡ç®—å‡ºæ¥ï¼Œæ¦‚ç‡æ¨¡å‹å°±å¯ä»¥ä½¿ç”¨è´å¶æ–¯åŸç†å¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚</p><p><img src="p5.png" alt="p5"></p><p>å¦å¤–æˆ‘æƒ³å‘Šè¯‰ä½ çš„æ˜¯ï¼Œè´å¶æ–¯åŸç†ã€è´å¶æ–¯åˆ†ç±»å’Œæœ´ç´ è´å¶æ–¯è¿™ä¸‰è€…ä¹‹é—´æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><p>è´å¶æ–¯åŸç†æ˜¯æœ€å¤§çš„æ¦‚å¿µï¼Œå®ƒè§£å†³äº†æ¦‚ç‡è®ºä¸­â€œé€†å‘æ¦‚ç‡â€çš„é—®é¢˜ï¼Œ<strong>åœ¨è¿™ä¸ªç†è®ºåŸºç¡€ä¸Šï¼Œäººä»¬è®¾è®¡å‡ºäº†è´å¶æ–¯åˆ†ç±»å™¨ï¼Œæœ´ç´ è´å¶æ–¯åˆ†ç±»æ˜¯è´å¶æ–¯åˆ†ç±»å™¨ä¸­çš„ä¸€ç§ï¼Œä¹Ÿæ˜¯æœ€ç®€å•ï¼Œæœ€å¸¸ç”¨çš„åˆ†ç±»å™¨ã€‚</strong>æœ´ç´ è´å¶æ–¯ä¹‹æ‰€ä»¥æœ´ç´ æ˜¯å› ä¸ºå®ƒå‡è®¾å±æ€§æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå› æ­¤å¯¹å®é™…æƒ…å†µæœ‰æ‰€çº¦æŸï¼Œå¦‚æœå±æ€§ä¹‹é—´å­˜åœ¨å…³è”ï¼Œåˆ†ç±»å‡†ç¡®ç‡ä¼šé™ä½ã€‚ä¸è¿‡å¥½åœ¨å¯¹äºå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæœ´ç´ è´å¶æ–¯çš„åˆ†ç±»æ•ˆæœéƒ½ä¸é”™ã€‚</p><p><img src="p6.png" alt="p6"></p><h3 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å·¥ä½œåŸç†"><a href="#æœ´ç´ è´å¶æ–¯åˆ†ç±»å·¥ä½œåŸç†" class="headerlink" title="æœ´ç´ è´å¶æ–¯åˆ†ç±»å·¥ä½œåŸç†"></a>æœ´ç´ è´å¶æ–¯åˆ†ç±»å·¥ä½œåŸç†</h3><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»æ˜¯å¸¸ç”¨çš„è´å¶æ–¯åˆ†ç±»æ–¹æ³•ã€‚æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­çœ‹åˆ°ä¸€ä¸ªé™Œç”Ÿäººï¼Œè¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ¤æ–­ TA çš„æ€§åˆ«ï¼Œåˆ¤æ–­æ€§åˆ«çš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªåˆ†ç±»çš„è¿‡ç¨‹ã€‚æ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä»èº«é«˜ã€ä½“é‡ã€é‹ç ã€å¤´å‘é•¿çŸ­ã€æœé¥°ã€å£°éŸ³ç­‰è§’åº¦è¿›è¡Œåˆ¤æ–­ã€‚è¿™é‡Œçš„â€œç»éªŒâ€å°±æ˜¯ä¸€ä¸ªè®­ç»ƒå¥½çš„å…³äºæ€§åˆ«åˆ¤æ–­çš„æ¨¡å‹ï¼Œå…¶è®­ç»ƒæ•°æ®æ˜¯æ—¥å¸¸ä¸­é‡åˆ°çš„å„å¼å„æ ·çš„äººï¼Œä»¥åŠè¿™äº›äººå®é™…çš„æ€§åˆ«æ•°æ®ã€‚</p><p><strong>ç¦»æ•£æ•°æ®æ¡ˆä¾‹</strong></p><p>æˆ‘ä»¬é‡åˆ°çš„æ•°æ®å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ç¦»æ•£æ•°æ®ï¼Œå¦ä¸€ç§æ˜¯è¿ç»­æ•°æ®ã€‚é‚£ä»€ä¹ˆæ˜¯ç¦»æ•£æ•°æ®å‘¢ï¼Ÿç¦»æ•£å°±æ˜¯ä¸è¿ç»­çš„æ„æ€ï¼Œæœ‰æ˜ç¡®çš„è¾¹ç•Œï¼Œæ¯”å¦‚æ•´æ•° 1ï¼Œ2ï¼Œ3 å°±æ˜¯ç¦»æ•£æ•°æ®ï¼Œè€Œ 1 åˆ° 3 ä¹‹é—´çš„ä»»ä½•æ•°ï¼Œå°±æ˜¯è¿ç»­æ•°æ®ï¼Œå®ƒå¯ä»¥å–åœ¨è¿™ä¸ªåŒºé—´é‡Œçš„ä»»ä½•æ•°å€¼ã€‚</p><p>æˆ‘ä»¥ä¸‹é¢çš„æ•°æ®ä¸ºä¾‹ï¼Œè¿™äº›æ˜¯æ ¹æ®ä½ ä¹‹å‰çš„ç»éªŒæ‰€è·å¾—çš„æ•°æ®ã€‚ç„¶åç»™ä½ ä¸€ä¸ªæ–°çš„æ•°æ®ï¼šèº«é«˜â€œé«˜â€ã€ä½“é‡â€œä¸­â€ï¼Œé‹ç â€œä¸­â€ï¼Œè¯·é—®è¿™ä¸ªäººæ˜¯ç”·è¿˜æ˜¯å¥³ï¼Ÿ</p><p><img src="p7.png" alt="p7"></p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆç¡®å®šä¸€å…±æœ‰ 3 ä¸ªå±æ€§ï¼Œå‡è®¾æˆ‘ä»¬ç”¨ A ä»£è¡¨å±æ€§ï¼Œç”¨ A1, A2, A3 åˆ†åˆ«ä¸ºèº«é«˜ = é«˜ã€ä½“é‡ = ä¸­ã€é‹ç  = ä¸­ã€‚ä¸€å…±æœ‰ä¸¤ä¸ªç±»åˆ«ï¼Œå‡è®¾ç”¨ C ä»£è¡¨ç±»åˆ«ï¼Œé‚£ä¹ˆ C1,C2 åˆ†åˆ«æ˜¯ï¼šç”·ã€å¥³ï¼Œåœ¨æœªçŸ¥çš„æƒ…å†µä¸‹æˆ‘ä»¬ç”¨ Cj è¡¨ç¤ºã€‚é‚£ä¹ˆæˆ‘ä»¬æƒ³æ±‚åœ¨ A1ã€A2ã€A3 å±æ€§ä¸‹ï¼ŒCj çš„æ¦‚ç‡ï¼Œç”¨æ¡ä»¶æ¦‚ç‡è¡¨ç¤ºå°±æ˜¯ P(Cj|A1A2A3)ã€‚æ ¹æ®ä¸Šé¢è®²çš„è´å¶æ–¯çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼š</p><p><img src="p8.png" alt="p8"></p><p>å› ä¸ºä¸€å…±æœ‰ 2 ä¸ªç±»åˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ±‚å¾— P(C1|A1A2A3) å’Œ P(C2|A1A2A3) çš„æ¦‚ç‡å³å¯ï¼Œç„¶åæ¯”è¾ƒä¸‹å“ªä¸ªåˆ†ç±»çš„å¯èƒ½æ€§å¤§ï¼Œå°±æ˜¯å“ªä¸ªåˆ†ç±»ç»“æœã€‚</p><p>åœ¨è¿™ä¸ªå…¬å¼é‡Œï¼Œå› ä¸º P(A1A2A3) éƒ½æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬æƒ³è¦å¯»æ‰¾ä½¿å¾— P(Cj|A1A2A3) çš„æœ€å¤§å€¼ï¼Œå°±ç­‰ä»·äºæ±‚ P(A1A2A3|Cj)P(Cj) æœ€å¤§å€¼ã€‚</p><p>æˆ‘ä»¬å‡å®š Ai ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆï¼šP(A1A2A3|Cj)=P(A1|Cj)P(A2|Cj)P(A3|Cj)ç„¶åæˆ‘ä»¬éœ€è¦ä» Ai å’Œ Cj ä¸­è®¡ç®—å‡º P(Ai|Cj) çš„æ¦‚ç‡ï¼Œå¸¦å…¥åˆ°ä¸Šé¢çš„å…¬å¼å¾—å‡º P(A1A2A3|Cj)ï¼Œæœ€åæ‰¾åˆ°ä½¿å¾— P(A1A2A3|Cj) æœ€å¤§çš„ç±»åˆ« Cjã€‚</p><p>æˆ‘åˆ†åˆ«æ±‚ä¸‹è¿™äº›æ¡ä»¶ä¸‹çš„æ¦‚ç‡ï¼šP(A1|C1)=1/2, P(A2|C1)=1/2, P(A3|C1)=1/4ï¼ŒP(A1|C2)=0, P(A2|C2)=1/2, P(A3|C2)=1/2ï¼Œæ‰€ä»¥ P(A1A2A3|C1)=1/16, P(A1A2A3|C2)=0ã€‚</p><p>å› ä¸º P(A1A2A3|C1)P(C1)&gt;P(A1A2A3|C2)P(C2)ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ C1 ç±»åˆ«ï¼Œå³ç”·æ€§ã€‚</p><p><strong>è¿ç»­æ•°æ®æ¡ˆä¾‹</strong></p><p>æˆ‘ä»¬åšäº†ä¸€ä¸ªç¦»æ•£çš„æ•°æ®æ¡ˆä¾‹ï¼Œå®é™…ç”Ÿæ´»ä¸­æˆ‘ä»¬å¾—åˆ°çš„æ˜¯è¿ç»­çš„æ•°å€¼ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç»„æ•°æ®ï¼š</p><p><img src="p9.png" alt="p9"></p><p>é‚£ä¹ˆå¦‚æœç»™ä½ ä¸€ä¸ªæ–°çš„æ•°æ®ï¼Œèº«é«˜ 180ã€ä½“é‡ 120ï¼Œé‹ç  41ï¼Œè¯·é—®è¯¥äººæ˜¯ç”·æ˜¯å¥³å‘¢ï¼Ÿ</p><p>å…¬å¼è¿˜æ˜¯ä¸Šé¢çš„å…¬å¼ï¼Œè¿™é‡Œçš„å›°éš¾åœ¨äºï¼Œç”±äºèº«é«˜ã€ä½“é‡ã€é‹ç éƒ½æ˜¯è¿ç»­å˜é‡ï¼Œä¸èƒ½é‡‡ç”¨ç¦»æ•£å˜é‡çš„æ–¹æ³•è®¡ç®—æ¦‚ç‡ã€‚è€Œä¸”ç”±äºæ ·æœ¬å¤ªå°‘ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•åˆ†æˆåŒºé—´è®¡ç®—ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶ï¼Œå¯ä»¥å‡è®¾ç”·æ€§å’Œå¥³æ€§çš„èº«é«˜ã€ä½“é‡ã€é‹ç éƒ½æ˜¯æ­£æ€åˆ†å¸ƒï¼Œé€šè¿‡æ ·æœ¬è®¡ç®—å‡ºå‡å€¼å’Œæ–¹å·®ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°æ­£æ€åˆ†å¸ƒçš„å¯†åº¦å‡½æ•°ã€‚</p><p>æœ‰äº†å¯†åº¦å‡½æ•°ï¼Œå°±å¯ä»¥æŠŠå€¼ä»£å…¥ï¼Œç®—å‡ºæŸä¸€ç‚¹çš„å¯†åº¦å‡½æ•°çš„å€¼ã€‚æ¯”å¦‚ï¼Œç”·æ€§çš„èº«é«˜æ˜¯å‡å€¼ 179.5ã€æ ‡å‡†å·®ä¸º 3.697 çš„æ­£æ€åˆ†å¸ƒã€‚æ‰€ä»¥ç”·æ€§çš„èº«é«˜ä¸º 180 çš„æ¦‚ç‡ä¸º 0.1069ã€‚æ€ä¹ˆè®¡ç®—å¾—å‡ºçš„å‘¢? ä½ å¯ä»¥ä½¿ç”¨ EXCEL çš„ NORMDIST(x,mean,standard_dev,cumulative) å‡½æ•°ï¼Œä¸€å…±æœ‰ 4 ä¸ªå‚æ•°ï¼š</p><ol><li><p>xï¼šæ­£æ€åˆ†å¸ƒä¸­ï¼Œéœ€è¦è®¡ç®—çš„æ•°å€¼ï¼›</p></li><li><p>Meanï¼šæ­£æ€åˆ†å¸ƒçš„å¹³å‡å€¼ï¼›</p></li><li><p>Standard_devï¼šæ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼›</p></li><li><p>Cumulativeï¼šå–å€¼ä¸ºé€»è¾‘å€¼ï¼Œå³ False æˆ– Trueã€‚å®ƒå†³å®šäº†å‡½æ•°çš„å½¢å¼ã€‚</p></li></ol><p>å½“ä¸º TRUE æ—¶ï¼Œå‡½æ•°ç»“æœä¸ºç´¯ç§¯åˆ†å¸ƒï¼›ä¸º False æ—¶ï¼Œå‡½æ•°ç»“æœä¸ºæ¦‚ç‡å¯†åº¦ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ NORMDIST(180,179.5,3.697,0)=0.1069ã€‚</p><p>åŒç†æˆ‘ä»¬å¯ä»¥è®¡ç®—å¾—å‡ºç”·æ€§ä½“é‡ä¸º 120 çš„æ¦‚ç‡ä¸º 0.000382324ï¼Œç”·æ€§é‹ç ä¸º 41 å·çš„æ¦‚ç‡ä¸º 0.120304111ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¡ç®—å¾—å‡ºï¼šP(A1A2A3|C1)=P(A1|C1)P(A2|C1)P(A3|C1)=0.10690.0003823240.120304111=4.9169e-6</p><p>åŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®—å‡ºæ¥è¯¥äººä¸ºå¥³çš„å¯èƒ½æ€§ï¼š</p><p>P(A1A2A3|C2)=P(A1|C2)P(A2|C2)P(A3|C2)=0.000001474890.0153541440.120306074=2.7244e-9</p><p>å¾ˆæ˜æ˜¾è¿™ç»„æ•°æ®åˆ†ç±»ä¸ºç”·çš„æ¦‚ç‡å¤§äºåˆ†ç±»ä¸ºå¥³çš„æ¦‚ç‡ã€‚å½“ç„¶åœ¨ Python ä¸­ï¼Œæœ‰ç¬¬ä¸‰æ–¹åº“å¯ä»¥ç›´æ¥å¸®æˆ‘ä»¬è¿›è¡Œä¸Šé¢çš„æ“ä½œï¼Œè¿™ä¸ªæˆ‘ä»¬ä¼šåœ¨ä¸‹èŠ‚è¯¾ä¸­ä»‹ç»ã€‚è¿™é‡Œä¸»è¦æ˜¯ç»™ä½ è®²è§£ä¸‹å…·ä½“çš„è¿ç®—åŸç†ã€‚</p><h3 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨å·¥ä½œæµç¨‹"><a href="#æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨å·¥ä½œæµç¨‹" class="headerlink" title="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨å·¥ä½œæµç¨‹"></a>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨å·¥ä½œæµç¨‹</h3><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»å¸¸ç”¨äºæ–‡æœ¬åˆ†ç±»ï¼Œå°¤å…¶æ˜¯å¯¹äºè‹±æ–‡ç­‰è¯­è¨€æ¥è¯´ï¼Œåˆ†ç±»æ•ˆæœå¾ˆå¥½ã€‚å®ƒå¸¸ç”¨äºåƒåœ¾æ–‡æœ¬è¿‡æ»¤ã€æƒ…æ„Ÿé¢„æµ‹ã€æ¨èç³»ç»Ÿç­‰ã€‚æµç¨‹å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š</p><p><img src="p10.png" alt="p10"></p><p>ä»å›¾ç‰‡ä½ ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨éœ€è¦ä¸‰ä¸ªæµç¨‹ï¼Œæˆ‘æ¥ç»™ä½ ä¸€ä¸€è®²è§£ä¸‹è¿™å‡ ä¸ªæµç¨‹ã€‚</p><p>ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡é˜¶æ®µåœ¨è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬éœ€è¦ç¡®å®šç‰¹å¾å±æ€§ï¼Œæ¯”å¦‚ä¸Šé¢æ¡ˆä¾‹ä¸­çš„â€œèº«é«˜â€ã€â€œä½“é‡â€ã€â€œé‹ç â€ç­‰ï¼Œå¹¶å¯¹æ¯ä¸ªç‰¹å¾å±æ€§è¿›è¡Œé€‚å½“åˆ’åˆ†ï¼Œç„¶åç”±äººå·¥å¯¹ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œå½¢æˆè®­ç»ƒæ ·æœ¬ã€‚è¿™ä¸€é˜¶æ®µæ˜¯æ•´ä¸ªæœ´ç´ è´å¶æ–¯åˆ†ç±»ä¸­å”¯ä¸€éœ€è¦äººå·¥å®Œæˆçš„é˜¶æ®µï¼Œå…¶è´¨é‡å¯¹æ•´ä¸ªè¿‡ç¨‹å°†æœ‰é‡è¦å½±å“ï¼Œåˆ†ç±»å™¨çš„è´¨é‡å¾ˆå¤§ç¨‹åº¦ä¸Šç”±ç‰¹å¾å±æ€§ã€ç‰¹å¾å±æ€§åˆ’åˆ†åŠè®­ç»ƒæ ·æœ¬è´¨é‡å†³å®šã€‚</p><p>ç¬¬äºŒé˜¶æ®µï¼šè®­ç»ƒé˜¶æ®µè¿™ä¸ªé˜¶æ®µå°±æ˜¯ç”Ÿæˆåˆ†ç±»å™¨ï¼Œä¸»è¦å·¥ä½œæ˜¯è®¡ç®—æ¯ä¸ªç±»åˆ«åœ¨è®­ç»ƒæ ·æœ¬ä¸­çš„å‡ºç°é¢‘ç‡åŠæ¯ä¸ªç‰¹å¾å±æ€§åˆ’åˆ†å¯¹æ¯ä¸ªç±»åˆ«çš„æ¡ä»¶æ¦‚ç‡ã€‚è¾“å…¥æ˜¯ç‰¹å¾å±æ€§å’Œè®­ç»ƒæ ·æœ¬ï¼Œè¾“å‡ºæ˜¯åˆ†ç±»å™¨ã€‚</p><p>ç¬¬ä¸‰é˜¶æ®µï¼šåº”ç”¨é˜¶æ®µè¿™ä¸ªé˜¶æ®µæ˜¯ä½¿ç”¨åˆ†ç±»å™¨å¯¹æ–°æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚è¾“å…¥æ˜¯åˆ†ç±»å™¨å’Œæ–°æ•°æ®ï¼Œè¾“å‡ºæ˜¯æ–°æ•°æ®çš„åˆ†ç±»ç»“æœã€‚</p><p><img src="p11.png" alt="p11"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;h3 id=&quot;è´å¶æ–¯åŸç†&quot;&gt;&lt;a href=&quot;#è´å¶æ–¯åŸç†&quot; class=&quot;headerlink&quot; title=&quot;è´å¶æ–¯åŸç†&quot;&gt;&lt;/a&gt;è´å¶æ–¯åŸç†&lt;
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-å†³ç­–æ ‘å®æˆ˜-æ³°å¦å°¼å…‹å·ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹</title>
    <link href="cpeixin.cn/2019/01/15/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%86%B3%E7%AD%96%E6%A0%91%E5%AE%9E%E6%88%98-%E6%B3%B0%E5%9D%A6%E5%B0%BC%E5%85%8B%E5%8F%B7%E4%B9%98%E5%AE%A2%E7%94%9F%E5%AD%98%E9%A2%84%E6%B5%8B/"/>
    <id>cpeixin.cn/2019/01/15/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%86%B3%E7%AD%96%E6%A0%91%E5%AE%9E%E6%88%98-%E6%B3%B0%E5%9D%A6%E5%B0%BC%E5%85%8B%E5%8F%B7%E4%B9%98%E5%AE%A2%E7%94%9F%E5%AD%98%E9%A2%84%E6%B5%8B/</id>
    <published>2019-01-15T14:12:49.000Z</published>
    <updated>2020-03-28T12:45:07.035Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --><p><br>åœ¨å‰é¢çš„ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™ä½ è®²äº†å†³ç­–æ ‘ç®—æ³•ã€‚å†³ç­–æ ‘ç®—æ³•æ˜¯ç»å¸¸ä½¿ç”¨çš„æ•°æ®æŒ–æ˜ç®—æ³•ï¼Œè¿™æ˜¯å› ä¸ºå†³ç­–æ ‘å°±åƒä¸€ä¸ªäººè„‘ä¸­çš„å†³ç­–æ¨¡å‹ä¸€æ ·ï¼Œå‘ˆç°å‡ºæ¥éå¸¸ç›´è§‚ã€‚<br><br><br>åŸºäºå†³ç­–æ ‘è¿˜è¯ç”Ÿäº†å¾ˆå¤šæ•°æ®æŒ–æ˜ç®—æ³•ï¼Œæ¯”å¦‚éšæœºæ£®æ—ï¼ˆRandom forestï¼‰ã€‚ä»Šå¤©æˆ‘æ¥å¸¦ä½ ç”¨å†³ç­–æ ‘è¿›è¡Œé¡¹ç›®çš„å®æˆ˜ã€‚å†³ç­–æ ‘åˆ†ç±»çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œåœ¨å„è¡Œå„ä¸šéƒ½æœ‰åº”ç”¨ï¼Œæ¯”å¦‚åœ¨é‡‘èè¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘åšè´·æ¬¾é£é™©è¯„ä¼°ï¼ŒåŒ»ç–—è¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘ç”Ÿæˆè¾…åŠ©è¯Šæ–­ï¼Œç”µå•†è¡Œä¸šå¯ä»¥ç”¨å†³ç­–æ ‘å¯¹é”€å”®é¢è¿›è¡Œé¢„æµ‹ç­‰ã€‚<br><br><br>åœ¨äº†è§£å†³ç­–æ ‘çš„åŸç†åï¼Œä»Šå¤©æˆ‘ä»¬ç”¨ sklearn å·¥å…·è§£å†³ä¸€ä¸ªå®é™…çš„é—®é¢˜ï¼šæ³°å¦å°¼å…‹å·ä¹˜å®¢çš„ç”Ÿå­˜é¢„æµ‹ã€‚<br><a name="sklearn"></a></p><h3 id="sklearn-ä¸­çš„å†³ç­–æ ‘æ¨¡å‹"><a href="#sklearn-ä¸­çš„å†³ç­–æ ‘æ¨¡å‹" class="headerlink" title="sklearn ä¸­çš„å†³ç­–æ ‘æ¨¡å‹"></a>sklearn ä¸­çš„å†³ç­–æ ‘æ¨¡å‹</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡ sklearn ä¸­è‡ªå¸¦çš„å†³ç­–æ ‘åˆ†ç±»å™¨ DecisionTreeClassifierï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clf = DecisionTreeClassifier(criterion=<span class="string">'entropy'</span>)</span><br></pre></td></tr></table></figure><p><br>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œsklearn ä¸­åªå®ç°äº† ID3 ä¸ CART å†³ç­–æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æš‚æ—¶åªèƒ½ä½¿ç”¨è¿™ä¸¤ç§å†³ç­–æ ‘ï¼Œåœ¨æ„é€  DecisionTreeClassifier ç±»æ—¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‚æ•°æ˜¯ criterionï¼Œæ„ä¸ºæ ‡å‡†ã€‚å®ƒå†³å®šäº†æ„é€ çš„åˆ†ç±»æ ‘æ˜¯é‡‡ç”¨ ID3 åˆ†ç±»æ ‘ï¼Œè¿˜æ˜¯ CART åˆ†ç±»æ ‘ï¼Œå¯¹åº”çš„å–å€¼åˆ†åˆ«æ˜¯ entropy æˆ–è€… gini</p><ul><li>entropy: åŸºäºä¿¡æ¯ç†µï¼Œä¹Ÿå°±æ˜¯ ID3 ç®—æ³•ï¼Œå®é™…ç»“æœä¸ C4.5 ç›¸å·®ä¸å¤§ï¼›</li><li>giniï¼šé»˜è®¤å‚æ•°ï¼ŒåŸºäºåŸºå°¼ç³»æ•°ã€‚</li></ul><p><br>CART ç®—æ³•æ˜¯åŸºäºåŸºå°¼ç³»æ•°åšå±æ€§åˆ’åˆ†çš„ï¼Œæ‰€ä»¥ criterion=gini æ—¶ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ CART ç®—æ³•ã€‚æˆ‘ä»¬é€šè¿‡è®¾ç½® criterion=â€™entropyâ€™å¯ä»¥åˆ›å»ºä¸€ä¸ª ID3 å†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œç„¶åæ‰“å°ä¸‹ clfï¼Œçœ‹ä¸‹å†³ç­–æ ‘åœ¨ sklearn ä¸­æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DecisionTreeClassifier(class_weight=<span class="literal">None</span>, criterion=<span class="string">'entropy'</span>, max_depth=<span class="literal">None</span>,</span><br><span class="line">            max_features=<span class="literal">None</span>, max_leaf_nodes=<span class="literal">None</span>,</span><br><span class="line">            min_impurity_decrease=<span class="number">0.0</span>, min_impurity_split=<span class="literal">None</span>,</span><br><span class="line">            min_samples_leaf=<span class="number">1</span>, min_samples_split=<span class="number">2</span>,</span><br><span class="line">            min_weight_fraction_leaf=<span class="number">0.0</span>, presort=<span class="literal">False</span>, random_state=<span class="literal">None</span>,</span><br><span class="line">            splitter=<span class="string">'best'</span>)</span><br></pre></td></tr></table></figure><br><br>è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†å¾ˆå¤šå‚æ•°ï¼Œé™¤äº†è®¾ç½® criterion é‡‡ç”¨ä¸åŒçš„å†³ç­–æ ‘ç®—æ³•å¤–ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨é»˜è®¤çš„å‚æ•°ï¼Œé»˜è®¤å‚æ•°ä¸ä¼šé™åˆ¶å†³ç­–æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œä¸é™åˆ¶å¶å­èŠ‚ç‚¹æ•°ï¼Œè®¤ä¸ºæ‰€æœ‰åˆ†ç±»çš„æƒé‡éƒ½ç›¸ç­‰ç­‰ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥è°ƒæ•´è¿™äº›å‚æ•°ï¼Œæ¥åˆ›å»ºä¸åŒçš„å†³ç­–æ ‘æ¨¡å‹ã€‚<br><br>æˆ‘æ•´ç†äº†è¿™äº›å‚æ•°ä»£è¡¨çš„å«ä¹‰ï¼š<br>![](https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397401268-c9ea5ebf-53aa-44e0-8588-13582a240b5d.png#align=left&display=inline&height=930&originHeight=930&originWidth=620&size=0&status=done&style=none&width=620)<br><br>åœ¨æ„é€ å†³ç­–æ ‘åˆ†ç±»å™¨åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ fit æ–¹æ³•è®©åˆ†ç±»å™¨è¿›è¡Œæ‹Ÿåˆï¼Œä½¿ç”¨ predict æ–¹æ³•å¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°é¢„æµ‹çš„åˆ†ç±»ç»“æœï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ score æ–¹æ³•å¾—åˆ°åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚<br><br>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ˜¯ fit æ–¹æ³•ã€predict æ–¹æ³•å’Œ score æ–¹æ³•çš„ä½œç”¨:<br>![](https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397402135-ed1fff6c-1bee-49f9-bf07-9fb87d83e0f3.png#align=left&display=inline&height=158&originHeight=158&originWidth=468&size=0&status=done&style=none&width=468) <a name="titanic"></a> ### Titanic ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹ <a name="-2"></a> #### é—®é¢˜æè¿° æ³°å¦å°¼å…‹æµ·éš¾æ˜¯è‘—åçš„åå¤§ç¾éš¾ä¹‹ä¸€ï¼Œç©¶ç«Ÿå¤šå°‘äººé‡éš¾ï¼Œå„æ–¹ç»Ÿè®¡çš„ç»“æœä¸ä¸€ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å¾—åˆ°éƒ¨åˆ†çš„æ•°æ®ï¼Œå…·ä½“æ•°æ®ä½ å¯ä»¥ä» GitHub ä¸Šä¸‹è½½ï¼š[ç‚¹æˆ‘](https://github.com/cystanford/Titanic_Data)<br><br>å…¶ä¸­æ•°æ®é›†æ ¼å¼ä¸º csvï¼Œä¸€å…±æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š<br>train.csv æ˜¯è®­ç»ƒæ•°æ®é›†ï¼ŒåŒ…å«ç‰¹å¾ä¿¡æ¯å’Œå­˜æ´»ä¸å¦çš„æ ‡ç­¾ï¼›<br>test.csv: æµ‹è¯•æ•°æ®é›†ï¼ŒåªåŒ…å«ç‰¹å¾ä¿¡æ¯ã€‚<br>ç°åœ¨æˆ‘ä»¬éœ€è¦ç”¨å†³ç­–æ ‘åˆ†ç±»å¯¹è®­ç»ƒé›†è¿›è¡Œè®­ç»ƒï¼Œé’ˆå¯¹æµ‹è¯•é›†ä¸­çš„ä¹˜å®¢è¿›è¡Œç”Ÿå­˜é¢„æµ‹ï¼Œå¹¶å‘ŠçŸ¥åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚åœ¨è®­ç»ƒé›†ä¸­ï¼ŒåŒ…æ‹¬äº†ä»¥ä¸‹å­—æ®µï¼Œå®ƒä»¬å…·ä½“ä¸ºï¼š<br>![](https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397401155-e052cf89-fe96-49b3-b3fe-37539d7a67ae.png#align=left&display=inline&height=370&originHeight=370&originWidth=466&size=0&status=done&style=none&width=466) <a name="-3"></a> #### ç”Ÿå­˜é¢„æµ‹çš„å…³é”®æµç¨‹ æˆ‘ä»¬è¦å¯¹è®­ç»ƒé›†ä¸­ä¹˜å®¢çš„ç”Ÿå­˜è¿›è¡Œé¢„æµ‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªé‡è¦çš„é˜¶æ®µï¼š<br>![](https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397402088-8ce15112-7300-4b68-b34c-0bc6a0c960c0.png#align=left&display=inline&height=1470&originHeight=1470&originWidth=3202&size=0&status=done&style=none&width=3202)<br>**å‡†å¤‡é˜¶æ®µ**ï¼šæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹è®­ç»ƒé›†ã€æµ‹è¯•é›†çš„æ•°æ®è¿›è¡Œæ¢ç´¢ï¼Œåˆ†ææ•°æ®è´¨é‡ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—ï¼Œç„¶åé€šè¿‡ç‰¹å¾é€‰æ‹©å¯¹æ•°æ®è¿›è¡Œé™ç»´ï¼Œæ–¹ä¾¿åç»­åˆ†ç±»è¿ç®—ï¼›<br><br>**åˆ†ç±»é˜¶æ®µ**ï¼šé¦–å…ˆé€šè¿‡è®­ç»ƒé›†çš„ç‰¹å¾çŸ©é˜µã€åˆ†ç±»ç»“æœå¾—åˆ°å†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œç„¶åå°†åˆ†ç±»å™¨åº”ç”¨äºæµ‹è¯•é›†ã€‚ç„¶åæˆ‘ä»¬å¯¹å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®æ€§è¿›è¡Œåˆ†æï¼Œå¹¶å¯¹å†³ç­–æ ‘æ¨¡å‹è¿›è¡Œå¯è§†åŒ–ã€‚<br>ä¸‹é¢ï¼Œæˆ‘åˆ†åˆ«å¯¹è¿™äº›æ¨¡å—è¿›è¡Œä»‹ç»ã€‚<br><br>**æ¨¡å— 1**ï¼šæ•°æ®æ¢ç´¢<br>æ•°æ®æ¢ç´¢è¿™éƒ¨åˆ†è™½ç„¶å¯¹åˆ†ç±»å™¨æ²¡æœ‰å®è´¨ä½œç”¨ï¼Œä½†æ˜¯ä¸å¯å¿½ç•¥ã€‚æˆ‘ä»¬åªæœ‰è¶³å¤Ÿäº†è§£è¿™äº›æ•°æ®çš„ç‰¹æ€§ï¼Œæ‰èƒ½å¸®åŠ©æˆ‘ä»¬åšæ•°æ®æ¸…æ´—ã€ç‰¹å¾é€‰æ‹©ã€‚<br>é‚£ä¹ˆå¦‚ä½•è¿›è¡Œæ•°æ®æ¢ç´¢å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€äº›å‡½æ•°ä½ éœ€è¦äº†è§£ï¼š<br>ä½¿ç”¨ info() äº†è§£æ•°æ®è¡¨çš„åŸºæœ¬æƒ…å†µï¼šè¡Œæ•°ã€åˆ—æ•°ã€æ¯åˆ—çš„æ•°æ®ç±»å‹ã€æ•°æ®å®Œæ•´åº¦ï¼›<br>ä½¿ç”¨ describe() äº†è§£æ•°æ®è¡¨çš„ç»Ÿè®¡æƒ…å†µï¼šæ€»æ•°ã€å¹³å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼ç­‰ï¼›<br>ä½¿ç”¨ describe(include=[â€˜Oâ€™]) æŸ¥çœ‹å­—ç¬¦ä¸²ç±»å‹ï¼ˆéæ•°å­—ï¼‰çš„æ•´ä½“æƒ…å†µï¼›<br>ä½¿ç”¨ head æŸ¥çœ‹å‰å‡ è¡Œæ•°æ®ï¼ˆé»˜è®¤æ˜¯å‰ 5 è¡Œï¼‰ï¼›<br>ä½¿ç”¨ tail æŸ¥çœ‹åå‡ è¡Œæ•°æ®ï¼ˆé»˜è®¤æ˜¯æœ€å 5 è¡Œï¼‰ã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Pandas ä¾¿æ·åœ°å¤„ç†è¿™äº›é—®é¢˜ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train_data = pd.read_csv(<span class="string">'train.csv'</span>)</span><br><span class="line"></span><br><span class="line">print(train_data.info())</span><br><span class="line">print(<span class="string">"==========================================="</span>)</span><br><span class="line">print(train_data.describe())</span><br><span class="line"></span><br><span class="line">print(<span class="string">"==========================================="</span>)</span><br><span class="line"></span><br><span class="line">print(train_data.describe(include=[<span class="string">'O'</span>]))</span><br><span class="line"></span><br><span class="line">print(<span class="string">"==========================================="</span>)</span><br><span class="line"></span><br><span class="line">print(train_data.head())</span><br><span class="line"></span><br><span class="line">print(<span class="string">"==========================================="</span>)</span><br><span class="line"></span><br><span class="line">print(train_data.tail())</span><br></pre></td></tr></table></figure><p><br>è¿è¡Œç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">frame</span>.<span class="title">DataFrame</span>'&gt;</span></span><br><span class="line"><span class="class"><span class="title">RangeIndex</span>:</span> <span class="number">891</span> entries, <span class="number">0</span> to <span class="number">890</span></span><br><span class="line">Data columns (total <span class="number">12</span> columns):</span><br><span class="line">PassengerId    <span class="number">891</span> non-null int64</span><br><span class="line">Survived       <span class="number">891</span> non-null int64</span><br><span class="line">Pclass         <span class="number">891</span> non-null int64</span><br><span class="line">Name           <span class="number">891</span> non-null object</span><br><span class="line">Sex            <span class="number">891</span> non-null object</span><br><span class="line">Age            <span class="number">714</span> non-null float64</span><br><span class="line">SibSp          <span class="number">891</span> non-null int64</span><br><span class="line">Parch          <span class="number">891</span> non-null int64</span><br><span class="line">Ticket         <span class="number">891</span> non-null object</span><br><span class="line">Fare           <span class="number">891</span> non-null float64</span><br><span class="line">Cabin          <span class="number">204</span> non-null object</span><br><span class="line">Embarked       <span class="number">889</span> non-null object</span><br><span class="line">dtypes: float64(<span class="number">2</span>), int64(<span class="number">5</span>), object(<span class="number">5</span>)</span><br><span class="line">memory usage: <span class="number">83.7</span>+ KB</span><br><span class="line"><span class="literal">None</span></span><br><span class="line">===========================================</span><br><span class="line">       PassengerId    Survived      Pclass  ...       SibSp       Parch        Fare</span><br><span class="line">count   <span class="number">891.000000</span>  <span class="number">891.000000</span>  <span class="number">891.000000</span>  ...  <span class="number">891.000000</span>  <span class="number">891.000000</span>  <span class="number">891.000000</span></span><br><span class="line">mean    <span class="number">446.000000</span>    <span class="number">0.383838</span>    <span class="number">2.308642</span>  ...    <span class="number">0.523008</span>    <span class="number">0.381594</span>   <span class="number">32.204208</span></span><br><span class="line">std     <span class="number">257.353842</span>    <span class="number">0.486592</span>    <span class="number">0.836071</span>  ...    <span class="number">1.102743</span>    <span class="number">0.806057</span>   <span class="number">49.693429</span></span><br><span class="line">min       <span class="number">1.000000</span>    <span class="number">0.000000</span>    <span class="number">1.000000</span>  ...    <span class="number">0.000000</span>    <span class="number">0.000000</span>    <span class="number">0.000000</span></span><br><span class="line"><span class="number">25</span>%     <span class="number">223.500000</span>    <span class="number">0.000000</span>    <span class="number">2.000000</span>  ...    <span class="number">0.000000</span>    <span class="number">0.000000</span>    <span class="number">7.910400</span></span><br><span class="line"><span class="number">50</span>%     <span class="number">446.000000</span>    <span class="number">0.000000</span>    <span class="number">3.000000</span>  ...    <span class="number">0.000000</span>    <span class="number">0.000000</span>   <span class="number">14.454200</span></span><br><span class="line"><span class="number">75</span>%     <span class="number">668.500000</span>    <span class="number">1.000000</span>    <span class="number">3.000000</span>  ...    <span class="number">1.000000</span>    <span class="number">0.000000</span>   <span class="number">31.000000</span></span><br><span class="line">max     <span class="number">891.000000</span>    <span class="number">1.000000</span>    <span class="number">3.000000</span>  ...    <span class="number">8.000000</span>    <span class="number">6.000000</span>  <span class="number">512.329200</span></span><br><span class="line"></span><br><span class="line">[<span class="number">8</span> rows x <span class="number">7</span> columns]</span><br><span class="line">===========================================</span><br><span class="line">                            Name   Sex  Ticket    Cabin Embarked</span><br><span class="line">count                        <span class="number">891</span>   <span class="number">891</span>     <span class="number">891</span>      <span class="number">204</span>      <span class="number">889</span></span><br><span class="line">unique                       <span class="number">891</span>     <span class="number">2</span>     <span class="number">681</span>      <span class="number">147</span>        <span class="number">3</span></span><br><span class="line">top     Wick, Miss. Mary Natalie  male  <span class="number">347082</span>  B96 B98        S</span><br><span class="line">freq                           <span class="number">1</span>   <span class="number">577</span>       <span class="number">7</span>        <span class="number">4</span>      <span class="number">644</span></span><br><span class="line">===========================================</span><br><span class="line">   PassengerId  Survived  Pclass  ...     Fare Cabin  Embarked</span><br><span class="line"><span class="number">0</span>            <span class="number">1</span>         <span class="number">0</span>       <span class="number">3</span>  ...   <span class="number">7.2500</span>   NaN         S</span><br><span class="line"><span class="number">1</span>            <span class="number">2</span>         <span class="number">1</span>       <span class="number">1</span>  ...  <span class="number">71.2833</span>   C85         C</span><br><span class="line"><span class="number">2</span>            <span class="number">3</span>         <span class="number">1</span>       <span class="number">3</span>  ...   <span class="number">7.9250</span>   NaN         S</span><br><span class="line"><span class="number">3</span>            <span class="number">4</span>         <span class="number">1</span>       <span class="number">1</span>  ...  <span class="number">53.1000</span>  C123         S</span><br><span class="line"><span class="number">4</span>            <span class="number">5</span>         <span class="number">0</span>       <span class="number">3</span>  ...   <span class="number">8.0500</span>   NaN         S</span><br><span class="line"></span><br><span class="line">[<span class="number">5</span> rows x <span class="number">12</span> columns]</span><br><span class="line">===========================================</span><br><span class="line">     PassengerId  Survived  Pclass  ...   Fare Cabin  Embarked</span><br><span class="line"><span class="number">886</span>          <span class="number">887</span>         <span class="number">0</span>       <span class="number">2</span>  ...  <span class="number">13.00</span>   NaN         S</span><br><span class="line"><span class="number">887</span>          <span class="number">888</span>         <span class="number">1</span>       <span class="number">1</span>  ...  <span class="number">30.00</span>   B42         S</span><br><span class="line"><span class="number">888</span>          <span class="number">889</span>         <span class="number">0</span>       <span class="number">3</span>  ...  <span class="number">23.45</span>   NaN         S</span><br><span class="line"><span class="number">889</span>          <span class="number">890</span>         <span class="number">1</span>       <span class="number">1</span>  ...  <span class="number">30.00</span>  C148         C</span><br><span class="line"><span class="number">890</span>          <span class="number">891</span>         <span class="number">0</span>       <span class="number">3</span>  ...   <span class="number">7.75</span>   NaN         Q</span><br><span class="line"></span><br><span class="line">[<span class="number">5</span> rows x <span class="number">12</span> columns]</span><br></pre></td></tr></table></figure><p><br><strong>æ¨¡å— 2ï¼šæ•°æ®æ¸…æ´—</strong><br>é€šè¿‡æ•°æ®æ¢ç´¢ï¼Œæˆ‘ä»¬å‘ç° Age å’Œ Cabin è¿™ä¸‰ä¸ªå­—æ®µçš„æ•°æ®æœ‰æ‰€ç¼ºå¤±ã€‚å…¶ä¸­ Age ä¸ºå¹´é¾„å­—æ®µï¼Œæ˜¯æ•°å€¼å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¹³å‡å€¼è¿›è¡Œè¡¥é½ï¼›å…·ä½“å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train_data[<span class="string">'Age'</span>].fillna(train_data[<span class="string">'Age'</span>].mean(), inplace=<span class="literal">True</span>)</span><br><span class="line">test_data[<span class="string">'Age'</span>].fillna(test_data[<span class="string">'Age'</span>].mean(),inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><br>Cabin ä¸ºèˆ¹èˆ±ï¼Œæœ‰å¤§é‡çš„ç¼ºå¤±å€¼ã€‚åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„ç¼ºå¤±ç‡åˆ†åˆ«ä¸º 77% å’Œ 78%ï¼Œæ— æ³•è¡¥é½ï¼›Embarked ä¸ºç™»é™†æ¸¯å£ï¼Œæœ‰å°‘é‡çš„ç¼ºå¤±å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¼ºå¤±å€¼è¡¥é½ã€‚é¦–å…ˆè§‚å¯Ÿä¸‹ Embarked å­—æ®µçš„å–å€¼ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br>é¦–å…ˆè§‚å¯Ÿä¸‹ Embarked å­—æ®µçš„å–å€¼ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(train_data[<span class="string">'Embarked'</span>].value_counts())</span><br></pre></td></tr></table></figure><p><br>ç»“æœå¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S    <span class="number">644</span></span><br><span class="line">C    <span class="number">168</span></span><br><span class="line">Q     <span class="number">77</span></span><br></pre></td></tr></table></figure><p><br>æˆ‘ä»¬å‘ç°ä¸€å…±å°± 3 ä¸ªç™»é™†æ¸¯å£ï¼Œå…¶ä¸­ S æ¸¯å£äººæ•°æœ€å¤šï¼Œå åˆ°äº† 72%ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶ä½™ç¼ºå¤±çš„ Embarked æ•°å€¼å‡è®¾ç½®ä¸º Sï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_data[<span class="string">'Embarked'</span>].fillna(<span class="string">'S'</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><br><strong>æ¨¡å— 3ï¼šç‰¹å¾é€‰æ‹©</strong><br>ç‰¹å¾é€‰æ‹©æ˜¯åˆ†ç±»å™¨çš„å…³é”®ã€‚ç‰¹å¾é€‰æ‹©ä¸åŒï¼Œå¾—åˆ°çš„åˆ†ç±»å™¨ä¹Ÿä¸åŒã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥é€‰æ‹©å“ªäº›ç‰¹å¾åšç”Ÿå­˜çš„é¢„æµ‹å‘¢ï¼Ÿé€šè¿‡æ•°æ®æ¢ç´¢æˆ‘ä»¬å‘ç°ï¼ŒPassengerId ä¸ºä¹˜å®¢ç¼–å·ï¼Œå¯¹åˆ†ç±»æ²¡æœ‰ä½œç”¨ï¼Œå¯ä»¥æ”¾å¼ƒï¼›Name ä¸ºä¹˜å®¢å§“åï¼Œå¯¹åˆ†ç±»æ²¡æœ‰ä½œç”¨ï¼Œå¯ä»¥æ”¾å¼ƒï¼›<strong>Cabin å­—æ®µç¼ºå¤±å€¼å¤ªå¤šï¼Œå¯ä»¥æ”¾å¼ƒï¼›</strong> Ticket å­—æ®µä¸ºèˆ¹ç¥¨å·ç ï¼Œæ‚ä¹±æ— ç« ä¸”æ— è§„å¾‹ï¼Œå¯ä»¥æ”¾å¼ƒã€‚<br><br><br>å…¶ä½™çš„å­—æ®µåŒ…æ‹¬ï¼šPclassã€Sexã€Ageã€SibSpã€Parch å’Œ Fareï¼Œè¿™äº›å±æ€§åˆ†åˆ«è¡¨ç¤ºäº†ä¹˜å®¢çš„èˆ¹ç¥¨ç­‰çº§ã€æ€§åˆ«ã€å¹´é¾„ã€äº²æˆšæ•°é‡ä»¥åŠèˆ¹ç¥¨ä»·æ ¼ï¼Œå¯èƒ½ä¼šå’Œä¹˜å®¢çš„ç”Ÿå­˜é¢„æµ‹åˆ†ç±»æœ‰å…³ç³»ã€‚å…·ä½“æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥äº¤ç»™åˆ†ç±»å™¨æ¥å¤„ç†ã€‚å› æ­¤æˆ‘ä»¬å…ˆå°† Pclassã€Sexã€Age ç­‰è¿™äº›å…¶ä½™çš„å­—æ®µä½œç‰¹å¾ï¼Œæ”¾åˆ°ç‰¹å¾å‘é‡ features é‡Œã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç‰¹å¾é€‰æ‹©</span></span><br><span class="line">features = [<span class="string">'Pclass'</span>, <span class="string">'Sex'</span>, <span class="string">'Age'</span>, <span class="string">'SibSp'</span>, <span class="string">'Parch'</span>, <span class="string">'Fare'</span>, <span class="string">'Embarked'</span>]</span><br><span class="line">train_features = train_data[features]</span><br><span class="line">train_labels = train_data[<span class="string">'Survived'</span>]</span><br><span class="line">test_features = test_data[features]</span><br></pre></td></tr></table></figure><p><br>ç‰¹å¾å€¼é‡Œæœ‰ä¸€äº›æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ ·ä¸æ–¹ä¾¿åç»­çš„è¿ç®—ï¼Œéœ€è¦è½¬æˆæ•°å€¼ç±»å‹ï¼Œæ¯”å¦‚ Sex å­—æ®µï¼Œæœ‰ male å’Œ female ä¸¤ç§å–å€¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå˜æˆ Sex=male å’Œ Sex=female ä¸¤ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨ 0 æˆ– 1 æ¥è¡¨ç¤ºã€‚åŒç† Embarked æœ‰ Sã€Cã€Q ä¸‰ç§å¯èƒ½ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹æˆ Embarked=Sã€Embarked=C å’Œ Embarked=Q ä¸‰ä¸ªå­—æ®µï¼Œæ•°å€¼ç”¨ 0 æˆ– 1 æ¥è¡¨ç¤ºã€‚<br><br><br>é‚£è¯¥å¦‚ä½•æ“ä½œå‘¢?æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ sklearn ç‰¹å¾é€‰æ‹©ä¸­çš„ DictVectorizer ç±»ï¼Œç”¨å®ƒå°†å¯ä»¥å¤„ç†ç¬¦å·åŒ–çš„å¯¹è±¡ï¼Œå°†ç¬¦å·è½¬æˆæ•°å­— 0/1 è¿›è¡Œè¡¨ç¤ºã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_extraction <span class="keyword">import</span> DictVectorizer</span><br><span class="line">dvec=DictVectorizer(sparse=<span class="literal">False</span>)</span><br><span class="line">train_features=dvec.fit_transform(train_features.to_dict(orient=<span class="string">'record'</span>))</span><br></pre></td></tr></table></figure><p><br>ä½ ä¼šçœ‹åˆ°ä»£ç ä¸­ä½¿ç”¨äº† fit_transform è¿™ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç‰¹å¾å€¼çŸ©é˜µã€‚ç„¶åæˆ‘ä»¬çœ‹ä¸‹ dvec åœ¨è½¬åŒ–åçš„ç‰¹å¾å±æ€§æ˜¯æ€æ ·çš„ï¼Œå³æŸ¥çœ‹ dvec çš„ feature_names_ å±æ€§å€¼ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(dvec.feature_names_)</span><br><span class="line">[<span class="string">'Age'</span>, <span class="string">'Embarked=C'</span>, <span class="string">'Embarked=Q'</span>, <span class="string">'Embarked=S'</span>, <span class="string">'Fare'</span>, <span class="string">'Parch'</span>, <span class="string">'Pclass'</span>, <span class="string">'Sex=female'</span>, <span class="string">'Sex=male'</span>, <span class="string">'SibSp'</span>]</span><br></pre></td></tr></table></figure><p><br>ä½ å¯ä»¥çœ‹åˆ°åŸæœ¬æ˜¯ä¸€åˆ—çš„ Embarkedï¼Œå˜æˆäº†â€œEmbarked=Câ€â€œEmbarked=Qâ€â€œEmbarked=Sâ€ä¸‰åˆ—ã€‚Sex åˆ—å˜æˆäº†â€œSex=femaleâ€â€œSex=maleâ€ä¸¤åˆ—ã€‚è¿™æ · train_features ç‰¹å¾çŸ©é˜µå°±åŒ…æ‹¬ 10 ä¸ªç‰¹å¾å€¼ï¼ˆåˆ—ï¼‰ï¼Œä»¥åŠ 891 ä¸ªæ ·æœ¬ï¼ˆè¡Œï¼‰ï¼Œå³ 891 è¡Œï¼Œ10 åˆ—çš„ç‰¹å¾çŸ©é˜µã€‚<br><br><br><strong>æ¨¡å— 4ï¼šå†³ç­–æ ‘æ¨¡å‹</strong><br>åˆšæ‰æˆ‘ä»¬å·²ç»è®²äº†å¦‚ä½•ä½¿ç”¨ sklearn ä¸­çš„å†³ç­–æ ‘æ¨¡å‹ã€‚ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ ID3 ç®—æ³•ï¼Œå³åœ¨åˆ›å»º DecisionTreeClassifier æ—¶ï¼Œè®¾ç½® criterion=â€˜entropyâ€™ï¼Œç„¶åä½¿ç”¨ fit è¿›è¡Œè®­ç»ƒï¼Œå°†ç‰¹å¾å€¼çŸ©é˜µå’Œåˆ†ç±»æ ‡è¯†ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¾—åˆ°å†³ç­–æ ‘åˆ†ç±»å™¨ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="comment"># æ„é€ ID3å†³ç­–æ ‘</span></span><br><span class="line">clf = DecisionTreeClassifier(criterion=<span class="string">'entropy'</span>)</span><br><span class="line"><span class="comment"># å†³ç­–æ ‘è®­ç»ƒ</span></span><br><span class="line">clf.fit(train_features, train_labels)</span><br></pre></td></tr></table></figure><p><br><strong>æ¨¡å— 5ï¼šæ¨¡å‹é¢„æµ‹ &amp; è¯„ä¼°</strong><br>åœ¨é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¾—åˆ°æµ‹è¯•é›†çš„ç‰¹å¾å€¼çŸ©é˜µï¼Œç„¶åä½¿ç”¨è®­ç»ƒå¥½çš„å†³ç­–æ ‘ clf è¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°é¢„æµ‹ç»“æœ pred_labelsï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test_features=dvec.transform(test_features.to_dict(orient=<span class="string">'record'</span>))</span><br><span class="line"><span class="comment"># å†³ç­–æ ‘é¢„æµ‹</span></span><br><span class="line">pred_labels = clf.predict(test_features)</span><br></pre></td></tr></table></figure><p><br>åœ¨æ¨¡å‹è¯„ä¼°ä¸­ï¼Œå†³ç­–æ ‘æä¾›äº† score å‡½æ•°å¯ä»¥ç›´æ¥å¾—åˆ°å‡†ç¡®ç‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“çœŸå®çš„é¢„æµ‹ç»“æœï¼Œæ‰€ä»¥æ— æ³•ç”¨é¢„æµ‹å€¼å’ŒçœŸå®çš„é¢„æµ‹ç»“æœåšæ¯”è¾ƒã€‚æˆ‘ä»¬åªèƒ½ä½¿ç”¨è®­ç»ƒé›†ä¸­çš„æ•°æ®è¿›è¡Œæ¨¡å‹è¯„ä¼°ï¼Œå¯ä»¥ä½¿ç”¨å†³ç­–æ ‘è‡ªå¸¦çš„ score å‡½æ•°è®¡ç®—ä¸‹å¾—åˆ°çš„ç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡</span></span><br><span class="line">acc_decision_tree = round(clf.score(train_features, train_labels), <span class="number">6</span>)</span><br><span class="line">print(<span class="string">u'scoreå‡†ç¡®ç‡ä¸º %.4lf'</span> % acc_decision_tree)</span><br></pre></td></tr></table></figure><p><br>è¿è¡Œç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoreå‡†ç¡®ç‡ä¸º <span class="number">0.9820</span></span><br></pre></td></tr></table></figure><p><br>ä½ ä¼šå‘ç°ä½ åˆšç”¨è®­ç»ƒé›†åšè®­ç»ƒï¼Œå†ç”¨è®­ç»ƒé›†è‡ªèº«åšå‡†ç¡®ç‡è¯„ä¼°è‡ªç„¶ä¼šå¾ˆé«˜ã€‚ä½†è¿™æ ·å¾—å‡ºçš„å‡†ç¡®ç‡å¹¶ä¸èƒ½ä»£è¡¨å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®ç‡ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br><br><br>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰æµ‹è¯•é›†çš„å®é™…ç»“æœï¼Œå› æ­¤æ— æ³•ç”¨æµ‹è¯•é›†çš„é¢„æµ‹ç»“æœä¸å®é™…ç»“æœåšå¯¹æ¯”(<strong>test.csvæ•°æ®ä¸­æ²¡æœ‰Survived</strong>)ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ score å‡½æ•°å¯¹è®­ç»ƒé›†çš„å‡†ç¡®ç‡è¿›è¡Œç»Ÿè®¡ï¼Œæ­£ç¡®ç‡ä¼šæ¥è¿‘äº 100%ï¼ˆå¦‚ä¸Šç»“æœä¸º 98.2%ï¼‰ï¼Œæ— æ³•å¯¹åˆ†ç±»å™¨çš„åœ¨å®é™…ç¯å¢ƒä¸‹åšå‡†ç¡®ç‡çš„è¯„ä¼°ã€‚<br><br><br>é‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•ï¼Œæ¥ç»Ÿè®¡å†³ç­–æ ‘åˆ†ç±»å™¨çš„å‡†ç¡®ç‡å‘¢ï¼Ÿè¿™é‡Œå¯ä»¥ä½¿ç”¨ K æŠ˜äº¤å‰éªŒè¯çš„æ–¹å¼ï¼Œäº¤å‰éªŒè¯æ˜¯ä¸€ç§å¸¸ç”¨çš„éªŒè¯åˆ†ç±»å‡†ç¡®ç‡çš„æ–¹æ³•ï¼ŒåŸç†æ˜¯æ‹¿å‡ºå¤§éƒ¨åˆ†æ ·æœ¬è¿›è¡Œè®­ç»ƒï¼Œå°‘é‡çš„ç”¨äºåˆ†ç±»å™¨çš„éªŒè¯ã€‚<br>K æŠ˜äº¤å‰éªŒè¯ï¼Œå°±æ˜¯åš K æ¬¡äº¤å‰éªŒè¯ï¼Œæ¯æ¬¡é€‰å– K åˆ†ä¹‹ä¸€çš„æ•°æ®ä½œä¸ºéªŒè¯ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒã€‚è½®æµ K æ¬¡ï¼Œå–å¹³å‡å€¼ã€‚<br><strong>K æŠ˜äº¤å‰éªŒè¯çš„åŸç†æ˜¯è¿™æ ·çš„ï¼š</strong></p><ol><li>å°†æ•°æ®é›†å¹³å‡åˆ†å‰²æˆ K ä¸ªç­‰ä»½ï¼›<br></li><li>ä½¿ç”¨ 1 ä»½æ•°æ®ä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒæ•°æ®ï¼›<br></li><li>è®¡ç®—æµ‹è¯•å‡†ç¡®ç‡ï¼›<br></li><li>ä½¿ç”¨ä¸åŒçš„æµ‹è¯•é›†ï¼Œé‡å¤ 2ã€3 æ­¥éª¤ã€‚<br></li></ol><p><br>åœ¨ sklearn çš„ model_selection æ¨¡å‹é€‰æ‹©ä¸­æä¾›äº† cross_val_score å‡½æ•°ã€‚cross_val_score å‡½æ•°ä¸­çš„å‚æ•° cv ä»£è¡¨å¯¹åŸå§‹æ•°æ®åˆ’åˆ†æˆå¤šå°‘ä»½ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ K å€¼ï¼Œä¸€èˆ¬å»ºè®® K å€¼å– 10ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½® CV=10ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸‹ score å’Œ cross_val_score ä¸¤ç§å‡½æ•°çš„æ­£ç¡®ç‡çš„è¯„ä¼°ç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"><span class="comment"># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡</span></span><br><span class="line">print(<span class="string">u'cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf'</span> % np.mean(cross_val_score(clf, train_features, train_labels, cv=<span class="number">10</span>)))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cross_val_scoreå‡†ç¡®ç‡ä¸º <span class="number">0.7835</span></span><br></pre></td></tr></table></figure><p><br>ä½ å¯ä»¥çœ‹åˆ°ï¼Œscore å‡½æ•°çš„å‡†ç¡®ç‡ä¸º 0.9820ï¼Œcross_val_score å‡†ç¡®ç‡ä¸º 0.7835ã€‚è¿™é‡Œå¾ˆæ˜æ˜¾ï¼Œ<strong>å¯¹äºä¸çŸ¥é“æµ‹è¯•é›†å®é™…ç»“æœçš„ï¼Œè¦ä½¿ç”¨ K æŠ˜äº¤å‰éªŒè¯æ‰èƒ½çŸ¥é“æ¨¡å‹çš„å‡†ç¡®ç‡ã€‚</strong><br><strong>æ¨¡å— 6ï¼šå†³ç­–æ ‘å¯è§†åŒ–</strong><br>sklearn çš„å†³ç­–æ ‘æ¨¡å‹å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Graphviz å¯è§†åŒ–å·¥å…·å¸®æˆ‘ä»¬æŠŠå†³ç­–æ ‘å‘ˆç°å‡ºæ¥ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397403010-430bb637-799a-49af-af7a-d5a1c9784b03.png#align=left&display=inline&height=598&originHeight=598&originWidth=1716&size=0&status=done&style=none&width=1716" alt><br>å®‰è£… Graphviz åº“éœ€è¦ä¸‹é¢çš„å‡ æ­¥ï¼š<br>å®‰è£… graphviz å·¥å…·ï¼Œè¿™é‡Œæ˜¯å®ƒçš„ä¸‹è½½åœ°å€ï¼›<a href="http://www.graphviz.org/download/" target="_blank" rel="external nofollow noopener noreferrer">http://www.graphviz.org/download/</a><br>å°† Graphviz æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ PATH ä¸­ï¼›<br>éœ€è¦ Graphviz åº“ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥ä½¿ç”¨ pip install graphviz è¿›è¡Œå®‰è£…ã€‚<br>è¿™æ ·ä½ å°±å¯ä»¥åœ¨ç¨‹åºé‡Œé¢ä½¿ç”¨ Graphviz å¯¹å†³ç­–æ ‘æ¨¡å‹è¿›è¡Œå‘ˆç°ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªå†³ç­–æ ‘å¯è§†åŒ–çš„ PDF æ–‡ä»¶ï¼Œå¯è§†åŒ–ç»“æœæ–‡ä»¶ Source.gv.pdf ä½ å¯ä»¥åœ¨ GitHub ä¸Šä¸‹è½½ï¼š<a href="https://github.com/cystanford/Titanic_Data" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/cystanford/Titanic_Data</a><br><strong><br></strong>å†³ç­–æ ‘æ¨¡å‹ä½¿ç”¨æŠ€å·§æ€»ç»“<strong><br>ä»Šå¤©æˆ‘ç”¨æ³°å¦å°¼å…‹ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹æ¡ˆä¾‹æŠŠå†³ç­–æ ‘æ¨¡å‹çš„æµç¨‹è·‘äº†ä¸€éã€‚åœ¨å®æˆ˜ä¸­ï¼Œä½ éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼šç‰¹å¾é€‰æ‹©æ˜¯åˆ†ç±»æ¨¡å‹å¥½åçš„å…³é”®ã€‚é€‰æ‹©ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Œä»¥åŠå¯¹åº”çš„ç‰¹å¾å€¼çŸ©é˜µï¼Œå†³å®šäº†åˆ†ç±»æ¨¡å‹çš„å¥½åã€‚<br></strong><br><strong>é€šå¸¸æƒ…å†µä¸‹ï¼Œç‰¹å¾å€¼ä¸éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ DictVectorizer ç±»è¿›è¡Œè½¬åŒ–</strong>ï¼›æ¨¡å‹å‡†ç¡®ç‡éœ€è¦è€ƒè™‘æ˜¯å¦æœ‰æµ‹è¯•é›†çš„å®é™…ç»“æœå¯ä»¥åšå¯¹æ¯”ï¼Œ<strong>å½“æµ‹è¯•é›†æ²¡æœ‰çœŸå®ç»“æœå¯ä»¥å¯¹æ¯”æ—¶ï¼Œéœ€è¦ä½¿ç”¨ K æŠ˜äº¤å‰éªŒè¯ cross_val_score</strong>ï¼›<br>Graphviz å¯è§†åŒ–å·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†å†³ç­–æ¨¡å‹å‘ˆç°å‡ºæ¥ï¼Œå¸®åŠ©ä½ æ›´å¥½ç†è§£å†³ç­–æ ‘çš„æ„å»ºã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585397784656-cb8448e4-2dd0-4d2b-a0dc-182c9759766e.png#align=left&display=inline&height=940&name=p6.png&originHeight=940&originWidth=2308&size=395883&status=done&style=none&width=2308" alt="p6.png"><br>æˆ‘ä¸Šé¢è®²äº†æ³°å¦å°¼å…‹ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹çš„å…­ä¸ªå…³é”®æ¨¡å—ï¼Œè¯·ä½ ç”¨ sklearn ä¸­çš„å†³ç­–æ ‘æ¨¡å‹ç‹¬ç«‹å®Œæˆè¿™ä¸ªé¡¹ç›®ï¼Œå¯¹æµ‹è¯•é›†ä¸­çš„ä¹˜å®¢æ˜¯å¦ç”Ÿå­˜è¿›è¡Œé¢„æµ‹ï¼Œå¹¶ç»™å‡ºæ¨¡å‹å‡†ç¡®ç‡è¯„ä¼°ã€‚æ•°æ®ä» GitHub ä¸Šä¸‹è½½å³å¯ã€‚<br>æœ€åç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ï¼Œæˆ‘åœ¨æ„é€ ç‰¹å¾å‘é‡æ—¶ä½¿ç”¨äº† DictVectorizer ç±»ï¼Œä½¿ç”¨ fit_transform å‡½æ•°å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç‰¹å¾å€¼çŸ©é˜µã€‚DictVectorizer ç±»åŒæ—¶ä¹Ÿæä¾› transform å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«?<br><strong>é¡¹ç›®å®Œæ•´ä»£ç </strong><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction <span class="keyword">import</span> DictVectorizer</span><br><span class="line"></span><br><span class="line">train_data = pd.read_csv(<span class="string">'train.csv'</span>)</span><br><span class="line">test_data = pd.read_csv(<span class="string">'test.csv'</span>)</span><br><span class="line"></span><br><span class="line">train_data[<span class="string">'Age'</span>].fillna(train_data[<span class="string">'Age'</span>].mean(), inplace=<span class="literal">True</span>)</span><br><span class="line">test_data[<span class="string">'Age'</span>].fillna(test_data[<span class="string">'Age'</span>].mean(), inplace=<span class="literal">True</span>)</span><br><span class="line">test_data[<span class="string">'Fare'</span>].fillna(test_data[<span class="string">'Fare'</span>].mean(), inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">å°†ç©ºå€¼ç”¨æ­¤åˆ—æœ€å¤šå€¼æ¥è¡¥é½</span></span><br><span class="line"><span class="string">index è·å–ç´¢å¼•å€¼ã€‚ [num] ä¸‹æ ‡è·å–è¿”å›å€¼ ï¼Œascending=True é™åºæ’åˆ—</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">train_data[<span class="string">'Embarked'</span>].fillna(train_data[<span class="string">'Embarked'</span>].value_counts().index[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line">test_data[<span class="string">'Embarked'</span>].fillna(test_data[<span class="string">'Embarked'</span>].value_counts().index[<span class="number">0</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">features = [<span class="string">'Pclass'</span>, <span class="string">'Sex'</span>, <span class="string">'Age'</span>, <span class="string">'SibSp'</span>, <span class="string">'Parch'</span>, <span class="string">'Fare'</span>, <span class="string">'Embarked'</span>]</span><br><span class="line"></span><br><span class="line">train_features = train_data[features]</span><br><span class="line">train_labels = train_data[<span class="string">'Survived'</span>]</span><br><span class="line"></span><br><span class="line">test_features = test_data[features]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dvec=DictVectorizer(sparse=<span class="literal">False</span>)</span><br><span class="line">train_features=dvec.fit_transform(train_features.to_dict(orient=<span class="string">'record'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„é€ ID3å†³ç­–æ ‘</span></span><br><span class="line">clf = DecisionTreeClassifier(criterion=<span class="string">'entropy'</span>)</span><br><span class="line"><span class="comment"># å†³ç­–æ ‘è®­ç»ƒ</span></span><br><span class="line">clf.fit(train_features, train_labels)</span><br><span class="line"></span><br><span class="line">test_features=dvec.transform(test_features.to_dict(orient=<span class="string">'record'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†³ç­–æ ‘é¢„æµ‹</span></span><br><span class="line"><span class="comment"># pred_labels = clf.predict(test_features)</span></span><br><span class="line"><span class="comment"># # å¾—åˆ°å†³ç­–æ ‘å‡†ç¡®ç‡</span></span><br><span class="line"><span class="comment"># acc_decision_tree = round(clf.score(train_features, train_labels), 6)</span></span><br><span class="line"><span class="comment"># print(u'scoreå‡†ç¡®ç‡ä¸º %.4lf' % acc_decision_tree)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"><span class="comment"># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ ç»Ÿè®¡å†³ç­–æ ‘å‡†ç¡®ç‡</span></span><br><span class="line">print(<span class="string">u'cross_val_scoreå‡†ç¡®ç‡ä¸º %.4lf'</span> % np.mean(cross_val_score(clf, train_features, train_labels, cv=<span class="number">10</span>)))</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Apr 04 2020 17:32:44 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;br&gt;åœ¨å‰é¢çš„ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™ä½ è®²äº†å†³ç­–æ ‘ç®—æ³•ã€‚å†³ç­–æ ‘ç®—æ³•æ˜¯ç»å¸¸ä½¿ç”¨çš„æ•°æ®æŒ–æ˜ç®—æ³•ï¼Œè¿™æ˜¯å› ä¸ºå†³ç­–æ ‘å°±åƒä¸€ä¸ªäººè„‘ä¸­çš„å†³ç­–æ¨¡å‹ä¸€æ ·ï¼Œå‘ˆç°å‡ºæ¥éå¸¸ç›´
      
    
    </summary>
    
    
    
      <category term="æ•°æ®åˆ†æ" scheme="cpeixin.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
</feed>
