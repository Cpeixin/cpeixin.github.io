<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¸ƒå…°ç‰¹ | ä¸å¿˜åˆå¿ƒ</title>
  
  <subtitle>äººå¤„åœ¨ä¸€ç§é»˜é»˜å¥‹æ–—çš„çŠ¶æ€ï¼Œç²¾ç¥å°±ä¼šä»çç¢ç”Ÿæ´»ä¸­å¾—åˆ°å‡å</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="cpeixin.cn/"/>
  <updated>2020-04-05T15:10:24.541Z</updated>
  <id>cpeixin.cn/</id>
  
  <author>
    <name>Brent</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>def neverGrowUp()</title>
    <link href="cpeixin.cn/2020/04/06/def-neverGrowUp/"/>
    <id>cpeixin.cn/2020/04/06/def-neverGrowUp/</id>
    <published>2020-04-05T16:00:00.000Z</published>
    <updated>2020-04-05T15:10:24.541Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">neverGrowUp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="title">while</span> <span class="title">true</span>:</span></span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br><span class="line">å¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒå¼€å¿ƒ</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>æŠ—ç–«è‹±é›„</title>
    <link href="cpeixin.cn/2020/04/04/%E6%8A%97%E7%96%AB%E8%8B%B1%E9%9B%84/"/>
    <id>cpeixin.cn/2020/04/04/%E6%8A%97%E7%96%AB%E8%8B%B1%E9%9B%84/</id>
    <published>2020-04-04T14:45:15.000Z</published>
    <updated>2020-04-05T14:46:33.308Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>è‡´æ•¬ç¼…æ€€æ¯ä¸€ä½æŠ—ç–«è‹±é›„<br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1586098032229-b4c6c795-bf87-4105-8f82-87a86e48a89a.jpeg#align=left&display=inline&height=1796&name=WechatIMG86.jpeg&originHeight=1796&originWidth=1072&size=175464&status=done&style=none&width=1072" alt="WechatIMG86.jpeg"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;è‡´æ•¬ç¼…æ€€æ¯ä¸€ä½æŠ—ç–«è‹±é›„&lt;br&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/jpeg/1072113
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>python Flask &amp; Ajax æ•°æ®ä¼ è¾“</title>
    <link href="cpeixin.cn/2020/03/11/python-Flask-Ajax-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/"/>
    <id>cpeixin.cn/2020/03/11/python-Flask-Ajax-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/</id>
    <published>2020-03-11T14:43:01.000Z</published>
    <updated>2020-04-04T17:13:00.080Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>å¸®æœ‹å‹å†™ä¸ªå°å·¥å…·ï¼Œæ²¡æƒ³åˆ°è¿˜è¦æå®šJSï¼Œå¤§å­¦æ¯•ä¸šåå°±æ²¡æœ‰å†™è¿‡JSï¼ŒçœŸçš„æ˜¯éš¾ä¸ºæˆ‘äº†ğŸ˜‚</p><p>å¿™æ´»ä¸‰ä¸ªå°æ—¶ï¼Œç»ˆäºæŠŠå‰ç«¯å’Œåç«¯æ‰“é€šäº†ï½ï½</p><p>å‰ç«¯demoï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‘é€æ•°æ®ï¼Œè¡¨å•æ–¹å¼ ï¼ˆæ³¨æ„ï¼šåç«¯æ¥æ”¶æ•°æ®å¯¹åº”ä»£ç ä¸åŒï¼‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"&#123;&#123; url_for('send_message') &#125;&#125;"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span> =<span class="string">"domain"</span> <span class="attr">rows</span>=<span class="string">"30"</span> <span class="attr">cols</span>=<span class="string">"100"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥éœ€è¦æŸ¥è¯¢çš„åŸŸå,å¦‚cq5999.com"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input id="submit" type="submit" value="å‘é€"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">id</span>=<span class="string">"btn-bq"</span> <span class="attr">data-toggle</span>=<span class="string">"modal"</span> <span class="attr">data-target</span>=<span class="string">"#myModal"</span>&gt;</span>æŸ¥è¯¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‘é€æ•°æ®ï¼Œinputæ–¹å¼ ï¼ˆæ³¨æ„ï¼šåç«¯æ¥æ”¶æ•°æ®å¯¹åº”ä»£ç ä¸åŒï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"send_content"</span>&gt;</span>å‘åå°å‘é€æ¶ˆæ¯ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"send_content"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"send_content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"send"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"å‘é€"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"recv_content"</span>&gt;</span>ä»åå°æ¥æ”¶æ¶ˆæ¯ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"recv_content"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"recv_content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- inputæ–¹å¼ å¯¹åº”çš„jsä»£ç ï¼Œå¦‚ç”¨è¡¨å•æ–¹å¼è¯·æ³¨é‡Šæ‰ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‘é€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#send"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> message = $(<span class="string">"#send_content"</span>).val()</span></span><br><span class="line">        alert(message)</span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">            url:<span class="string">"/send_message"</span>,</span></span><br><span class="line"><span class="actionscript">            type:<span class="string">"POST"</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line">                message:message</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            dataType: <span class="string">'json'</span>,</span></span><br><span class="line"><span class="actionscript">            success:<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¥æ”¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#send"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $.getJSON(<span class="string">"/change_to_json"</span>,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#recv_content"</span>).val(data.message) <span class="comment">//å°†åç«¯æ•°æ®æ˜¾ç¤ºåœ¨å‰ç«¯</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"ä¼ åˆ°å‰ç«¯çš„æ•°æ®çš„ç±»å‹ï¼š"</span> + <span class="keyword">typeof</span> (data.message))</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#send_content"</span>).val(<span class="string">""</span>)<span class="comment">//å‘é€çš„è¾“å…¥æ¡†æ¸…ç©º</span></span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åç«¯demo:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request, jsonify</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">"index_v6.html"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/send_message', methods=['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_message</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> message_get</span><br><span class="line">    message_get = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    message_get = request.form[<span class="string">"domain"</span>].split(<span class="string">'\n'</span>)</span><br><span class="line">    <span class="comment"># message_get = request.form['message'] #inputæäº¤</span></span><br><span class="line">    print(<span class="string">"æ”¶åˆ°å‰ç«¯å‘è¿‡æ¥çš„ä¿¡æ¯ï¼š%s"</span> % message_get)</span><br><span class="line">    print(<span class="string">"æ”¶åˆ°æ•°æ®çš„ç±»å‹ä¸ºï¼š"</span> + str(type(message_get)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"æ”¶åˆ°æ¶ˆæ¯"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/change_to_json', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_to_json</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">global</span> message_get</span><br><span class="line">    message_json = &#123;</span><br><span class="line">        <span class="string">"message"</span>: message_get</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(message_json)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">80</span>,debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;å¸®æœ‹å‹å†™ä¸ªå°å·¥å…·ï¼Œæ²¡æƒ³åˆ°è¿˜è¦æå®šJSï¼Œå¤§å­¦æ¯•ä¸šåå°±æ²¡æœ‰å†™è¿‡JSï¼ŒçœŸçš„æ˜¯éš¾ä¸ºæˆ‘äº†ğŸ˜‚&lt;/p&gt;&lt;p&gt;å¿™æ´»ä¸‰ä¸ªå°æ—¶ï¼Œç»ˆäºæŠŠå‰ç«¯å’Œåç«¯æ‰“é€šäº†ï½ï½&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="python" scheme="cpeixin.cn/categories/python/"/>
    
    
      <category term="flask" scheme="cpeixin.cn/tags/flask/"/>
    
  </entry>
  
  <entry>
    <title>Python Flaskæ¥å£è®¾è®¡-ç¤ºä¾‹</title>
    <link href="cpeixin.cn/2020/03/10/Python-Flask%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1-%E7%A4%BA%E4%BE%8B/"/>
    <id>cpeixin.cn/2020/03/10/Python-Flask%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1-%E7%A4%BA%E4%BE%8B/</id>
    <published>2020-03-10T15:08:35.000Z</published>
    <updated>2020-04-04T17:12:52.356Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p><a name="LHF1q"></a></p><h3 id="Get-è¯·æ±‚"><a href="#Get-è¯·æ±‚" class="headerlink" title="Get è¯·æ±‚"></a>Get è¯·æ±‚</h3><p><strong><strong>å¼€å‘ä¸€ä¸ªåªæ¥å—getæ–¹æ³•çš„æ¥å£ï¼Œæ¥å—å‚æ•°ä¸ºnameå’Œageï¼Œå¹¶è¿”å›ç›¸åº”å†…å®¹ã€‚</strong></strong><br><strong><br>**</strong>æ–¹æ³• 1:****</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/test_1.0", methods=["GET"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># é»˜è®¤è¿”å›å†…å®¹</span></span><br><span class="line">  return_dict = &#123;<span class="string">'return_code'</span>: <span class="string">'200'</span>, <span class="string">'return_info'</span>: <span class="string">'å¤„ç†æˆåŠŸ'</span>, <span class="string">'result'</span>: <span class="literal">False</span>&#125;</span><br><span class="line">  <span class="comment"># åˆ¤æ–­å…¥å‚æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> request.args <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    return_dict[<span class="string">'return_code'</span>] = <span class="string">'5004'</span></span><br><span class="line">    return_dict[<span class="string">'return_info'</span>] = <span class="string">'è¯·æ±‚å‚æ•°ä¸ºç©º'</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># è·å–ä¼ å…¥çš„paramså‚æ•°</span></span><br><span class="line">  get_data = request.args.to_dict()</span><br><span class="line">  name = get_data.get(<span class="string">'name'</span>)</span><br><span class="line">  age = get_data.get(<span class="string">'age'</span>)</span><br><span class="line">  <span class="comment"># å¯¹å‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">  return_dict[<span class="string">'result'</span>] = tt(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠŸèƒ½å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tt</span><span class="params">(name, age)</span>:</span></span><br><span class="line">  result_str = <span class="string">"%sä»Šå¹´%så²"</span> % (name, age)</span><br><span class="line">  <span class="keyword">return</span> result_str</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">80</span>)</span><br></pre></td></tr></table></figure><p>æ­¤ç§æ–¹å¼å¯¹åº”çš„requestè¯·æ±‚æ–¹å¼ï¼š</p><ol><li>æ‹¼æ¥è¯·æ±‚é“¾æ¥, ç›´æ¥è¯·æ±‚ï¼š<a href="http://0.0.0.0/test_1.0?name=ccc&age=18" target="_blank" rel="external nofollow noopener noreferrer">http://0.0.0.0/test_1.0?name=ccc&amp;age=18</a></li><li>request è¯·æ±‚ä¸­å¸¦æœ‰å‚æ•°ï¼Œå¦‚ä¸‹å›¾</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583826674613-bc99538a-988e-4386-b8e6-9eb9fce1862f.png#align=left&display=inline&height=610&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%883.47.43.png&originHeight=610&originWidth=1424&size=98593&status=done&style=none&width=1424" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ3.47.43.png"></p><p>æ–¹æ³• 2:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/api/banWordSingle/&lt;string:word&gt;', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">banWordSingleStart</span><span class="params">(word)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> getWordStatus(word)</span><br></pre></td></tr></table></figure><p>æ­¤æ–¹æ³• ä¸ æ–¹æ³• 1 ä¸­çš„æ‹¼æ¥é“¾æ¥ç›¸ä¼¼ï¼Œä½†æ˜¯ä¸ç”¨è¾“å…¥å…³é”®å­—</p><p>è¯·æ±‚é“¾æ¥ï¼š<a href="http://0.0.0.0/test_1.0?name=ccc&age=18" target="_blank" rel="external nofollow noopener noreferrer">http://0.0.0.0</a>/api/banWordSingle/è¾“å…¥è¯</p><p><a name="vJdOc"></a></p><h3 id="Post-è¯·æ±‚"><a href="#Post-è¯·æ±‚" class="headerlink" title="Post è¯·æ±‚"></a>Post è¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/test_1.0", methods=["POST"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># é»˜è®¤è¿”å›å†…å®¹</span></span><br><span class="line">  return_dict = &#123;<span class="string">'return_code'</span>: <span class="string">'200'</span>, <span class="string">'return_info'</span>: <span class="string">'å¤„ç†æˆåŠŸ'</span>, <span class="string">'result'</span>: <span class="literal">False</span>&#125;</span><br><span class="line">  <span class="comment"># åˆ¤æ–­å…¥å‚æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> request.args <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    return_dict[<span class="string">'return_code'</span>] = <span class="string">'5004'</span></span><br><span class="line">    return_dict[<span class="string">'return_info'</span>] = <span class="string">'è¯·æ±‚å‚æ•°ä¸ºç©º'</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># è·å–ä¼ å…¥çš„paramså‚æ•°</span></span><br><span class="line">  get_data = request.args.to_dict()</span><br><span class="line">  name = get_data.get(<span class="string">'name'</span>)</span><br><span class="line">  age = get_data.get(<span class="string">'age'</span>)</span><br><span class="line">  <span class="comment"># å¯¹å‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">  return_dict[<span class="string">'result'</span>] = tt(name, age)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> json.dumps(return_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠŸèƒ½å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tt</span><span class="params">(name, age)</span>:</span></span><br><span class="line">  result_str = <span class="string">"%sä»Šå¹´%så²"</span> % (name, age)</span><br><span class="line">  <span class="keyword">return</span> result_str</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><p>è¯·æ±‚æ–¹å¼ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583831085097-3a858ae4-259d-408d-a162-6a4ed8c5e291.png#align=left&display=inline&height=692&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-10%20%E4%B8%8B%E5%8D%885.00.28.png&originHeight=692&originWidth=1438&size=99272&status=done&style=none&width=1438" alt="å±å¹•å¿«ç…§ 2020-03-10 ä¸‹åˆ5.00.28.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;LHF1q&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3 id=&quot;Get-è¯·æ±‚&quot;&gt;&lt;a href=&quot;#Get-è¯·æ±‚&quot; class=&quot;headerl
      
    
    </summary>
    
    
      <category term="python" scheme="cpeixin.cn/categories/python/"/>
    
    
      <category term="flask" scheme="cpeixin.cn/tags/flask/"/>
    
  </entry>
  
  <entry>
    <title>IDEA install TabNine</title>
    <link href="cpeixin.cn/2020/01/22/IDEA-install-TabNine/"/>
    <id>cpeixin.cn/2020/01/22/IDEA-install-TabNine/</id>
    <published>2020-01-22T02:26:15.000Z</published>
    <updated>2020-04-04T11:06:48.223Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>TabNineæ˜¯æˆ‘ç›®å‰é‡åˆ°è¿‡æœ€å¥½çš„æ™ºèƒ½è¡¥å…¨å·¥å…·</p><p>TabNineåŸºäºGPT-2çš„æ’ä»¶</p><p>å®‰è£…<br>IDEAç¼–è¯‘å™¨ï¼Œæ‰¾åˆ°plugins</p><p>Windows pycharmï¼šFile&gt;settings&gt;plugins;<br>Mac pycharmï¼šperformence&gt;plugins&gt;marketplace or plugins&gt;Install JetBrains Plugins</p><p>æŸ¥æ‰¾ TabNine, ç‚¹å‡» install, éšå restart</p><p>é‡å¯åï¼šHelp&gt;Edit Custom Propertiesâ€¦&gt;Create;</p><p>åœ¨è·³å‡ºæ¥çš„idea.propertiesä¸­è¾“å…¥ï¼ˆæ³¨ï¼šè‹±æ–‡å­—ç¬¦ï¼‰ TabNine::config</p><p>éšå³ä¼šè‡ªåŠ¨å¼¹å‡ºTabNineæ¿€æ´»é¡µé¢ï¼›</p><p>æ¿€æ´»<br>ç‚¹å‡»Activation Keyä¸‹é¢çš„hereï¼›</p><p>è¾“å…¥ä½ çš„é‚®ç®±å·ï¼›</p><p>å¤åˆ¶ç²˜è´´é‚®ä»¶é‡Œé¢çš„API Keyåˆ°Activation Keyä¸‹é¢ï¼›ï¼ˆå¾—åˆ°çš„ key å¯ä»¥åœ¨å„ç§ç¼–è¯‘å™¨ä¸­å…±ç”¨ï¼‰</p><p>ç­‰å¾…è‡ªåŠ¨å®‰è£…ï¼Œè§‚å¯Ÿé¡µé¢ï¼ˆæœ€ä¸‹é¢æœ‰logå¯ä»¥çœ‹å½“å‰è¿›åº¦ï¼‰ï¼›</p><p>æ¿€æ´»å®ŒæˆåTabNine Cloudä¸ºEnabledçŠ¶æ€ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å®‰è£…è¿›åº¦å®Œæˆååˆ·æ–°é¡µé¢æ‰‹åŠ¨é€‰æ‹©Enabledï¼›</p><p>ç¡®è®¤æ¿€æ´»å®Œæˆï¼Œé‡å¯pycharmå³å¯ï¼›</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;TabNineæ˜¯æˆ‘ç›®å‰é‡åˆ°è¿‡æœ€å¥½çš„æ™ºèƒ½è¡¥å…¨å·¥å…·&lt;/p&gt;&lt;p&gt;TabNineåŸºäºGPT-2çš„æ’ä»¶&lt;/p&gt;&lt;p&gt;å®‰è£…&lt;br&gt;IDEAç¼–è¯‘å™¨ï¼Œæ‰¾åˆ°pl
      
    
    </summary>
    
    
      <category term="å¼€å‘å·¥å…·" scheme="cpeixin.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="IDEA" scheme="cpeixin.cn/tags/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>GPT-2 Chinese è‡ªåŠ¨ç”Ÿæˆæ–‡ç«  - ç¯å¢ƒå‡†å¤‡</title>
    <link href="cpeixin.cn/2020/01/01/GPT-2-Chinese-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E6%96%87%E7%AB%A0-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/"/>
    <id>cpeixin.cn/2020/01/01/GPT-2-Chinese-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E6%96%87%E7%AB%A0-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/</id>
    <published>2020-01-01T14:28:43.000Z</published>
    <updated>2020-04-05T14:30:42.875Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p><a name="R14AA"></a></p><h2 id="Google-Colab"><a href="#Google-Colab" class="headerlink" title="Google Colab"></a>Google Colab</h2><p>Colaboratory æ˜¯ä¸€ä¸ª Google ç ”ç©¶é¡¹ç›®ï¼Œæ—¨åœ¨å¸®åŠ©ä¼ æ’­æœºå™¨å­¦ä¹ åŸ¹è®­å’Œç ”ç©¶æˆæœã€‚å®ƒæ˜¯ä¸€ä¸ª Jupyter ç¬”è®°æœ¬ç¯å¢ƒï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è®¾ç½®å°±å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”å®Œå…¨åœ¨äº‘ç«¯è¿è¡Œã€‚<br>Colaboratory ç¬”è®°æœ¬å­˜å‚¨åœ¨ Google äº‘ç«¯ç¡¬ç›˜ä¸­ï¼Œå¹¶ä¸”å¯ä»¥å…±äº«ï¼Œå°±å¦‚åŒæ‚¨ä½¿ç”¨ Google æ–‡æ¡£æˆ–è¡¨æ ¼ä¸€æ ·ã€‚Colaboratory å¯å…è´¹ä½¿ç”¨ã€‚<br>åˆ©ç”¨Colaboratory ï¼Œå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨Keras,TensorFlow,PyTorchç­‰æ¡†æ¶è¿›è¡Œæ·±åº¦å­¦ä¹ åº”ç”¨çš„å¼€å‘ã€‚</p><p>ç¼ºç‚¹æ˜¯æœ€å¤šåªèƒ½è¿è¡Œ12å°æ—¶ï¼Œæ—¶é—´ä¸€åˆ°å°±ä¼šæ¸…ç©ºVMä¸Šæ‰€æœ‰æ•°æ®ã€‚è¿™åŒ…æ‹¬æˆ‘ä»¬å®‰è£…çš„è½¯ä»¶ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ä¸‹è½½çš„æ•°æ®ï¼Œå­˜æ”¾çš„è®¡ç®—ç»“æœï¼Œ æ‰€ä»¥æœ€å¥½ä¸è¦ç›´æ¥åœ¨colabä¸Šè¿›è¡Œæ–‡ä»¶çš„ä¿®æ”¹ï¼Œä»¥é˜²ä¿å­˜ä¸åŠæ—¶è€Œé€ æˆä¸¢å¤±</p><p><strong>å…è´¹ï¼ å…è´¹ï¼å…è´¹ï¼</strong><br>**<br><a name="dpofS"></a></p><h3 id="è°·æ­Œäº‘ç›˜"><a href="#è°·æ­Œäº‘ç›˜" class="headerlink" title="è°·æ­Œäº‘ç›˜"></a>è°·æ­Œäº‘ç›˜</h3><p>å½“ç™»å½•è´¦å·è¿›å…¥<a href="https://drive.google.com/drive/my-drive" target="_blank" rel="external nofollow noopener noreferrer">è°·æ­Œäº‘ç›˜</a>æ—¶ï¼Œç³»ç»Ÿä¼šç»™äºˆ15Gå…è´¹ç©ºé—´å¤§å°ã€‚ç”±äºColabéœ€è¦ä¾é è°·æ­Œäº‘ç›˜ï¼Œæ•…éœ€è¦åœ¨äº‘ç›˜ä¸Šæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¥å­˜æ”¾ä½ çš„ä»£ç æˆ–è€…æ•°æ®ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583723531238-28bbbd81-69e8-472d-b048-1ac67166a201.png#align=left&display=inline&height=612&name=image.png&originHeight=612&originWidth=1268&size=104029&status=done&style=none&width=1268" alt="image.png"></p><p><a name="EHdj9"></a></p><h3 id="å¼•å…¥Colab"><a href="#å¼•å…¥Colab" class="headerlink" title="å¼•å…¥Colab"></a>å¼•å…¥Colab</h3><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583723706098-527d9fff-e46e-4dd1-b92a-0640b0d61555.png#align=left&display=inline&height=674&name=image.png&originHeight=674&originWidth=1125&size=104056&status=done&style=none&width=1125" alt="image.png"></p><p><a name="kykCO"></a></p><h3 id="è®¾ç½®GPUç¯å¢ƒ"><a href="#è®¾ç½®GPUç¯å¢ƒ" class="headerlink" title="è®¾ç½®GPUç¯å¢ƒ"></a>è®¾ç½®GPUç¯å¢ƒ</h3><p>æ‰“å¼€colabåï¼Œæˆ‘ä»¬è¦è®¾ç½®è¿è¡Œç¯å¢ƒã€‚â€ä¿®æ”¹â€â€”&gt;â€ç¬”è®°æœ¬è®¾ç½®â€</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583723911273-f07371f9-e982-44b2-af34-b3781f294879.png#align=left&display=inline&height=739&name=image.png&originHeight=739&originWidth=1191&size=94677&status=done&style=none&width=1191" alt="image.png"></p><p><a name="f4U2h"></a></p><h3 id="æŒ‚è½½å’Œåˆ‡æ¢å·¥ä½œç›®å½•"><a href="#æŒ‚è½½å’Œåˆ‡æ¢å·¥ä½œç›®å½•" class="headerlink" title="æŒ‚è½½å’Œåˆ‡æ¢å·¥ä½œç›®å½•"></a>æŒ‚è½½å’Œåˆ‡æ¢å·¥ä½œç›®å½•</h3><p>from google.colab import drive<br>drive.mount(â€˜/content/driveâ€™)<br>import os<br>os.chdir(â€˜/content/drive/My Drive/code/GPT2-Chineseâ€™)</p><p>å…¶ä¸­ï¼š My Drive ä»£è¡¨ä½ çš„googleç½‘ç›˜æ ¹ç›®å½•</p><pre><code>code/GPT2-Chinese ä»£è¡¨ç½‘ç›˜ä¸­ä½ çš„ç¨‹åºæ–‡ä»¶ç›®å½•</code></pre><p><a name="MyewB"></a></p><h3 id="åœ¨Colabä¸­è¿è¡Œä»»åŠ¡"><a href="#åœ¨Colabä¸­è¿è¡Œä»»åŠ¡" class="headerlink" title="åœ¨Colabä¸­è¿è¡Œä»»åŠ¡"></a>åœ¨Colabä¸­è¿è¡Œä»»åŠ¡</h3><p>ä¸‹å›¾æ˜¯æˆ‘google driveä¸­çš„æ–‡ä»¶ç»“æ„ï¼Œ åœ¨é¡¹ç›®æ–‡ä»¶ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª.ipynbæ–‡ä»¶ï¼Œæ¥æ‰§è¡Œä½ çš„æ‰€æœ‰æ“ä½œã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583724861033-5a15ce65-bdfa-4a01-bc58-b821c026353a.png#align=left&display=inline&height=758&name=image.png&originHeight=758&originWidth=1832&size=234841&status=done&style=none&width=1832" alt="image.png"></p><p><a name="GZDbL"></a></p><h3 id="ipynbæ–‡ä»¶å†…å®¹"><a href="#ipynbæ–‡ä»¶å†…å®¹" class="headerlink" title=".ipynbæ–‡ä»¶å†…å®¹"></a>.ipynbæ–‡ä»¶å†…å®¹</h3><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1583725009190-fa5ecec2-f7d1-4b4f-b3ed-da7655dad2f9.png#align=left&display=inline&height=586&name=image.png&originHeight=586&originWidth=1636&size=54530&status=done&style=none&width=1636" alt="image.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;R14AA&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2 id=&quot;Google-Colab&quot;&gt;&lt;a href=&quot;#Google-Colab&quot; cl
      
    
    </summary>
    
    
      <category term="NLP" scheme="cpeixin.cn/categories/NLP/"/>
    
    
      <category term="GPT-2" scheme="cpeixin.cn/tags/GPT-2/"/>
    
  </entry>
  
  <entry>
    <title>æ¶æ„æ€æƒ³</title>
    <link href="cpeixin.cn/2019/12/20/%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3/"/>
    <id>cpeixin.cn/2019/12/20/%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3/</id>
    <published>2019-12-20T02:26:15.000Z</published>
    <updated>2020-04-04T11:23:45.206Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p><a name="-2"></a></p><h2><a href="#" class="headerlink"></a></h2><p>å…³äºä»€ä¹ˆæ˜¯æ¶æ„ï¼Œä¸€ç§æ¯”è¾ƒé€šä¿—çš„è¯´æ³•æ˜¯ â€œæœ€é«˜å±‚æ¬¡çš„è§„åˆ’ï¼Œéš¾ä»¥æ”¹å˜çš„å†³å®šâ€ï¼Œè¿™äº›è§„åˆ’å’Œå†³å®šå¥ å®šäº†äº‹ç‰©æœªæ¥å‘å±•çš„æ–¹å‘å’Œæœ€ç»ˆçš„è“å›¾ã€‚<br><br><br>ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œäººç”Ÿè§„åˆ’ä¹Ÿæ˜¯ä¸€ç§æ¶æ„ã€‚é€‰ä»€ä¹ˆå­¦æ ¡ã€å­¦ä»€ä¹ˆä¸“ä¸šã€è¿›ä»€ä¹ˆå…¬å¸ã€æ‰¾ä»€ä¹ˆå¯¹è±¡ï¼Œè¿‡ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ï¼Œéƒ½æ˜¯è‡ªå·±äººç”Ÿçš„æ¶æ„ã€‚<br><br><br>å…·ä½“åˆ°è½¯ä»¶æ¶æ„ï¼Œç»´åŸºç™¾ç§‘æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šâ€œæœ‰å…³è½¯ä»¶æ•´ä½“ç»“æ„ä¸ç»„ä»¶çš„æŠ½è±¡æè¿°ï¼Œç”¨äºæŒ‡å¯¼å¤§å‹è½¯ä»¶ç³»ç»Ÿå„ä¸ªæ–¹é¢çš„è®¾è®¡â€ã€‚ç³»ç»Ÿçš„å„ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†åŠå…¶å…³ç³»æ„æˆäº†ç³»ç»Ÿçš„æ¶æ„ï¼Œè¿™äº›ç»„æˆéƒ¨åˆ†å¯ä»¥æ˜¯å…·ä½“çš„åŠŸèƒ½æ¨¡å—ï¼Œä¹Ÿå¯ä»¥æ˜¯éåŠŸèƒ½çš„è®¾è®¡ä¸å†³ç­–ï¼Œä»–ä»¬ç›¸äº’å…³ç³»ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…±åŒæ„æˆäº†è½¯ä»¶ç³»ç»Ÿçš„æ¶æ„ã€‚<br><br><br>æ¶æ„å…¶å®å°±æ˜¯æŠŠå¤æ‚çš„é—®é¢˜æŠ½è±¡åŒ–ã€ç®€å•åŒ–ï¼Œå¯èƒ½ä½ ä¼šè§‰å¾—â€œè¯´èµ·æ¥å®¹æ˜“ä½†åšèµ·æ¥éš¾â€ï¼Œå¦‚ä½•èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚å¯ä»¥å¤šè§‚å¯Ÿï¼Œæ ¹æ®ç‰©è´¨å†³å®šæ„è¯†ï¼Œå€ŸåŠ©ç”Ÿæ´»çœŸå®åœºæ™¯ï¼ˆç”¨æˆ·æ•…äº‹ï¼Œè¦å¾ˆå¤šæ•…äº‹ï¼‰æ¥è¿˜åŸè¿™ä¸€ç³»åˆ—é—®é¢˜ï¼ŒæŠ“ä½å¹¶æå–æ ¸å¿ƒç‰¹å¾ã€‚<br><a name="-3"></a></p><h4 id="æ¶æ„æ€æƒ³"><a href="#æ¶æ„æ€æƒ³" class="headerlink" title="æ¶æ„æ€æƒ³"></a>æ¶æ„æ€æƒ³</h4><p>CPUè¿ç®—é€Ÿåº¦&gt;&gt;&gt;&gt;&gt;å†…å­˜çš„è¯»å†™é€Ÿåº¦&gt;&gt;&gt;&gt;ç£ç›˜è¯»å†™é€Ÿåº¦</p><ul><li><p>æ»¡è¶³ä¸šåŠ¡å‘å±•éœ€æ±‚æ˜¯æœ€é«˜å‡†åˆ™</p></li><li><p>ä¸šåŠ¡å»ºæ¨¡ï¼ŒæŠ½è±¡å’Œæšä¸¾æ˜¯ä¸¤ç§æ–¹å¼ï¼Œéœ€è¦å¹³è¡¡ï¼Œä¸èƒ½èµ°æç«¯</p></li><li><p>æ¨¡å‹è¦èƒ½æ›´çœŸå®çš„ååº”äº‹ç‰©çš„æœ¬è´¨ï¼Œä¸æ˜¯åè¯æ¦‚å¿µçš„å †ç Œï¼Œä¸èƒ½è¿‡åº¦è®¾è®¡</p></li><li><p>åŸºç¡€æ¶æ„æœ€å…³é”®çš„æ˜¯åˆ†ç¦»ä¸åŒä¸šåŠ¡é¢†åŸŸã€ä¸åŒæŠ€æœ¯é¢†åŸŸï¼Œè®©æ•´ä¸ªç³»ç»Ÿå…·æœ‰æŒç»­ä¼˜åŒ–çš„èƒ½åŠ›ã€‚</p></li><li><p>åˆ†ç¦»åŸºç¡€æœåŠ¡ã€ä¸šåŠ¡è§„åˆ™ã€ä¸šåŠ¡æµç¨‹ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å¤–åŒ–ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æµç¨‹</p></li><li><p>åˆ†ç¦»ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶ï¼Œé«˜ç±»èšï¼Œä½è€¦åˆ - ä¸šåŠ¡ä¿¡æ¯çš„æ‰§è¡Œå¯ä»¥åˆ†æ•£ï¼Œä½†ä¸šåŠ¡ä¿¡æ¯çš„ç®¡ç†è¦å°½é‡é›†ä¸­</p></li><li><p>ä¸è¦è®©è½¯ä»¶çš„é€»è¾‘æ¶æ„ä¸æœ€åç‰©ç†éƒ¨ç½²ç»‘æ­» - é€‰æ‹©åˆé€‚çš„æŠ€æœ¯è€Œä¸æ˜¯é«˜æ·±çš„æŠ€æœ¯ï¼Œéšç€ä¸šåŠ¡çš„å‘å±•è°ƒæ•´ä½¿ç”¨çš„æŠ€æœ¯</p></li><li><p>å¥½çš„ç³»ç»Ÿæ¶æ„éœ€è¦åˆé€‚çš„ç»„ç»‡æ¶æ„å»ä¿éšœ - å›¢é˜Ÿæˆå‘˜æ€æƒ³çš„è½¬å˜ï¼Œæ¼«é•¿è€Œè‰°éš¾</p></li><li><p>ä¸šåŠ¡æ¶æ„ã€ç³»ç»Ÿæ¶æ„ã€æ•°æ®æ¨¡å‹<br><a name="-4"></a></p><h4 id="é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ"><a href="#é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ" class="headerlink" title="é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ"></a>é¢å¯¹ä¸€å—æ–°ä¸šåŠ¡ï¼Œå¦‚ä½•ç³»ç»Ÿæ¶æ„ï¼Ÿ</h4></li><li><p>ä¸šåŠ¡åˆ†æï¼šè¾“å‡ºä¸šåŠ¡æ¶æ„å›¾ï¼Œè¿™ä¸ªç³»ç»Ÿé‡Œæœ‰å¤šå°‘ä¸ªä¸šåŠ¡æ¨¡å—ï¼Œä»å‰å°ç”¨æˆ·åˆ°åº•å±‚ä¸€å…±æœ‰å¤šå°‘å±‚ã€‚</p></li><li><p>ç³»ç»Ÿåˆ’åˆ†ï¼šæ ¹æ®ä¸šåŠ¡æ¶æ„å›¾è¾“å‡ºç³»ç»Ÿæ¶æ„å›¾ï¼Œéœ€è¦æ€è€ƒçš„æ˜¯è¿™å—ä¸šåŠ¡åˆ’åˆ†æˆå¤šå°‘ä¸ªç³»ç»Ÿï¼Œå¯èƒ½ä¸€ä¸ªç³»ç»Ÿèƒ½æ”¯æŒå¤šä¸ªä¸šåŠ¡ã€‚åŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ä¸ªç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªç³»ç»Ÿï¼ŸåˆåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸¤ä¸ªç³»ç»Ÿåˆå¹¶æˆä¸€ä¸ªç³»ç»Ÿï¼Ÿ</p></li><li><p>ç³»ç»Ÿåˆ†å±‚ï¼šç³»ç»Ÿæ˜¯å‡ å±‚æ¶æ„ï¼ŒåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ä¸ªç³»ç»Ÿè¿›è¡Œåˆ†å±‚ï¼Œåˆ†æˆå¤šå°‘å±‚ï¼Ÿ</p></li><li><p>æ¨¡å—åŒ–ï¼šç³»ç»Ÿé‡Œæœ‰å¤šå°‘ä¸ªæ¨¡å—ï¼Œå“ªäº›éœ€è¦æ¨¡å—åŒ–ï¼ŸåŸºäºä»€ä¹ˆåŸåˆ™å°†ä¸€ç±»ä»£ç å˜æˆä¸€ä¸ªæ¨¡å—ã€‚<br><a name="-5"></a></p><h4 id="å¦‚ä½•æ¨¡å—åŒ–"><a href="#å¦‚ä½•æ¨¡å—åŒ–" class="headerlink" title="å¦‚ä½•æ¨¡å—åŒ–"></a>å¦‚ä½•æ¨¡å—åŒ–</h4></li><li><p>åŸºäºæ°´å¹³åˆ‡åˆ†ã€‚æŠŠä¸€ä¸ªç³»ç»ŸæŒ‰ç…§ä¸šåŠ¡ç±»å‹è¿›è¡Œæ°´å¹³åˆ‡åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¯”å¦‚æƒé™ç®¡ç†æ¨¡å—ï¼Œç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œå„ç§ä¸šåŠ¡æ¨¡å—ç­‰ã€‚</p></li><li><p>åŸºäºå‚ç›´åˆ‡åˆ†ã€‚æŠŠä¸€ä¸ªç³»ç»ŸæŒ‰ç…§ç³»ç»Ÿå±‚æ¬¡è¿›è¡Œå‚ç›´åˆ‡åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œå¦‚DAOå±‚ï¼ŒSERVICEå±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚ã€‚</p></li><li><p>åŸºäºå•ä¸€èŒè´£ã€‚å°†ä»£ç æŒ‰ç…§èŒè´£æŠ½è±¡å‡ºæ¥å½¢æˆä¸€ä¸ªä¸€ä¸ªçš„æ¨¡å—ã€‚å°†ç³»ç»Ÿä¸­åŒä¸€èŒè´£çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªæ¨¡å—é‡Œã€‚æ¯”å¦‚æˆ‘ä»¬å¼€å‘çš„ç³»ç»Ÿè¦å¯¹æ¥å¤šä¸ªæ¸ é“çš„æ•°æ®ï¼Œæ¯ä¸ªæ¸ é“çš„å¯¹æ¥æ–¹å¼å’Œæ•°æ®è§£ææ–¹å¼ä¸ä¸€æ ·ï¼Œä¸ºé¿å…ä¸åŒæ¸ é“ä»£ç çš„ç›¸äº’å½±å“ï¼Œæˆ‘ä»¬æŠŠå„ä¸ªæ¸ é“çš„ä»£ç æ”¾åœ¨å„è‡ªçš„æ¨¡å—é‡Œã€‚</p></li><li><p>åŸºäºæ˜“å˜å’Œä¸æ˜“å˜ã€‚å°†ä¸æ˜“å˜çš„ä»£ç æŠ½è±¡åˆ°ä¸€ä¸ªæ¨¡å—é‡Œï¼Œæ¯”å¦‚ç³»ç»Ÿçš„æ¯”è¾ƒé€šç”¨çš„åŠŸèƒ½ã€‚å°†æ˜“å˜çš„ä»£ç æ”¾åœ¨å¦å¤–ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—é‡Œï¼Œæ¯”å¦‚ä¸šåŠ¡é€»è¾‘ã€‚å› ä¸ºæ˜“å˜çš„ä»£ç ç»å¸¸ä¿®æ”¹ï¼Œä¼šå¾ˆä¸ç¨³å®šï¼Œåˆ†å¼€ä¹‹åæ˜“å˜ä»£ç åœ¨ä¿®æ”¹æ—¶å€™ï¼Œä¸ä¼šå°†BUGä¼ æŸ“ç»™ä¸å˜çš„ä»£ç ã€‚<br><a name="-6"></a></p><h4 id="æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§"><a href="#æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§" class="headerlink" title="æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§"></a>æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§</h4></li><li><p>æµæ§</p></li></ul><p>åŒ11æœŸé—´ï¼Œå¯¹äºä¸€äº›é‡è¦çš„æ¥å£ï¼ˆæ¯”å¦‚å¸å·çš„æŸ¥è¯¢æ¥å£ï¼Œåº—é“ºé¦–é¡µï¼‰åšæµé‡æ§åˆ¶ï¼Œè¶…è¿‡é˜ˆå€¼ç›´æ¥è¿”å›å¤±è´¥ã€‚<br>å¦å¤–å¯¹äºä¸€äº›ä¸é‡è¦çš„ä¸šåŠ¡ä¹Ÿå¯ä»¥è€ƒè™‘é‡‡ç”¨é™çº§æ–¹æ¡ˆï¼Œå¤§ä¿ƒâ€”&gt;é‚®ä»¶ç³»ç»Ÿã€‚æ ¹æ®28åŸåˆ™ï¼Œæå‰å°†å¤§å–å®¶çº¦1Wå·¦å³åœ¨ç¼“å­˜ä¸­é¢„çƒ­ï¼Œå¹¶è®¾ç½®èµ·æ­¢æ—¶é—´ï¼Œæ´»åŠ¨æœŸé—´å†…è¿™éƒ¨åˆ†å¤§å–å®¶ä¸å‘äº¤æ˜“é‚®ä»¶æé†’ï¼Œä»¥å‡è½»SAé‚®ä»¶æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><ul><li>å®¹ç¾</li></ul><p>æœ€å¤§ç¨‹åº¦ä¿è¯ä¸»é“¾è·¯çš„å¯ç”¨æ€§ï¼Œæ¯”å¦‚æˆ‘è´Ÿè´£äº¤æ˜“çš„ä¸‹å•ï¼Œè€Œä¸‹å•è¿‡ç¨‹ä¸­æœ‰ä¼˜æƒ çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ­¤æ—¶éœ€è¦è€ƒè™‘UMPç³»ç»ŸæŒ‚æ‰ï¼Œä¸ä¼šå½±å“ç”¨æˆ·ä¸‹å•ï¼ˆåé¢å¯ä»¥é€šè¿‡ä¿®æ”¹ä»·æ ¼å¼¥è¡¥ï¼‰ï¼Œé‡‡ç”¨çš„æ–¹å¼æ˜¯ï¼Œå¦‚æœä¼˜æƒ æŒ‚æ‰ï¼Œé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œå¹¶å¢åŠ umpå±è”½æ ‡è®°ï¼Œä¸‹å•æ—¶ä¼šè‡ªåŠ¨å±è”½umpçš„ä»£ç é€»è¾‘ã€‚<br>å¦å¤–è¿˜ä¼šè®°å½•umpç³»ç»Ÿä¸å¯ç”¨æ¬¡æ•°ï¼Œä¸€å®šæ—¶é—´å†…è¶…è¿‡é˜ˆå€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p><ul><li>ç¨³å®šæ€§</li></ul><p>ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯èƒ½ä¼šä¸ç¨³å®šï¼Œå­˜åœ¨æ¥å£è¶…æ—¶æˆ–å®•æœºï¼Œä¸ºäº†å¢åŠ ç³»ç»Ÿçš„å¥å£®æ€§ï¼Œè°ƒç”¨æ¥å£æ—¶è®¾ç½®è¶…æ—¶æ—¶é—´ä»¥åŠå¼‚å¸¸æ•è·å¤„ç†ã€‚</p><ul><li>å®¹é‡è§„åˆ’</li></ul><p>åšå¥½å®¹é‡è§„åˆ’ã€ç³»ç»Ÿé—´å¼ºå¼±ä¾èµ–å…³ç³»æ¢³ç†ã€‚<br>å¦‚ï¼šå†·çƒ­æ•°æ®ä¸åŒå¤„ç†ï¼Œæ—©æœŸçš„è®¢å•é‡‡ç”¨oracleå­˜å‚¨ï¼Œéšç€è®¢å•çš„æ•°é‡è¶Šæ¥è¶Šå¤šï¼ŒæŸ¥è¯¢ç¼“æ…¢ï¼Œè€ƒè™‘æ•°æ®è¿ç§»ï¼Œå¼•å…¥å†å²è¡¨ï¼Œå°†å·²å½’æ¡£çš„è®°å½•è¿ç§»åˆ°å†å²è¡¨ä¸­ã€‚å½“ç„¶æœ€å¥½çš„æ–¹æ³•æ˜¯åˆ†åº“åˆ†è¡¨ã€‚<br><a name="-7"></a></p><h4 id="åˆ†å¸ƒå¼æ¶æ„"><a href="#åˆ†å¸ƒå¼æ¶æ„" class="headerlink" title="åˆ†å¸ƒå¼æ¶æ„"></a>åˆ†å¸ƒå¼æ¶æ„</h4><ul><li><p>åˆ†å¸ƒå¼ç³»ç»Ÿ</p></li><li><p>åˆ†å¸ƒå¼ç¼“å­˜</p></li><li><p>åˆ†å¸ƒå¼æ•°æ®<br><a name="api"></a></p><h4 id="API-å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ"><a href="#API-å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ" class="headerlink" title="API å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ"></a>API å’Œä¹é«˜ç§¯æœ¨æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ</h4><p>ç›¸ä¿¡æˆ‘ä»¬å¤§å¤šæ•°äººåœ¨å„¿ç«¥æ—¶æœŸéƒ½å–œæ¬¢ç©ä¹é«˜ç§¯æœ¨ã€‚ä¹é«˜ç§¯æœ¨çš„çœŸæ­£ä¹è¶£å’Œå¸å¼•åŠ›åœ¨äºï¼Œå°½ç®¡åŒ…è£…ç›’å¤–é¢éƒ½å¸¦æœ‰ç¤ºæ„å›¾ç‰‡ï¼Œä½†ä½ æœ€ç»ˆéƒ½å¯ä»¥éšå¿ƒæ‰€æ¬²å¾—æ­å‡ºå„ç§æ ·å­æˆ–é€ å‹ã€‚<br>å¯¹ API çš„æœ€ä½³è§£é‡Šå°±æ˜¯å®ƒä»¬åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥ç”¨åˆ›é€ æ€§çš„æ–¹å¼æ¥ç»„åˆå®ƒä»¬ï¼Œè€Œä¸ç”¨åœ¨æ„å®ƒä»¬åŸæœ¬çš„è®¾è®¡å’Œå®ç°æ„å›¾ã€‚<br>ä½ å¯ä»¥å‘ç°å¾ˆå¤š API å’Œä¹é«˜ç§¯æœ¨çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p></li><li><p>æ ‡å‡†åŒ–ï¼šé€šç”¨ã€æ ‡å‡†åŒ–çš„ç»„ä»¶ï¼Œä½œä¸ºåŸºæœ¬çš„æ„å»ºå—ï¼ˆbuilding blocksï¼‰ï¼›<br></p></li><li><p>å¯ç”¨æ€§ï¼šå¼ºè°ƒå¯ç”¨æ€§ï¼Œé™„æœ‰æ–‡æ¡£æˆ–ä½¿ç”¨è¯´æ˜ï¼›<br></p></li><li><p>å¯å®šåˆ¶ï¼šä¸ºä¸åŒåŠŸèƒ½ä½¿ç”¨ä¸åŒçš„APIï¼›<br></p></li><li><p>åˆ›é€ æ€§ï¼šèƒ½å¤Ÿç»„åˆä¸åŒçš„ API æ¥åˆ›é€ æ··æ­çš„ç»“æœï¼›</p></li></ul><p><br>ä¹é«˜å’Œ API éƒ½æœ‰è¶…ç®€å•çš„ç•Œé¢/æ¥å£ï¼Œå¹¶ä¸”å€ŸåŠ©è¿™æ ·ç®€å•çš„ç•Œé¢/æ¥å£ï¼Œå®ƒå¯ä»¥éå¸¸ç›´è§‚ã€å®¹æ˜“ã€å¿«é€Ÿå¾—æ„å»ºã€‚<br>è™½ç„¶ä¹é«˜å’Œ API ä¸€æ ·å¯èƒ½é™„å¸¦ç¤ºæ„å›¾ç‰‡æˆ–ä½¿ç”¨æ–‡æ¡£ï¼Œå¤§æ¦‚æè¿°äº†æ¨èç©æ³•æˆ–ç”¨é€”ï¼Œä½†çœŸæ­£ä»¤äººå…´å¥‹çš„ç»“æœæˆ–æ”¶è·æ°æ°æ˜¯é€šè¿‡åˆ›é€ åŠ›äº§ç”Ÿçš„ã€‚<br><br><br>è®©æˆ‘ä»¬ä»”ç»†åœ°æ€è€ƒä¸‹ä¸Šè¿°çš„ææ³•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒAPI çš„ä½¿ç”¨è€…æ„å»ºå‡ºäº† API çš„æ„å»ºè€…è¶…å‡ºé¢„æœŸçš„æœåŠ¡æˆ–äº§å“ï¼ŒAPI ä½¿ç”¨è€…æƒ³è¦çš„ï¼Œå’Œ API æ„å»ºè€…è®¤ä¸ºä½¿ç”¨è€…æƒ³è¦çš„ï¼Œè¿™äºŒè€…ä¹‹é—´é€šå¸¸æœ‰ä¸ªæ–­å±‚ã€‚äº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œåœ¨ IoT é¢†åŸŸï¼Œæˆ‘ä»¬ä½¿ç”¨ API åˆ›é€ å‡ºäº†ä¸€äº›éå¸¸æœ‰åˆ›é€ æ€§çš„ä½¿ç”¨åœºæ™¯ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-2&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;å…³äºä»€ä¹ˆ
      
    
    </summary>
    
    
      <category term="æ¶æ„" scheme="cpeixin.cn/categories/%E6%9E%B6%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>kaliä¸­æ–‡è®¾ç½®</title>
    <link href="cpeixin.cn/2019/12/01/kali%E4%B8%AD%E6%96%87%E8%AE%BE%E7%BD%AE/"/>
    <id>cpeixin.cn/2019/12/01/kali%E4%B8%AD%E6%96%87%E8%AE%BE%E7%BD%AE/</id>
    <published>2019-12-01T02:26:15.000Z</published>
    <updated>2020-04-04T11:06:21.313Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>æ›´æ–°æº</p><p><a href="https://blog.csdn.net/qq_38333291/article/details/89764967" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_38333291/article/details/89764967</a></p><p>è®¾ç½®ç¼–ç å’Œä¸­æ–‡å­—ä½“å®‰è£…</p><p><a href="http://www.linuxdiyf.com/linux/20701.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.linuxdiyf.com/linux/20701.html</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æ›´æ–°æº&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_38333291/article/details/897
      
    
    </summary>
    
    
      <category term="Linux" scheme="cpeixin.cn/categories/Linux/"/>
    
    
      <category term="kali" scheme="cpeixin.cn/tags/kali/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†å¸ƒå¼ä¸‹çš„æ•°æ®hashåˆ†å¸ƒ</title>
    <link href="cpeixin.cn/2019/11/19/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AEhash%E5%88%86%E5%B8%83/"/>
    <id>cpeixin.cn/2019/11/19/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AEhash%E5%88%86%E5%B8%83/</id>
    <published>2019-11-19T15:05:08.000Z</published>
    <updated>2020-04-04T11:24:04.737Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;!-- rebuild by neat --&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†ï¼ˆäºŒï¼‰</title>
    <link href="cpeixin.cn/2019/09/09/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>cpeixin.cn/2019/09/09/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2019-09-09T02:26:15.000Z</published>
    <updated>2020-04-04T12:00:14.168Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>è‹¦é€¼çš„å‘¨ä¸€å¼€å§‹äº†ï¼Œè‹¦é€¼çš„å·¥ä½œå¼€å§‹äº†ï¼Œååˆ°å·¥ä½ä¸Šï¼Œä¸Šç­æ°”æ­£åœ¨é€æ¸çš„å‡å¼±ï¼Œä½†æ˜¯å½“æˆ‘å‘ç°ï¼Œæˆ‘çš„ä¸‰å°æœåŠ¡å™¨åˆè¢«é‚£äº›æ— æƒ…çš„å°é»‘äººä»¬ç›¯ä¸Šäº†çš„æ—¶å€™ï¼Œæˆ‘çš„æ€’æ°”å€¼è¾¾åˆ°äº†é¡¶ç‚¹ï¼ŒåŒæ—¶è¿˜æ„Ÿè§‰æœ‰ç‚¹ä¸¢è„¸ï¼Œå“ˆå“ˆå“ˆã€‚<br><br><br>ç”±äºè¿™ä¸‰å°æœåŠ¡å™¨å±äºæˆ‘ä¸ªäººçš„ï¼Œæ²¡æœ‰ç»è¿‡è¿ç»´å…„å¼Ÿçš„ç…§é¡¾ï¼Œæ‰€ä»¥åœ¨å®‰å…¨æ–¹é¢ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰é˜²æŠ¤ã€‚<br>è¿™æ¬¡æ˜¯æ€ä¹ˆå‘ç°çš„å‘¢ï¼Œæ˜¯å› ä¸ºæˆ‘æœåŠ¡å™¨ä¸Šçš„çˆ¬è™«çªç„¶åœæ­¢äº†ï¼Œæˆ‘å¸¦ç€ç–‘é—®å»çœ‹äº†ä¸‹ç³»ç»Ÿæ—¥å¿—ã€‚äºæ˜¯æ•²ä¸‹äº†ä¸‹é¢çš„å‘½ä»¤<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -xe</span><br></pre></td></tr></table></figure><p><br>æ˜ å…¥çœ¼å¸˜çš„æ˜¯æ»¡å±çš„æ‰«æå’Œsshå°è¯•ç™»é™†<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Failed password <span class="keyword">for</span> invalid user admin <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Received disconnect <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Disconnected <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Failed password <span class="keyword">for</span> invalid user ansible <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Received disconnect <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Disconnected <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">54</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">314</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">54</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">314</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">lines <span class="number">1105</span><span class="number">-1127</span>/<span class="number">1127</span> (END)</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">49</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Failed password <span class="keyword">for</span> invalid user admin <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Received disconnect <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">303</span>]: Disconnected <span class="keyword">from</span> <span class="number">117.132</span><span class="number">.175</span><span class="number">.25</span> port <span class="number">42972</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Failed password <span class="keyword">for</span> invalid user ansible <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Received disconnect <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span>:<span class="number">11</span>: Bye Bye [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">302</span>]: Disconnected <span class="keyword">from</span> <span class="number">149.56</span><span class="number">.96</span><span class="number">.78</span> port <span class="number">44980</span> [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">50</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span> port <span class="number">45157</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">51</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65522</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_unix(sshd:auth): authentication failure; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">218.92</span><span class="number">.0</span><span class="number">.163</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">52</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">310</span>]: pam_succeed_if(sshd:auth): requirement <span class="string">"uid &gt;= 1000"</span> <span class="keyword">not</span> met by user <span class="string">"root"</span></span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Failed password <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: error: maximum authentication attempts exceeded <span class="keyword">for</span> root <span class="keyword">from</span> <span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span> port <span class="number">24184</span> ssh2 [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: Disconnecting: Too many authentication failures [preauth]</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM <span class="number">5</span> more authentication failures; logname= uid=<span class="number">0</span> euid=<span class="number">0</span> tty=ssh ruser= rhost=<span class="number">49.88</span><span class="number">.112</span><span class="number">.54</span>  user=root</span><br><span class="line">Sep <span class="number">09</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">53</span> <span class="number">4</span>Z-J16-A47 sshd[<span class="number">65525</span>]: PAM service(sshd) ignoring max retries; <span class="number">6</span> &gt; <span class="number">3</span></span><br></pre></td></tr></table></figure><p><br>çœ‹åˆ°è¿™é‡Œï¼Œæ„Ÿè§‰è‡ªå·±å®¶çš„é¸¡ï¼Œéšæ—¶éƒ½è¦è¢«å·èµ°å‘€ã€‚ã€‚ã€‚ã€‚è¿™è¿˜äº†å¾—ã€‚äºæ˜¯é©¬ä¸Šå¼€å§‹äº†åŠ å›ºé˜²æŠ¤<br>å¯¹å¾…è¿™ç§æƒ…å†µï¼Œå°±æ˜¯è¦ç¦æ­¢rootç”¨æˆ·è¿œç¨‹ç™»å½•ï¼Œä½¿ç”¨æ–°å»ºæ™®é€šç”¨æˆ·ï¼Œè¿›è¡Œè¿œç¨‹ç™»å½•ï¼Œè¿˜æœ‰é‡è¦çš„ä¸€ç‚¹ï¼Œä¿®æ”¹é»˜è®¤22ç«¯å£ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@*** ~]<span class="comment"># useradd one             #åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">[root@*** ~]<span class="comment"># passwd one              #è®¾ç½®å¯†ç </span></span><br></pre></td></tr></table></figure><p><br>è¾“å…¥æ–°ç”¨æˆ·å¯†ç <br>é¦–å…ˆç¡®ä¿æ–‡ä»¶ /etc/sudoers ä¸­<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%wheel    ALL=(ALL)    ALL</span><br><span class="line">```  </span><br><span class="line">æ²¡æœ‰è¢«æ³¨é‡Š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```linux</span><br><span class="line">usermod -g wheel onerocket</span><br></pre></td></tr></table></figure><p><br>è®¾ç½®åªæœ‰æŒ‡å®šç”¨æˆ·ç»„æ‰èƒ½ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootç”¨æˆ·<br><br><br>åœ¨linuxä¸­ï¼Œæœ‰ä¸€ä¸ªé»˜è®¤çš„ç®¡ç†ç»„ wheelã€‚åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå³ä½¿æˆ‘ä»¬æœ‰ç³»ç»Ÿç®¡ç†å‘˜rootçš„æƒé™ï¼Œä¹Ÿä¸æ¨èç”¨rootç”¨æˆ·ç™»å½•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ç”¨æ™®é€šç”¨æˆ·ç™»å½•å°±å¯ä»¥äº†ï¼Œåœ¨éœ€è¦rootæƒé™æ‰§è¡Œä¸€äº›æ“ä½œæ—¶ï¼Œå†suç™»å½•æˆä¸ºrootç”¨æˆ·ã€‚ä½†æ˜¯ï¼Œä»»ä½•äººåªè¦çŸ¥é“äº†rootçš„å¯†ç ï¼Œå°±éƒ½å¯ä»¥é€šè¿‡suå‘½ä»¤æ¥ç™»å½•ä¸ºrootç”¨æˆ·ï¼Œè¿™æ— ç–‘ä¸ºç³»ç»Ÿå¸¦æ¥äº†å®‰å…¨éšæ‚£ã€‚æ‰€ä»¥ï¼Œå°†æ™®é€šç”¨æˆ·åŠ å…¥åˆ°wheelç»„ï¼Œè¢«åŠ å…¥çš„è¿™ä¸ªæ™®é€šç”¨æˆ·å°±æˆäº†ç®¡ç†å‘˜ç»„å†…çš„ç”¨æˆ·ã€‚ç„¶åè®¾ç½®åªæœ‰wheelç»„å†…çš„æˆå‘˜å¯ä»¥ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootç”¨æˆ·ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /bin/bash</span></span><br><span class="line"><span class="comment"># Function: ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿å¾—åªæœ‰wheelç»„çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ su æƒé™</span></span><br><span class="line">sed -i <span class="string">'/pam_wheel.so use_uid/c\auth            required        pam_wheel.so use_uid '</span> /etc/pam.d/su</span><br><span class="line">n=`cat /etc/login.defs | grep SU_WHEEL_ONLY | wc -l`</span><br><span class="line"><span class="keyword">if</span> [ $n -eq <span class="number">0</span> ];then</span><br><span class="line">echo SU_WHEEL_ONLY yes &gt;&gt; /etc/login.defs</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><br>æ‰“å¼€SSHDçš„é…ç½®æ–‡ä»¶<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><br>æŸ¥æ‰¾â€œ#PermitRootLogin yesâ€ï¼Œå°†å‰é¢çš„â€œ#â€å»æ‰ï¼ŒçŸ­å°¾â€œyesâ€æ”¹ä¸ºâ€œnoâ€ï¼ˆä¸åŒç‰ˆæœ¬å¯èƒ½åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œå¹¶ä¿å­˜æ–‡ä»¶ã€‚<br><br><br>ä¿®æ”¹sshdé»˜è®¤ç«¯å£<br>è™½ç„¶æ›´æ”¹ç«¯å£æ— æ³•åœ¨æ ¹æœ¬ä¸ŠæŠµå¾¡ç«¯å£æ‰«æï¼Œä½†æ˜¯ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜é˜²å¾¡ã€‚<br>æ‰“å¼€sshdé…ç½®æ–‡ä»¶<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><br>æ‰¾åˆ°#Port 22 åˆ æ‰æ³¨é‡Š<br><br><br><em>æœåŠ¡å™¨ç«¯å£æœ€å¤§å¯ä»¥å¼€åˆ°65536</em><br><br><br>åŒæ—¶å†æ·»åŠ ä¸€ä¸ªPort 61024 ï¼ˆéšæ„è®¾ç½®ï¼‰<br><br><br>Port 22<br>Port 61024<br><br><br>é‡å¯sshdæœåŠ¡<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart      <span class="comment">#centos6ç³»åˆ—</span></span><br><span class="line">systemctl restart sshd  <span class="comment">#centos7ç³»åˆ—</span></span><br><span class="line">firewall-cmd --add-port=<span class="number">61024</span>/tcp</span><br></pre></td></tr></table></figure><p><br>æµ‹è¯•ï¼Œä½¿ç”¨æ–°ç”¨æˆ·ï¼Œæ–°ç«¯å£è¿›è¡Œç™»å½•<br><br><br>å¦‚æœç™»é™†æˆåŠŸåï¼Œå†å°†Port22æ³¨é‡Šæ‰ï¼Œé‡å¯sshdæœåŠ¡ã€‚<br>åˆ°è¿™é‡Œï¼Œå…³äºè¿œç¨‹ç™»å½•çš„é˜²æŠ¤å·¥ä½œï¼Œå°±åšå¥½äº†ã€‚<br>æœ€åï¼Œå‘Šè¯«å¤§å®¶ï¼Œäº²èº«ä½“éªŒï¼Œæ²¡æœ‰é˜²æŠ¤è£¸å¥”çš„æœåŠ¡å™¨ï¼ŒçœŸçš„å¤ªå®¹æ˜“è¢«æŠ“è‚‰é¸¡äº†ï¼ï¼ï¼ï¼ï¼</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;è‹¦é€¼çš„å‘¨ä¸€å¼€å§‹äº†ï¼Œè‹¦é€¼çš„å·¥ä½œå¼€å§‹äº†ï¼Œååˆ°å·¥ä½ä¸Šï¼Œä¸Šç­æ°”æ­£åœ¨é€æ¸çš„å‡å¼±ï¼Œä½†æ˜¯å½“æˆ‘å‘ç°ï¼Œæˆ‘çš„ä¸‰å°æœåŠ¡å™¨åˆè¢«é‚£äº›æ— æƒ…çš„å°é»‘äººä»¬ç›¯ä¸Šäº†çš„æ—¶å€™ï¼Œæˆ‘çš„æ€’æ°”å€¼
      
    
    </summary>
    
    
      <category term="Linux" scheme="cpeixin.cn/categories/Linux/"/>
    
    
      <category term="æœåŠ¡å™¨å®‰å…¨" scheme="cpeixin.cn/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†</title>
    <link href="cpeixin.cn/2019/08/24/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86/"/>
    <id>cpeixin.cn/2019/08/24/%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E9%BB%91%E4%BA%86/</id>
    <published>2019-08-24T02:26:15.000Z</published>
    <updated>2020-04-04T12:00:09.871Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p><a name="-2"></a></p><h1 id="æœåŠ¡å™¨è‡ªè¿°"><a href="#æœåŠ¡å™¨è‡ªè¿°" class="headerlink" title="æœåŠ¡å™¨è‡ªè¿°"></a>æœåŠ¡å™¨è‡ªè¿°</h1><p>æˆ‘æ˜¯ä¸€å°8æ ¸ï¼Œ16Gå†…å­˜ï¼Œ4Tçš„Linux (centOS 7)æœåŠ¡å™¨â€¦ è¿˜æœ‰ä¸¤å°å’Œæˆ‘ä¸€èµ·è¢«ä¹°æ¥çš„è‹¦ä¸»ï¼Œæˆ‘ä»¬ä¸€åŒé•¿å¤§ï¼Œé…ç½®ä¸€æ ·ï¼Œéƒ½æ˜¯ä»é¦™æ¸¯è¢«è´©å–åˆ°å›½å¤–ï¼Œæˆ‘ä»¬ä¸‰ä¸ªç»„æˆäº†åˆ†å¸ƒå¼çˆ¬è™«æ¡†æ¶ï¼Œå¦ä¸¤ä½è‹¦ä¸»åˆ†åˆ«è´Ÿè´£å¼‚æ­¥çˆ¬å–è¿æ¥ï¼Œå¤šè¿›ç¨‹çˆ¬å–è¿æ¥å’Œscrapy-redisåˆ†å¸ƒå¼çˆ¬å–è§£æã€‚<br><br><br>è€Œæˆ‘æ¯”è¾ƒæ¸…é—²ï¼Œåªè´Ÿè´£å­˜å‚¨. ç½‘é¡µé“¾æ¥æ”¾åœ¨æˆ‘çš„redisä¸­ï¼Œè€Œè§£æå¥½çš„æ–‡ç« ä¿¡æ¯æ”¾åœ¨æˆ‘çš„MySQLä¸­ã€‚ç„¶è€Œæ•…äº‹çš„å¼€å§‹ï¼Œå°±æ˜¯åœ¨å®‰è£…redisçš„é‚£å¤©ï¼Œä¸»äººçš„ç²—å¿ƒå¤§æ„ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œä»è€Œè®©ä»–ä»Šå¤©èŠ±è´¹äº†å°åŠå¤©æ¥å¯¹æˆ‘è¿›è¡Œç»´ä¿®ï¼ï¼ğŸ˜¢<br><a name="-3"></a></p><h1 id="ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨"><a href="#ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨" class="headerlink" title="ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨"></a>ä¸ºä»€ä¹ˆé»‘æˆ‘çš„æœåŠ¡å™¨</h1><p>è¿™æ ·ä¸€å°é…ç½®çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœˆçš„ä»·æ ¼å¤§æ¦‚åœ¨1000RMBä¸€ä¸ªæœˆï¼Œæ€ä¹ˆè¯´å‘¢â€¦ è¿™ä¸ªä»·æ ¼çš„æœåŠ¡å™¨å¯¹äºä¸ªäººç”¨æˆ·æ­å»ºè‡ªå·±ç©çš„ç¯å¢ƒè¿˜æ˜¯æœ‰äº›å°è´µçš„ã€‚ä¾‹å¦‚æˆ‘ç°åœ¨å†™åšå®¢ï¼Œä¹Ÿæ˜¯æ‰˜ç®¡åœ¨GitHubä¸Šçš„ï¼Œæˆ‘ä¹Ÿå¯ä»¥ç§Ÿç”¨ä¸€å°æœåŠ¡å™¨æ¥æ‰˜ç®¡çš„åšå®¢ï¼Œä½†æ˜¯ç›®å‰æˆ‘çš„è¿™ç§çº§åˆ«ï¼Œä¹Ÿæ˜¯è¦è€ƒè™‘åˆ°æŠ•å…¥äº§å‡ºæ¯”æ˜¯å¦åˆé€‚ï¼Œå“ˆå“ˆå“ˆã€‚<br><br><br>ä½†æ˜¯å¯¹äºï¼ŒæœåŠ¡å™¨ä¸Šè¿è¡Œçš„ä»»åŠ¡å’ŒæœåŠ¡äº§å‡ºçš„ä»·å€¼è¦è¿œè¿œå¤§äºæœåŠ¡å™¨ä»·å€¼çš„æ—¶å€™ï¼Œè¿™1000å¤šRMBå°±å¯ä»¥å¿½ç•¥ä¸è®¡äº†ã€‚åŒæ—¶ï¼Œè¿˜æœ‰é»‘è¡£äººï¼Œä»–ä»¬éœ€è¦å¤§é‡çš„æœåŠ¡å™¨ï¼Œæ¥è¿è¡ŒåŒæ ·çš„ç¨‹åºï¼Œäº§å‡ºçš„ä»·å€¼ä»–ä»¬ä¹Ÿæ— æ³•è¡¡é‡ï¼Œæœ‰å¯èƒ½å¾ˆå¤šæœ‰å¯èƒ½å¾ˆå°‘ã€‚ã€‚<br><br><br>é‚£ä¹ˆè¿™æ—¶å€™ï¼Œä»–ä»¬ä¸ºäº†èŠ‚çº¦æˆæœ¬ï¼Œé™ä½æˆæœ¬ï¼Œå°±ä¼šç”¨ä¸€äº›é»‘è‰²çš„æ‰‹æ³•ï¼Œä¾‹å¦‚æ¸—é€ï¼Œsqlæ³¨å…¥ï¼Œæ ¹æ®æ¼æ´æ‰«æç­‰æ–¹æ³•æ¥ æŠ“â€œè‚‰é¸¡â€ï¼ŒæŠ“åˆ°å¤§é‡çš„å¯ä¾µå…¥çš„æœåŠ¡å™¨ï¼Œç„¶ååœ¨ä½ çš„æœåŠ¡å™¨ä¸Šçš„æŸä¸€ä¸ªè§’è½ï¼Œæ”¾ä¸Šä»–çš„ç¨‹åºï¼Œä¸€ç›´åœ¨è¿è¡Œï¼Œä¸€ç›´åœ¨è¿è¡Œï¼Œå ç”¨ç€ä½ çš„cpu,å ç”¨ç€ä½ çš„å¸¦å®½â€¦<br><br><br>é‚£ä¹ˆä¸Šé¢æåˆ°çš„é»‘è¡£äººï¼Œå°±æœ‰é‚£ä¹ˆä¸€ç±»è§’è‰²ï¼Œâ€œçŸ¿å·¥â€ï¼ï¼ï¼ï¼<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585404954445-f30a25a0-5939-4773-b5d9-8bb6a7c53b02.png#align=left&display=inline&height=892&name=1.png&originHeight=892&originWidth=1244&size=1778564&status=done&style=none&width=1244" alt="1.png"><br><br><br>æ›¾ç»ï¼Œæˆ‘ä¹Ÿä¸“æ³¨è¿‡åŒºå—é“¾ï¼Œæˆ‘ä¹ŸçŸ­æš‚çš„è¿·å¤±åœ¨æ•°å­—è´§å¸çš„æµªæ½®ä¸­ï¼Œä½†æ˜¯æ²¡æœ‰åƒåˆ°çº¢åˆ©ğŸ‘€ğŸ‘€ğŸ‘€ å°±æ˜¯è¿™äº›æ•°å­—ä¸–ç•Œçš„çŸ¿å·¥ï¼Œåˆ©ç”¨æˆ‘æœåŠ¡å™¨çš„æ¼æ´é»‘äº†æˆ‘çš„æœåŠ¡å™¨<br><a name="-4"></a></p><h1 id="å¦‚ä½•å‘ç°è¢«é»‘"><a href="#å¦‚ä½•å‘ç°è¢«é»‘" class="headerlink" title="å¦‚ä½•å‘ç°è¢«é»‘"></a>å¦‚ä½•å‘ç°è¢«é»‘</h1><p>å›åˆ°è¿™ç¯‡åšå®¢çš„æ­£é¢˜ï¼Œæˆ‘æ˜¯å¦‚ä½•å‘ç°ï¼Œæˆ‘çš„æœåŠ¡å™¨è¢«é»‘äº†å‘¢ï¼Ÿï¼Ÿ<br><br><br>æœ€è¿‘æˆ‘åœ¨åšscrapyåˆ†å¸ƒå¼çˆ¬è™«æ–¹é¢çš„å·¥ä½œï¼Œå‡†å¤‡äº†ä¸‰å°æœåŠ¡å™¨ï¼Œè€Œè¿™å°è¢«é»‘çš„æœåŠ¡å™¨æ˜¯æˆ‘ç”¨æ¥åšå­˜å‚¨çš„ï¼Œå…¶ä¸­ç”¨åˆ°äº†rediså’Œmysqlã€‚å…¶ä¸­å¼•å‘è¿™ä»¶äº‹æƒ…çš„å°±æ˜¯redisï¼Œæˆ‘åœ¨å®‰è£…redisçš„æ—¶å€™ï¼Œå¯ä»¥è¯´è´£ä»»å®Œå…¨åœ¨æˆ‘ï¼Œæˆ‘ä¸ºäº†å®‰è£…èŠ‚çº¦æ—¶é—´ï¼Œä»¥åä½¿ç”¨æ–¹ä¾¿ç­‰ï¼Œåšäº†å‡ ä¸ªå¾ˆé”™è¯¯çš„æ“ä½œ<br><br><br>1.å…³é—­äº†Linuxé˜²ç«å¢™<br><br><br>2.æ²¡æœ‰è®¾ç½®redisè®¿é—®å¯†ç <br><br><br>3.æ²¡æœ‰æ›´æ”¹redisé»˜è®¤ç«¯å£<br><br><br>4.å¼€æ”¾äº†ä»»æ„IPå¯ä»¥è¿œç¨‹è¿æ¥<br><br><br>ä»¥ä¸Šå››ä¸ªå¾ˆå‚»çš„æ“ä½œ,éƒ½æ˜¯å› ä¸ºä»¥å‰æ‰€ç”¨çš„rediséƒ½æ˜¯æœ‰å…¬å¸è¿ç»´åŒäº‹è¿›è¡Œå®‰è£…ä»¥åŠå®‰å…¨ç­–ç•¥æ–¹é¢çš„é…ç½®ï¼Œä»¥è‡³æˆ‘è¿™ä¸€æ¬¡æ²¡æœ‰æ³¨æ„åˆ°å®‰è£…æ–¹é¢ã€‚<br><br><br>å½“æˆ‘çš„çˆ¬è™«ç¨‹åºå·²ç»å¹³ç¨³çš„è¿è¡Œäº†ä¸¤å¤©äº†ï¼Œæˆ‘å°±å¼€å§‹æ”¾å¿ƒäº†ï¼Œé™é™åœ°çœ‹ç€spiderç–¯ç‹‚çš„spider,å¯æ˜¯å°±æ˜¯åœ¨éšåï¼ŒredisæœåŠ¡å‡ºç°å¼‚å¸¸ï¼Œé¦–å…ˆæ˜¯æˆ‘æœ¬åœ°å®¢æˆ·ç«¯è¿æ¥ä¸ä¸Šè¿œç¨‹redis-serverï¼Œæˆ‘æœ‰æƒ³è¿‡æ˜¯ä¸æ˜¯ç½‘ç»œä¸ç¨³å®šçš„é—®é¢˜ã€‚åœ¨æˆ‘é‡å¯redisåï¼Œæ¢å¤æ­£å¸¸ï¼Œåˆå¹³ç¨³çš„è¿è¡Œäº†ä¸€å¤©ã€‚<br><br><br>ä½†æ˜¯æ¥ä¸‹æ¥redisé¢‘ç¹å‡ºé—®é¢˜ï¼Œæˆ‘å°±æƒ³ï¼Œæ˜¯ä¸æ˜¯çˆ¬è™«çˆ¬å–äº†å¤§é‡çš„ç½‘é¡µé“¾æ¥ï¼Œå¯¹redisé€ æˆäº†é˜»å¡ã€‚äºæ˜¯ï¼Œæˆ‘å¼€å¯äº†å¯¹redis.confï¼Œè¿˜æœ‰ç¨‹åºç«¯çš„connectä¸¤æ–¹é¢360åº¦çš„ä¼˜åŒ–ï¼Œç„¶å¹¶åµã€‚ã€‚ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i tcp:<span class="number">6379</span></span><br></pre></td></tr></table></figure><p><br>ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤åï¼Œå‘ç°redisæœåŠ¡æ­£å¸¸è¿è¡Œï¼Œ6379ç«¯å£ä¹Ÿæ˜¯å¼€å¯çš„ã€‚æˆ‘é™·å…¥äº†æ·±æ·±åœ°è¿·æƒ‘ã€‚ã€‚ã€‚ã€‚ã€‚<br><br><br>ä½†æ˜¯è¿™æ—¶å…¶å®å°±åº”è¯¥çœ‹å‡ºä¸€äº›ç«¯å€ªäº†ï¼Œå› ä¸ºæ­£å¸¸å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹åæ˜¯ ï¼š redis-ser ã€‚ä½†æ˜¯ç°åœ¨å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹åæ˜¯ ï¼šxmrig-no (å¿˜è®°æˆªå›¾äº†)ï¼Œä½†æ˜¯è¿™æ—¶æˆ‘ä¹Ÿæ²¡æœ‰å¤šæƒ³<br>ç›´åˆ°æˆ‘è¿è¡Œï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585404912911-97736d80-2ee3-455d-a948-6d134f4e2663.png#align=left&display=inline&height=534&name=2.png&originHeight=534&originWidth=3338&size=980508&status=done&style=none&width=3338" alt="2.png"><br>å‘ç°äº†å ç”¨ 6379 ç«¯å£çš„è¿›ç¨‹å…¨åç§°xmrigâ€¦ï¼Œæˆ‘æ‰æç„¶å¤§æ‚Ÿï¼Œæˆ‘çš„ç«¯å£è¢«å ç”¨äº†ã€‚æˆ‘åœ¨googleä¸Šä¸€æŸ¥ï¼Œæ‰å‘ç°ã€‚ã€‚æˆ‘è¢«é»‘äº†<br><a name="-5"></a></p><h1 id="åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ"><a href="#åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ" class="headerlink" title="åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ"></a>åšäº†å“ªäº›æ€¥æ•‘å·¥ä½œ</h1><p>è¿™æ—¶ï¼Œæ„Ÿè§‰è‡ªå·±å¼€å§‹æŠ•å…¥äº†ä¸€åœºå¯¹æŠ—æˆ˜<br><br><br>1.é¦–å…ˆæŸ¥æ‰¾æ¤å…¥ç¨‹åºçš„ä½ç½®ã€‚<br>åœ¨/tmp/ç›®å½•ä¸‹ï¼Œä¸€èˆ¬æ¤å…¥ç¨‹åºéƒ½ä¼šæ”¾åœ¨ /tmp ä¸´æ—¶ç›®å½•ä¸‹ï¼Œå…¶å®å›è¿‡å¤´ä¸€æƒ³ï¼Œæ”¾åœ¨è¿™é‡Œï¼Œä¹Ÿæ˜¯æŒºå¦™çš„ã€‚<br><br><br>2.åˆ é™¤æ¸…ç†å¯ç–‘æ–‡ä»¶<br><br><br>æ€æ­»è¿›ç¨‹<br><br><br>åˆ é™¤äº†æ­£åœ¨è¿è¡Œçš„ç¨‹åºæ–‡ä»¶è¿˜æœ‰å®‰è£…åŒ…<br>3.æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd |cut -f <span class="number">1</span> -d:crontab -uXXX -l</span><br></pre></td></tr></table></figure><p><br>4.å¼€å¯é˜²ç«å¢™<br><br><br>ä»…å¼€æ”¾ä¼šä½¿ç”¨åˆ°çš„ç«¯å£<br>5.ä¿®æ”¹redisé»˜è®¤ç«¯å£<br><br><br>redis.confä¸­çš„port<br>6.æ·»åŠ redisæˆæƒå¯†ç <br><br><br>redis.confä¸­çš„requirepass<br>7.ä¿®æ”¹ç»‘å®šè¿œç¨‹ç»‘å®šip<br><br><br>redis.confä¸­çš„bind<br>æœ€åé‡å¯redisæœåŠ¡ï¼<br><a name="-6"></a></p><h1 id="ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ"><a href="#ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ" class="headerlink" title="ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ"></a>ä»ä¸­å­¦åˆ°äº†ä»€ä¹ˆ</h1><p>æ˜æ˜æ˜¯è‡ªå·±è¢«é»‘äº†ï¼Œä½†æ˜¯åœ¨è¡¥æ•‘çš„è¿‡ç¨‹ä¸­ï¼Œå´å¾—åˆ°äº†å†™ç¨‹åºç»™ä¸äº†çš„æ»¡è¶³æ„Ÿã€‚æ„Ÿè§‰å› ä¸ºè¿™ä»¶äº‹æƒ…ï¼Œä¸Šå¸ç»™æˆ‘æ‰“å¼€äº†å¦ä¸€æ‰‡çª—æˆ·ï½ï½ï½<br>æœ€åè¯´ä¸‹ï¼Œè¿™ä¸ªæœ¨é©¬æ˜¯æ€ä¹ˆè¿›æ¥çš„å‘¢ï¼ŒæŸ¥äº†ä¸€ä¸‹åŸæ¥æ˜¯åˆ©ç”¨Redisç«¯å£æ¼æ´è¿›æ¥çš„ï¼Œå®ƒå¯ä»¥å¯¹æœªæˆæƒè®¿é—®redisçš„æœåŠ¡å™¨ç™»å½•ï¼Œå®šæ—¶ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬ï¼Œè„šæœ¬è¿è¡Œï¼ŒæŒ–çŸ¿ï¼Œè¿œç¨‹è°ƒç”¨ç­‰ã€‚æ‰€ä»¥é™¤äº†æ‰§è¡Œä¸Šè¿°æ“ä½œï¼ŒlinuxæœåŠ¡å™¨ä¸­çš„ç”¨æˆ·æƒé™ï¼ŒæœåŠ¡æƒé™ç²¾ç»†åŒ–ï¼Œé˜²æ­¢å†æ¬¡è¢«å…¥ä¾µã€‚<br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-2&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;æœåŠ¡å™¨è‡ªè¿°&quot;&gt;&lt;a href=&quot;#æœåŠ¡å™¨è‡ªè¿°&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
    
      <category term="Linux" scheme="cpeixin.cn/categories/Linux/"/>
    
    
      <category term="æœåŠ¡å™¨å®‰å…¨" scheme="cpeixin.cn/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>pythonçˆ¬è™« - åŠ¨æ€çˆ¬å–</title>
    <link href="cpeixin.cn/2019/06/12/python%E7%88%AC%E8%99%AB%E4%B9%8B%E5%8A%A8%E6%80%81%E7%88%AC%E5%8F%96/"/>
    <id>cpeixin.cn/2019/06/12/python%E7%88%AC%E8%99%AB%E4%B9%8B%E5%8A%A8%E6%80%81%E7%88%AC%E5%8F%96/</id>
    <published>2019-06-12T15:26:15.000Z</published>
    <updated>2020-04-04T17:11:17.062Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠ“å–æ‹‰å‹¾ç½‘Pythonåˆ†ç±»ä¸‹å…¨å›½åˆ°ç›®å‰ä¸ºæ­¢å±•ç¤ºå‡ºæ¥çš„æ‰€æœ‰æ‹›è˜ä¿¡æ¯ï¼Œé¦–å…ˆåœ¨æµè§ˆå™¨ç‚¹å‡»è¿›å»çœ‹çœ‹å§ã€‚å¦‚æœä½ è¶³å¤Ÿå°å¿ƒæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç°ï¼Œåœ¨ç‚¹å‡»Pythonåˆ†ç±»ä¹‹åè·³åˆ°çš„æ–°é¡µé¢ä¸Šï¼Œæ‹›è˜ä¿¡æ¯å‡ºç°æ—¶é—´æ˜¯æ™šäºé¡µé¢æ¡†æ¶å‡ºç°æ—¶é—´çš„ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥è‚¯å®šï¼Œæ‹›è˜ä¿¡æ¯å¹¶ä¸åœ¨é¡µé¢HTMLæºç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‰ä¸‹â€command+option+uâ€(åœ¨Windowså’ŒLinuxä¸Šçš„å¿«æ·é”®æ˜¯â€ctrl+uâ€)æ¥æŸ¥çœ‹ç½‘é¡µæºç ï¼Œæœç„¶åœ¨æºç ä¸­æ²¡æœ‰å‡ºç°é¡µé¢å±•ç¤ºçš„æ‹›è˜ä¿¡æ¯ã€‚<br><br><br>åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘çœ‹åˆ°çš„å¤§å¤šæ•°æ•™ç¨‹éƒ½ä¼šæ•™ï¼Œä½¿ç”¨ä»€ä¹ˆä»€ä¹ˆåº“ï¼Œå¦‚ä½•å¦‚ä½•æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼Œé€šè¿‡æ€æ ·æ€æ ·çš„æ–¹å¼å®Œæˆç½‘é¡µçš„æ¸²æŸ“ï¼Œç„¶åå¾—åˆ°é‡Œé¢çš„ä¿¡æ¯â€¦æ°¸è¿œè®°ä½ï¼Œå¯¹äºçˆ¬è™«ç¨‹åºï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å¾€å¾€æ˜¯ä¸‹ä¸‹ç­–ï¼Œåªæœ‰å®åœ¨æ²¡æœ‰åŠæ³•äº†ï¼Œæ‰å»è€ƒè™‘æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼Œå› ä¸ºé‚£æ ·çš„å†…å­˜å¼€é”€å®åœ¨æ˜¯å¾ˆå¤§ï¼Œè€Œä¸”æ•ˆç‡éå¸¸ä½ã€‚<br><br><br>é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿç»éªŒæ˜¯ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå¤§å¤šæ˜¯æ˜¯æµè§ˆå™¨ä¼šåœ¨è¯·æ±‚å’Œè§£æHTMLä¹‹åï¼Œæ ¹æ®jsçš„â€œæŒ‡ç¤ºâ€å†å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå¾—åˆ°é¡µé¢å±•ç¤ºçš„å†…å®¹ï¼Œç„¶åé€šè¿‡jsæ¸²æŸ“ä¹‹åå±•ç¤ºåˆ°ç•Œé¢ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™æ ·çš„è¯·æ±‚å¾€å¾€å¾—åˆ°çš„å†…å®¹æ˜¯jsonæ ¼å¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éä½†ä¸ä¼šåŠ é‡çˆ¬è™«çš„ä»»åŠ¡ï¼Œåè€Œå¯èƒ½ä¼šçœå»è§£æHTMLçš„åŠŸå¤«ã€‚<br><br><br>é‚£ä¸ªï¼Œç»§ç»­æ‰“å¼€Chromeçš„å¼€å‘è€…å·¥å…·ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»â€œä¸‹ä¸€é¡µâ€ä¹‹åï¼Œæµè§ˆå™¨å‘é€äº†å¦‚ä¸‹è¯·æ±‚ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843101-98e57df8-c124-4923-aa9f-7c42ce2288b6.png#align=left&display=inline&height=1300&originHeight=1300&originWidth=3356&size=0&status=done&style=none&width=3356" alt><br><br><br>æ³¨æ„è§‚å¯Ÿâ€positionAjax.jsonâ€è¿™ä¸ªè¯·æ±‚ï¼Œå®ƒçš„Typeæ˜¯â€xhrâ€ï¼Œå…¨ç§°å«åšâ€XMLHttpRequestâ€ï¼ŒXMLHttpRequestå¯¹è±¡å¯ä»¥åœ¨ä¸å‘æœåŠ¡å™¨æäº¤æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ç½‘é¡µã€‚é‚£ä¹ˆï¼Œç°åœ¨å®ƒçš„å¯èƒ½æ€§æœ€å¤§äº†ï¼Œæˆ‘ä»¬å•å‡»å®ƒä¹‹åå¥½å¥½è§‚å¯Ÿè§‚å¯Ÿå§ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843056-e12f0f79-905f-4420-abfd-fb85625767ac.png#align=left&display=inline&height=1150&originHeight=1150&originWidth=2266&size=0&status=done&style=none&width=2266" alt><br><br><br>ç‚¹å‡»ä¹‹åæˆ‘ä»¬åœ¨å³ä¸‹è§’å‘ç°äº†å¦‚ä¸Šè¯¦æƒ…ï¼Œå…¶ä¸­å‡ ä¸ªtabçš„å†…å®¹è¡¨ç¤ºï¼š<br>Headersï¼šè¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯<br>Previewï¼šå“åº”ä½“æ ¼å¼åŒ–ä¹‹åçš„æ˜¾ç¤º<br>Responseï¼šå“åº”ä½“åŸå§‹å†…å®¹<br>Cookiesï¼šCookies<br>Timingï¼šæ—¶é—´å¼€é”€<br><br><br>é€šè¿‡å¯¹å†…å®¹çš„è§‚å¯Ÿï¼Œè¿”å›çš„ç¡®å®æ˜¯ä¸€ä¸ªjsonå­—ç¬¦ä¸²ï¼Œå†…å®¹åŒ…æ‹¬æœ¬é¡µæ¯ä¸€ä¸ªæ‹›è˜ä¿¡æ¯ï¼Œåˆ°è¿™é‡Œè‡³å°‘æˆ‘ä»¬å·²ç»æ¸…æ¥šäº†ï¼Œç¡®å®ä¸éœ€è¦è§£æHTMLå°±å¯ä»¥æ‹¿åˆ°æ‹‰é’©æ‹›è˜çš„ä¿¡æ¯äº†ã€‚é‚£ä¹ˆï¼Œè¯·æ±‚è¯¥å¦‚ä½•æ¨¡æ‹Ÿå‘¢ï¼Ÿæˆ‘ä»¬åˆ‡æ¢åˆ°Headersè¿™ä¸€æ ï¼Œç•™æ„ä¸‰ä¸ªåœ°æ–¹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401842263-072689cf-5dea-4f8b-b103-0758d9c5e52e.png#align=left&display=inline&height=262&originHeight=262&originWidth=1276&size=0&status=done&style=none&width=1276" alt><br><br><br>ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ç­‰ä¿¡æ¯ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843887-cf8bff5f-4570-4ad4-8681-f0f3eae929b3.png#align=left&display=inline&height=884&originHeight=884&originWidth=2652&size=0&status=done&style=none&width=2652" alt><br><br><br>ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œä¸€èˆ¬æ¥è®²ï¼Œå…¶ä¸­æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯Cookie / Host / Origin / Referer / User-Agent / X-Requested-Withç­‰å‚æ•°ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585401843009-4797a28d-3070-421e-a45c-86781d7f580d.png#align=left&display=inline&height=188&originHeight=188&originWidth=848&size=0&status=done&style=none&width=848" alt><br><br><br>ä¸Šé¢è¿™å¼ æˆªå›¾å±•ç¤ºäº†è¿™æ¬¡è¯·æ±‚çš„æäº¤æ•°æ®ï¼Œæ ¹æ®è§‚å¯Ÿï¼Œkdè¡¨ç¤ºæˆ‘ä»¬æŸ¥è¯¢çš„å…³é”®å­—ï¼Œpnè¡¨ç¤ºå½“å‰é¡µç ã€‚<br><br><br>é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„çˆ¬è™«éœ€è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯æŒ‰ç…§é¡µç ä¸æ–­å‘è¿™ä¸ªæ¥å£å‘é€è¯·æ±‚ï¼Œå¹¶è§£æå…¶ä¸­çš„jsonå†…å®¹ï¼Œå°†æˆ‘ä»¬éœ€è¦çš„å€¼å­˜å‚¨ä¸‹æ¥å°±å¥½äº†ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™ç»“æŸï¼Œä»¥åŠå¦‚ä½•çš„åˆ°jsonä¸­æœ‰ä»·å€¼çš„å†…å®¹ã€‚<br><br><br>æˆ‘ä»¬å›è¿‡å¤´é‡æ–°è§‚å¯Ÿä¸€ä¸‹è¿”å›çš„jsonï¼Œæ ¼å¼åŒ–ä¹‹åçš„å±‚çº§å…³ç³»å¦‚ä¸‹ï¼š<br><br><br>å¾ˆå®¹æ˜“å‘ç°ï¼Œcontentä¸‹çš„hasNextPageå³ä¸ºæ˜¯å¦å­˜åœ¨ä¸‹ä¸€é¡µï¼Œè€Œcontentä¸‹çš„resultæ˜¯ä¸€ä¸ªlistï¼Œå…¶ä¸­çš„æ¯é¡¹åˆ™æ˜¯ä¸€æ¡æ‹›è˜ä¿¡æ¯ã€‚åœ¨Pythonä¸­ï¼Œjsonå­—ç¬¦ä¸²åˆ°å¯¹è±¡çš„æ˜ å°„å¯ä»¥é€šè¿‡jsonè¿™ä¸ªåº“å®Œæˆï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">json_obj = json.loads(<span class="string">"&#123;'key': 'value'&#125;"</span>)  <span class="comment"># å­—ç¬¦ä¸²åˆ°å¯¹è±¡</span></span><br><span class="line">json_str = json.dumps(json_obj)            <span class="comment"># å¯¹è±¡åˆ°å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><p><br>jsonå­—ç¬¦ä¸²çš„â€[ ]â€œæ˜ å°„åˆ°Pythonçš„ç±»å‹æ˜¯listï¼Œâ€{ }â€æ˜ å°„åˆ°Pythonåˆ™æ˜¯dictã€‚åˆ°è¿™é‡Œï¼Œåˆ†æè¿‡ç¨‹å·²ç»å®Œå…¨ç»“æŸï¼Œå¯ä»¥æ„‰å¿«çš„å†™ä»£ç å•¦ã€‚å…·ä½“ä»£ç è¿™é‡Œä¸å†ç»™å‡ºï¼Œå¸Œæœ›ä½ å¯ä»¥è‡ªå·±ç‹¬ç«‹å®Œæˆï¼Œå¦‚æœåœ¨ç¼–å†™è¿‡ç¨‹ä¸­å­˜åœ¨é—®é¢˜ï¼Œå¯ä»¥è”ç³»æˆ‘è·å–å¸®åŠ©ã€‚<br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠ“å–æ‹‰å‹¾ç½‘Pythonåˆ†ç±»ä¸‹å…¨å›½åˆ°ç›®å‰ä¸ºæ­¢å±•ç¤ºå‡ºæ¥çš„æ‰€æœ‰æ‹›è˜ä¿¡æ¯ï¼Œé¦–å…ˆåœ¨æµè§ˆå™¨ç‚¹å‡»è¿›å»çœ‹çœ‹å§ã€‚å¦‚æœä½ è¶³å¤Ÿå°å¿ƒæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œé‚£ä¹ˆä½ ä¼š
      
    
    </summary>
    
    
      <category term="python" scheme="cpeixin.cn/categories/python/"/>
    
    
      <category term="çˆ¬è™«" scheme="cpeixin.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>shadowsock-vpsæ­å»ºVPN</title>
    <link href="cpeixin.cn/2019/04/19/shadowsock-vps%E6%90%AD%E5%BB%BAVPN/"/>
    <id>cpeixin.cn/2019/04/19/shadowsock-vps%E6%90%AD%E5%BB%BAVPN/</id>
    <published>2019-04-19T15:26:15.000Z</published>
    <updated>2020-04-04T17:11:07.011Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p><a name="-1"></a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿˜æœ‰10å¤©å·¦å³å°±è¦å›å›½äº†ï¼Œç”±äºèŒä¸šçš„éœ€è¦ï¼Œå¯¹Googleçš„ä¾èµ–çš„è¶Šæ¥è¶Šå¤§çš„ï¼Œé‚£ä¹ˆå›å›½åæ€ä¹ˆæ‰èƒ½â€˜ç§‘å­¦ä¸Šç½‘â€™å‘¢ï¼Ÿä¹‹å‰åœ¨å›½å†…çš„æ—¶å€™ï¼Œæœ‰ä½¿ç”¨è¿‡Lanternï¼Œç¨³å®šæ€§å’Œé€Ÿåº¦éƒ½è¿˜æ˜¯ä¸é”™äº†ï¼Œå¯æƒœåæ¥è¢«å’Œè°äº†ã€‚æ‰€ä»¥ä»Šå¤©å‡†å¤‡å°è¯•æ­å»ºVPNï¼Œè‡ªå·±ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸€è¾¹æ­å»ºä¸€è¾¹å°†è¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚<br><a name="-2"></a></p><h1 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h1><p>VPS: VPSï¼ˆVirtual Private Server è™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨ï¼‰æŠ€æœ¯ï¼Œå°†ä¸€å°æœåŠ¡å™¨åˆ†å‰²æˆå¤šä¸ªè™šæ‹Ÿä¸“äº«æœåŠ¡å™¨çš„ä¼˜è´¨æœåŠ¡ã€‚å®ç°VPSçš„æŠ€æœ¯åˆ†ä¸ºå®¹å™¨ [1] æŠ€æœ¯ï¼Œå’Œè™šæ‹ŸåŒ–æŠ€æœ¯ [2] ã€‚åœ¨å®¹å™¨æˆ–è™šæ‹Ÿæœºä¸­ï¼Œæ¯ä¸ªVPSéƒ½å¯åˆ†é…ç‹¬ç«‹å…¬ç½‘IPåœ°å€ã€ç‹¬ç«‹æ“ä½œç³»ç»Ÿã€å®ç°ä¸åŒVPSé—´ç£ç›˜ç©ºé—´ã€å†…å­˜ã€CPUèµ„æºã€è¿›ç¨‹å’Œç³»ç»Ÿé…ç½®çš„éš”ç¦»ï¼Œä¸ºç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæ¨¡æ‹Ÿå‡ºâ€œç‹¬å â€ä½¿ç”¨è®¡ç®—èµ„æºçš„ä½“éªŒã€‚VPSå¯ä»¥åƒç‹¬ç«‹æœåŠ¡å™¨ä¸€æ ·ï¼Œé‡è£…æ“ä½œç³»ç»Ÿï¼Œå®‰è£…ç¨‹åºï¼Œå•ç‹¬é‡å¯æœåŠ¡å™¨ã€‚<br><br><br>VPSä¸ºä½¿ç”¨è€…æä¾›äº†ç®¡ç†é…ç½®çš„è‡ªç”±ï¼Œå¯ç”¨äºä¼ä¸šè™šæ‹ŸåŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºIDCèµ„æºç§Ÿç”¨ã€‚<br><br><br>VPN: VPNçš„å­¦åå«è™šæ‹Ÿä¸“ç”¨ç½‘ï¼Œæ´‹æ–‡å«â€œVirtual Private Networkâ€ã€‚ç»´åŸºç™¾ç§‘çš„ä»‹ç»åœ¨â€œè¿™é‡Œâ€ã€‚æœ¬æ¥è¿™ç©æ„å„¿ä¸»è¦æ˜¯ç”¨äºå•†ä¸šå…¬å¸ï¼Œä¸ºäº†è®©é‚£äº›ä¸åœ¨å…¬å¸é‡Œçš„å‘˜å·¥ï¼ˆæ¯”å¦‚å‡ºå·®åœ¨å¤–çš„ï¼‰èƒ½å¤Ÿæ–¹ä¾¿åœ°è®¿é—®å…¬å¸çš„å†…éƒ¨ç½‘ç»œã€‚ä¸ºäº†é˜²æ­¢é»‘å®¢å†’å……å…¬å¸çš„å‘˜å·¥ï¼Œä»å¤–éƒ¨è®¿é—®å…¬å¸çš„å†…éƒ¨ç½‘ç»œï¼ŒVPN è½¯ä»¶éƒ½ä¼šæä¾›å¼ºå¤§çš„åŠ å¯†åŠŸèƒ½ã€‚è€Œè¿™ä¸ªåŠ å¯†åŠŸèƒ½ï¼Œä¹Ÿå°±è®©å®ƒé¡ºä¾¿æˆä¸ºç¿»å¢™çš„åˆ©å™¨ã€‚<br><a name="-3"></a></p><h1 id="ç§‘å­¦ä¸Šç½‘åŸç†"><a href="#ç§‘å­¦ä¸Šç½‘åŸç†" class="headerlink" title="ç§‘å­¦ä¸Šç½‘åŸç†"></a>ç§‘å­¦ä¸Šç½‘åŸç†</h1><p>VPNæµè§ˆå¤–ç½‘çš„åŸç†<br><br><br>ä½¿ç”¨ VPN é€šå¸¸éœ€è¦å…ˆå®‰è£…å®¢æˆ·ç«¯è½¯ä»¶ã€‚å½“ä½ è¿è¡Œ VPN å®¢æˆ·ç«¯ï¼Œå®ƒä¼šå°è¯•è”åˆ° VPN æœåŠ¡å™¨ï¼ˆè¿™ç‚¹è·ŸåŠ å¯†ä»£ç†ç±»ä¼¼ï¼‰ã€‚ä¸€æ—¦å’Œ VPN æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒVPN å®¢æˆ·ç«¯å°±ä¼šåœ¨ä½ çš„ç³»ç»Ÿä¸­å»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ã€‚è€Œä¸”ï¼Œä½ çš„ç³»ç»Ÿä¸­ä¹Ÿä¼šå¤šå‡ºä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼ˆåœ¨ Windows ä¸‹ï¼Œå¯ä»¥ç”¨ ipconfig /all å‘½ä»¤ï¼Œçœ‹åˆ°è¿™å¤šå‡ºæ¥çš„ç½‘å¡ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ çš„ç³»ç»Ÿä¸­å°±æœ‰ä¸æ­¢ä¸€å—ç½‘å¡ã€‚è¿™å°±å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼šé‚£äº›è®¿é—®ç½‘ç»œçš„ç¨‹åºï¼Œå®ƒçš„æ•°æ®æµåº”è¯¥é€šè¿‡å“ªä¸ªç½‘å¡è¿›å‡ºï¼Ÿ<br>ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼ŒVPN å®¢æˆ·ç«¯é€šå¸¸ä¼šä¿®æ”¹ä½ ç³»ç»Ÿçš„è·¯ç”±è¡¨ï¼Œè®©é‚£äº›æ•°æ®æµï¼Œä¼˜å…ˆä»è™šæ‹Ÿçš„ç½‘å¡è¿›å‡ºã€‚ç”±äºè™šæ‹Ÿçš„ç½‘å¡æ˜¯é€šå¾€ VPN æœåŠ¡å™¨çš„ï¼Œå½“æ•°æ®æµåˆ°è¾¾ VPN æœåŠ¡å™¨ä¹‹åï¼ŒVPN æœåŠ¡å™¨å†å¸®ä½ æŠŠæ•°æ®æµè½¬å‘åˆ°çœŸæ­£çš„ç›®çš„åœ°ã€‚<br><br><br>å‰é¢è¯´äº†ï¼ŒVPN ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œéƒ½é‡‡ç”¨å¼ºåŠ å¯†çš„æ–¹å¼ä¼ è¾“æ•°æ®ã€‚è¿™æ ·ä¸€æ¥ï¼ŒGFW å°±æ— æ³•åˆ†æä½ çš„ç½‘ç»œæ•°æ®æµï¼Œè¿›è¡Œæ•æ„Ÿè¯è¿‡æ»¤ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨å¢™å¤–çš„VPNæœåŠ¡å™¨ï¼Œæ— å½¢ä¸­å°±èƒ½è¾¾åˆ°ç¿»å¢™çš„æ•ˆæœã€‚<br><a name="-4"></a></p><h1 id="æ–¹æ¡ˆé€‰æ‹©"><a href="#æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="æ–¹æ¡ˆé€‰æ‹©"></a>æ–¹æ¡ˆé€‰æ‹©</h1><p>VPNæ˜¯ä¸€ä¸ªå¤§ç±»ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šå®ç°çš„æ–¹æ³•ï¼Œé˜²ç«é•¿åŸç°åœ¨å°† VPN å±è”½çš„å·²ç»æ‰€å‰©æ— å‡ ï¼Œåæ¥å¤§å®¶çœ‹åˆ°äº†SSHï¼Œä½¿ç”¨SSHçš„sock5å¾ˆç¨³å®šï¼Œä½†æ˜¯ç‰¹å¾ä¹Ÿååˆ†æ˜æ˜¾ï¼Œé˜²ç«é•¿åŸå¯ä»¥å¯¹å…¶ç›´æ¥è¿›è¡Œå®šå‘å¹²æ‰°ã€‚<br><br><br>è€Œé™¤äº†VPNï¼Œå¯¹äºç¿»å¢™å¤§å®¶ä»ç„¶æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚Shadowsocks ã€Lanternã€VPNGate ç­‰ç­‰ï¼Œè€Œå®é™…ä¸Šæ— è®ºå“ªç§æ–¹å¼ï¼Œä»–ä»¬æœ¬èº«éƒ½éœ€è¦ä¸€å°æœåŠ¡å™¨ä½œä¸ºä¸­é—´äººè¿›è¡Œæ¶ˆæ¯ä¼ é€’ã€‚è€ŒVPSè™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨å°±ååˆ†é€‚åˆæ‹…å½“è¿™ä¸ªè§’è‰²ï¼Œå¹¶ä¸”ç”±äºVPSå¹³æ—¶å°±ä½œä¸ºå•†å“åœ¨å„ç±»äº‘æœåŠ¡å™¨å¹³å°ä¸Šå”®å–ï¼Œè‡ªè¡Œè´­ä¹°å¹¶æ­å»ºç›¸å½“æ–¹ä¾¿ï¼Œå”¯ä¸€éœ€è¦çš„å°±æ˜¯äººä»¬å¯¹äºæœåŠ¡å™¨çš„æ“ä½œæŠ€æœ¯ã€‚<br><br><br><strong>è€Œè¿™æ¬¡é€‰æ‹©çš„æ–¹æ¡ˆæ˜¯ï¼šVPS+Shadowsocks</strong><br>**<br>Shadowsocksç‰¹ç‚¹ï¼š<br><br><br>çœç”µï¼Œåœ¨ç”µé‡æŸ¥çœ‹é‡Œå‡ ä¹çœ‹ä¸åˆ°å®ƒçš„èº«å½±ï¼›<br><br><br>æ”¯æŒå¼€æœºè‡ªå¯åŠ¨ï¼Œä¸”æ–­ç½‘æ— å½±å“ï¼Œæ— éœ€æ‰‹åŠ¨é‡è¿ï¼Œæ–¹ä¾¿ç½‘ç»œä¸ç¨³å®šæˆ–è€…3G&amp;Wi-Fié¢‘ç¹åˆ‡æ¢çš„å°ä¼™ä¼´ï¼›<br><br><br>å¯ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå®‰å…¨å’Œé€Ÿåº¦çš„ä¿è¯ï¼›<br><br><br>æ”¯æŒåŒºåˆ†å›½å†…å¤–æµé‡ï¼Œä¼ ç»ŸVPNåœ¨ç¿»å‡ºå¢™å¤–åè®¿é—®å›½å†…ç«™ç‚¹ä¼šå˜æ…¢ï¼›<br><br><br>å¯å¯¹åº”ç”¨è®¾ç½®å•ç‹¬ä»£ç†ï¼Œ5.0ä¹‹åçš„ç³»ç»Ÿæ— éœ€rootã€‚<br><br><br>Shadowsocks ç›®å‰ä¸å®¹æ˜“è¢«å°æ€ä¸»è¦æ˜¯å› ä¸ºï¼š<br>å»ºç«‹åœ¨socks5åè®®ä¹‹ä¸Šï¼Œsocks5æ˜¯è¿ç”¨å¾ˆå¹¿æ³›çš„åè®®ï¼Œæ‰€ä»¥æ²¡åŠæ³•ç›´æ¥å°æ€socks5åè®®<br>ä½¿ç”¨socks5åè®®å»ºç«‹è¿æ¥ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨VPNä¸­çš„æœåŠ¡ç«¯èº«ä»½éªŒè¯å’Œå¯†é’¥åå•†è¿‡ç¨‹ã€‚è€Œæ˜¯åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç›´æ¥å†™æ­»å¯†é’¥å’ŒåŠ å¯†ç®—æ³•ã€‚æ‰€ä»¥é˜²ç«å¢™å¾ˆéš¾æ‰¾åˆ°æ˜æ˜¾çš„ç‰¹å¾ï¼Œå› ä¸ºè¿™å°±æ˜¯ä¸ªæ™®é€šçš„socks5åè®®ã€‚<br><br><br>Shadowsockæ­å»ºä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å¾ˆå¤šäººè‡ªå·±æ¶è®¾VPSæ­å»ºï¼Œä¸ªäººä½¿ç”¨æµé‡ä¹Ÿå¾ˆå°ï¼Œæ²¡æ³•é€šè¿‡æµé‡ç›‘æ§æ–¹å¼å°æ€ã€‚<br>è‡ªå®šä¹‰åŠ å¯†æ–¹å¼å’Œå¯†é’¥ã€‚å› ä¸ºåŠ å¯†ä¸»è¦ä¸»è¦æ˜¯é˜²æ­¢è¢«æ£€æµ‹ï¼Œæ‰€ä»¥è¦é€‰æ‹©å®‰å…¨ç³»æ•°é«˜çš„åŠ å¯†æ–¹å¼ã€‚ä¹‹å‰RC4ä¼šå¾ˆå®¹æ˜“è¢«ç ´è§£ï¼Œè€Œå¯¼è‡´è¢«å°æ€ã€‚æ‰€ä»¥ç°åœ¨æ¨èä½¿ç”¨AESåŠ å¯†ã€‚è€Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è‡ªå®šä¹‰å¯†é’¥ï¼Œæ³„éœ²çš„é£é™©ç›¸å¯¹è¾ƒå°ã€‚<br>æ‰€ä»¥å¦‚æœæ˜¯è‡ªå·±æ­å»ºçš„Shadosocksè¢«å°çš„æ¦‚ç‡å¾ˆå°ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹çš„Shadeowsocksï¼Œå¯†ç æ˜¯serverå®šçš„ï¼Œä½ çš„æ•°æ®å¾ˆå¯èƒ½é­å—åˆ°ä¸­é—´äººæ”»å‡»ã€‚<br><a name="-5"></a></p><h1 id="å¼€å·¥"><a href="#å¼€å·¥" class="headerlink" title="å¼€å·¥"></a>å¼€å·¥</h1><p><a name="vps"></a></p><h2 id="è´­ä¹°vps"><a href="#è´­ä¹°vps" class="headerlink" title="è´­ä¹°vps"></a>è´­ä¹°vps</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è´­ä¹°ä¸€å°å¢ƒå¤–çš„æœåŠ¡å™¨ï¼Œæ¥ç€æˆ‘ä»¬åœ¨è¿™å°äº‘æœåŠ¡å™¨é‡Œé¢å®‰è£…ä»£ç†æœåŠ¡ï¼Œé‚£ä¹ˆä»¥åæˆ‘ä»¬ä¸Šç½‘çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡å®ƒæ¥ä¸­è½¬ï¼Œè½»æ¾ç•…å¿«çš„ç•…æ¸¸å…¨ç½‘äº†ã€‚<br>è´­ä¹°VPS,æˆ‘é€‰æ‹©äº†<a href="https://www.vultr.com/" target="_blank" rel="external nofollow noopener noreferrer">vultr</a>ï¼Œå¤§å®¶ç”¨è¿‡éƒ½è¯´å¥½ï¼Œè´­ä¹°çš„è¿‡ç¨‹ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚<br><br><br>ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©ç¦»ä¸­å›½è¾ƒè¿‘å›½å®¶çš„æœåŠ¡å™¨ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400540784-be727007-a613-4b5b-a3d5-9b5fbf9734a7.png#align=left&display=inline&height=1468&name=step1.png&originHeight=1468&originWidth=3066&size=659813&status=done&style=none&width=3066" alt="step1.png"><br><br><br><br><br>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æœåŠ¡å™¨é…ç½®å’Œç³»ç»Ÿ<br><br><br>è¿™é‡Œï¼Œç³»ç»Ÿé€‰æ‹©çš„æ˜¯CentOS 7,é…ç½®çš„è¯ï¼Œå¦‚æœåªæ˜¯è‡ªå·±æµè§ˆç½‘é¡µçš„è¯ï¼Œé€‰æ‹©æœ€ä½é…ç½®å°±å¥½ã€‚å…¶ä»–çš„é€‰é¡¹å¯ä»¥ç•¥è¿‡ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400556831-e2446e46-8c7e-4292-97a8-b89e6d983c9c.png#align=left&display=inline&height=1594&name=step2.png&originHeight=1594&originWidth=2792&size=669959&status=done&style=none&width=2792" alt="step2.png"><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235703-e6afdea2-828f-42a0-a955-67960c8710bc.png#align=left&display=inline&height=1812&originHeight=1812&originWidth=2600&size=0&status=done&style=none&width=2600" alt><br><br><br>ç¬¬ä¸‰æ­¥ï¼šæ”¯ä»˜å’Œéƒ¨ç½²<br><br><br>æ”¯ä»˜å¯ä»¥é€‰æ‹©æ”¯ä»˜å®æ”¯ä»˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚è´­ä¹°æˆåŠŸåï¼Œç‚¹å‡»Serverä¸­çš„â€œ+â€å·ï¼Œæ¥éƒ¨ç½²ä½ åˆšåˆšé€‰æ‹©çš„æœåŠ¡å™¨ã€‚<br>ç¬¬å››æ­¥ï¼šç™»é™†æœåŠ¡å™¨<br><br><br>æŸ¥çœ‹æœåŠ¡å™¨è¯¦æƒ… Server Details,æ ¹æ®æä¾›çš„æœåŠ¡å™¨ä¿¡æ¯ï¼Œç™»é™†æœåŠ¡å™¨ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235150-95a87ca7-8392-404e-a5d9-c4a606b8ae7e.png#align=left&display=inline&height=1166&originHeight=1166&originWidth=2728&size=0&status=done&style=none&width=2728" alt><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235639-e36e0afa-200d-49ad-a324-350004d08d09.png#align=left&display=inline&height=1232&originHeight=1232&originWidth=2612&size=0&status=done&style=none&width=2612" alt><br><br><br>æˆ‘æ˜¯ä½¿ç”¨Macæœ¬èº«ç»ˆç«¯sshåˆ°æœåŠ¡å™¨ä¸Šçš„ï¼Œå› ä¸ºMacä¸Šå¤šæ•°çš„SSHå®¢æˆ·ç«¯è¦ä¹ˆæ”¶è´¹ï¼Œè¦ä¹ˆä¸å¥½ç”¨ï¼Œè¦ä¹ˆå®‰è£…è¿‡ç¨‹éå¸¸ç¹çã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p <span class="number">22</span> root@ip</span><br></pre></td></tr></table></figure><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235316-408c45f7-df95-4c8c-9428-9f476c6c7190.png#align=left&display=inline&height=244&originHeight=244&originWidth=1304&size=0&status=done&style=none&width=1304" alt><br><a name="shadowsocks"></a></p><h2 id="æ­å»ºshadowsocksæœåŠ¡å™¨"><a href="#æ­å»ºshadowsocksæœåŠ¡å™¨" class="headerlink" title="æ­å»ºshadowsocksæœåŠ¡å™¨"></a>æ­å»ºshadowsocksæœåŠ¡å™¨</h2><p>è¿æ¥åˆ°ä½ çš„ vultr æœåŠ¡å™¨ä¹‹åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨å‡ ä¸ªå‘½ä»¤è®©ä½ å¿«é€Ÿæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ ss æœåŠ¡å™¨ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install wget</span><br></pre></td></tr></table></figure><p><br>æ¥ç€æ‰§è¡Œå®‰è£…shadowsocksï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget â€“no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</span><br></pre></td></tr></table></figure><p><br>è·å– <a href="http://shadowsocks.sh/" target="_blank" rel="external nofollow noopener noreferrer">shadowsocks.sh</a> è¯»å–æƒé™ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x shadowsocks.sh</span><br></pre></td></tr></table></figure><p><br>è®¾ç½®ä½ çš„ ss å¯†ç å’Œç«¯å£å·ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./shadowsocks.sh <span class="number">2</span>&gt;&amp;<span class="number">1</span> | tee shadowsocks.log</span><br></pre></td></tr></table></figure><p><br>æ¥ä¸‹æ¥åå°±å¯ä»¥è®¾ç½®å¯†ç å’Œç«¯å£å·äº†<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400236071-267db22c-ea03-4f8b-969d-86ae5efc4d68.png#align=left&display=inline&height=306&originHeight=306&originWidth=1086&size=0&status=done&style=none&width=1086" alt><br><br><br>å¯†ç å’Œç«¯å£å·å¯ä»¥ä½¿ç”¨é»˜è®¤çš„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é‡æ–°è¾“å…¥æ–°çš„ã€‚<br>é€‰æ‹©åŠ å¯†æ–¹å¼<br><br><br>è®¾ç½®å®Œå¯†ç å’Œç«¯å£å·ä¹‹åï¼Œæˆ‘ä»¬é€‰æ‹©åŠ å¯†æ–¹å¼ï¼Œè¿™é‡Œé€‰æ‹© 7 ï¼Œä½¿ç”¨aes-256-cfbçš„åŠ å¯†æ¨¡å¼<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235435-525e1564-eb61-47e0-b9b1-a28683979702.png#align=left&display=inline&height=684&originHeight=684&originWidth=914&size=0&status=done&style=none&width=914" alt><br><br><br>æ¥ç€æŒ‰ä»»æ„é”®è¿›è¡Œå®‰è£…ã€‚<br>å®‰è£…sså®Œæˆå<br><br><br>ä¼šç»™ä½ æ˜¾ç¤ºä½ éœ€è¦è¿æ¥ vpn çš„ä¿¡æ¯ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400239145-4d70810e-bc73-4cfa-bc8c-4da35e3e0dcf.png#align=left&display=inline&height=464&originHeight=464&originWidth=1186&size=0&status=done&style=none&width=1186" alt><br>æå®šï¼Œå°†è¿™äº›ä¿¡æ¯ä¿å­˜èµ·æ¥ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç§‘å­¦ä¸Šç½‘å•¦ã€‚<br><a name="bbr"></a></p><h2 id="ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘"><a href="#ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘" class="headerlink" title="ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘"></a>ä½¿ç”¨BBRåŠ é€Ÿä¸Šç½‘</h2><p>å®‰è£… BBR<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh</span><br></pre></td></tr></table></figure><p><br>è·å–è¯»å†™æƒé™<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x bbr.sh</span><br></pre></td></tr></table></figure><p><br>å¯åŠ¨BBRå®‰è£…<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bbr.sh</span><br></pre></td></tr></table></figure><p><br>æ¥ç€æŒ‰ä»»æ„é”®ï¼Œå¼€å§‹å®‰è£…ï¼Œåç­‰ä¸€ä¼šã€‚å®‰è£…å®Œæˆä¸€ä¼šä¹‹åå®ƒä¼šæç¤ºæˆ‘ä»¬æ˜¯å¦é‡æ–°å¯åŠ¨vpsï¼Œæˆ‘ä»¬è¾“å…¥ y ç¡®å®šé‡å¯æœåŠ¡å™¨ã€‚<br>é‡æ–°å¯åŠ¨ä¹‹åï¼Œè¾“å…¥ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p><br>å¦‚æœçœ‹åˆ° tcp_bbr å°±è¯´æ˜ BBR å·²ç»å¯åŠ¨äº†ã€‚<br><a name="-6"></a></p><h2 id="å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥"><a href="#å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥" class="headerlink" title="å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥"></a>å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥</h2><p><a name="windowsshadowsocks"></a></p><h3 id="windowsä½¿ç”¨Shadowsocks"><a href="#windowsä½¿ç”¨Shadowsocks" class="headerlink" title="windowsä½¿ç”¨Shadowsocks"></a>windowsä½¿ç”¨Shadowsocks</h3><p>windowsç‚¹å‡»ä¸‹è½½ï¼š<a href="https://pan.baidu.com/s/19m0AfTkPDSRj0bfYrGpbIg" target="_blank" rel="external nofollow noopener noreferrer">Shadowsocks windowså®¢æˆ·ç«¯</a><br>æ‰“å¼€ Shadowsocks å®¢æˆ·ç«¯ï¼Œè¾“å…¥ipåœ°å€ï¼Œå¯†ç ï¼Œç«¯å£ï¼Œå’ŒåŠ å¯†æ–¹å¼ã€‚æ¥ç€ç‚¹å‡»ç¡®å®šï¼Œå³ä¸‹è§’ä¼šæœ‰ä¸ªå°é£æœºæŒ‰é’®ï¼Œå³é”®â€“&gt;å¯åŠ¨ä»£ç†ã€‚<br><a name="androidshadowsocks"></a></p><h3 id="Androidä½¿ç”¨Shadowsocks"><a href="#Androidä½¿ç”¨Shadowsocks" class="headerlink" title="Androidä½¿ç”¨Shadowsocks"></a>Androidä½¿ç”¨Shadowsocks</h3><p>Androidç‚¹å‡»ä¸‹è½½ï¼š<a href="https://pan.baidu.com/s/1coAkZn-GuYHu5eIKaHECxA" target="_blank" rel="external nofollow noopener noreferrer">Shadowsocks Androidå®¢æˆ·ç«¯</a><br>æ‰“å¼€apkå®‰è£…ï¼Œæ¥ç€æ‰“å¼€APPï¼Œè¾“å…¥ipåœ°å€ï¼Œå¯†ç ï¼Œç«¯å£ï¼Œå’ŒåŠ å¯†æ–¹å¼ã€‚å³å¯ç§‘å­¦ä¸Šç½‘ã€‚<br><a name="iphoneshadowsocks"></a></p><h3 id="iPhoneä½¿ç”¨Shadowsocks"><a href="#iPhoneä½¿ç”¨Shadowsocks" class="headerlink" title="iPhoneä½¿ç”¨Shadowsocks"></a>iPhoneä½¿ç”¨Shadowsocks</h3><p>iPhoneè¦ä¸‹è½½çš„appéœ€è¦åœ¨appstoreä¸‹è½½ï¼Œä½†æ˜¯éœ€è¦ç”¨ç¾åŒºè´¦å·æ‰èƒ½ä¸‹è½½ï¼Œè€Œä¸”è¿™ä¸ªAPPéœ€è¦é’±ã€‚åœ¨è¿™é‡Œæä¾›ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯å¯ä»¥å†æ­å»ºä¸€ä¸ª<a href="https://wistbean.github.io/ipsec,l2tp_vpn.html#%E4%BD%BF%E7%94%A8-IPsec-L2TP-%E8%84%9A%E6%9C%AC%E6%90%AD%E5%BB%BA" target="_blank" rel="external nofollow noopener noreferrer">IPsec/L2TP</a> VPN,ä¸“é—¨ç»™ä½ çš„iPhoneä½¿ç”¨ã€‚<br><a name="mac"></a></p><h3 id="Macé…ç½®"><a href="#Macé…ç½®" class="headerlink" title="Macé…ç½®"></a>Macé…ç½®</h3><p>ç”¨çš„æ˜¯Macç”µè„‘ï¼Œæ‰€ä»¥ç‚¹å‡»ç›¸å…³é“¾æ¥ã€‚ä¸œè¥¿éƒ½æŒ‚åœ¨githubä¸Šï¼Œä¸‹è½½å¯¹åº”çš„zipæ–‡ä»¶ï¼Œä¸‹è½½å®Œæˆåå®‰è£…å¹¶è¿è¡Œèµ·æ¥ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235178-7ccd25cd-8b34-4103-8cc8-204e84672cfe.png#align=left&display=inline&height=748&originHeight=748&originWidth=1302&size=0&status=done&style=none&width=1302" alt><br><br><br>ç‚¹å‡»å›¾æ ‡ï¼Œè¿›å…¥ æœåŠ¡å™¨è®¾ç½®<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400239120-45698c54-ac3b-48b9-9c4d-9f3537938f87.png#align=left&display=inline&height=926&originHeight=926&originWidth=1302&size=0&status=done&style=none&width=1302" alt><br><br><br>ä¸»è¦æœ‰å››ä¸ªåœ°æ–¹è¦å¡«ï¼ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œç«¯å£å·ï¼ŒåŠ å¯†æ–¹æ³•ï¼Œå¯†ç ã€‚æœåŠ¡å™¨åœ°å€å³ä¸ºä¹‹å‰ Main controlsé€‰é¡¹ä¸­çš„IPåœ°å€ã€‚ç«¯å£å·ã€åŠ å¯†æ–¹æ³•ã€å¯†ç å¿…é¡»ä¸ä¹‹å‰ Shadowsocks Server ä¸­çš„ä¿¡æ¯ä¸€ä¸€åŒ¹é…ï¼Œå¦åˆ™ä¼šè¿æ¥å¤±è´¥ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585400235629-2861fc8f-5bfc-4610-993f-49064774e693.png#align=left&display=inline&height=1156&originHeight=1156&originWidth=1292&size=0&status=done&style=none&width=1292" alt><br><br><br>è®¾ç½®å®Œæˆåç‚¹å‡»ç¡®å®šï¼Œç„¶åæœåŠ¡å™¨é€‰æ‹©è¿™ä¸ªé…ç½®ï¼Œé»˜è®¤é€‰ä¸­PACè‡ªåŠ¨æ¨¡å¼ï¼Œç¡®ä¿ShadowsocksçŠ¶æ€ä¸ºOnï¼Œè¿™æ—¶å€™æ‰“å¼€è°·æ­Œè¯•è¯•~<br>æ¥ç€å°±å¯ä»¥ä¸Šå¤–ç½‘äº† ğŸ˜‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;&lt;a name=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="cpeixin.cn/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="shadowsock" scheme="cpeixin.cn/tags/shadowsock/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ - PageRank å®æˆ˜</title>
    <link href="cpeixin.cn/2019/03/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%20-%20PageRank-%E5%AE%9E%E6%88%98/"/>
    <id>cpeixin.cn/2019/03/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%20-%20PageRank-%E5%AE%9E%E6%88%98/</id>
    <published>2019-03-12T16:17:42.000Z</published>
    <updated>2020-04-06T16:19:44.167Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>ä¸Šæ–‡è®²äº† PageRank ç®—æ³•ç»å¸¸è¢«ç”¨åˆ°ç½‘ç»œå…³ç³»çš„åˆ†æä¸­ï¼Œæ¯”å¦‚åœ¨ç¤¾äº¤ç½‘ç»œä¸­è®¡ç®—ä¸ªäººçš„å½±å“åŠ›ï¼Œè®¡ç®—è®ºæ–‡çš„å½±å“åŠ›æˆ–è€…ç½‘ç«™çš„å½±å“åŠ›ç­‰ã€‚<br><br><br>ä»Šå¤©æˆ‘ä»¬å°±æ¥åšä¸€ä¸ªå…³äº PageRank ç®—æ³•çš„å®æˆ˜ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œä½ éœ€è¦æ€è€ƒä¸‰ä¸ªé—®é¢˜ï¼š<br></p><ul><li>å¦‚ä½•ä½¿ç”¨å·¥å…·å®Œæˆ PageRank ç®—æ³•ï¼ŒåŒ…æ‹¬ä½¿ç”¨å·¥å…·åˆ›å»ºç½‘ç»œå›¾ï¼Œè®¾ç½®èŠ‚ç‚¹ã€è¾¹ã€æƒé‡ç­‰ï¼Œå¹¶é€šè¿‡åˆ›å»ºå¥½çš„ç½‘ç»œå›¾è®¡ç®—èŠ‚ç‚¹çš„ PR å€¼ï¼›</li><li>å¯¹äºä¸€ä¸ªå®é™…çš„é¡¹ç›®ï¼Œæ¯”å¦‚å¸Œæ‹‰é‡Œçš„ 9306 å°é‚®ä»¶ï¼ˆå·¥å…·åŒ…ä¸­é‚®ä»¶çš„æ•°é‡ï¼‰ï¼Œå¦‚ä½•ä½¿ç”¨ PageRank ç®—æ³•æŒ–æ˜å‡ºæœ‰å½±å“åŠ›çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”ç»˜åˆ¶ç½‘ç»œå›¾ï¼›</li><li>å¦‚ä½•å¯¹åˆ›å»ºå¥½çš„ç½‘ç»œå›¾è¿›è¡Œå¯è§†åŒ–ï¼Œå¦‚æœç½‘ç»œä¸­çš„èŠ‚ç‚¹æ•°è¾ƒå¤šï¼Œå¦‚ä½•ç­›é€‰é‡è¦çš„èŠ‚ç‚¹è¿›è¡Œå¯è§†åŒ–ï¼Œä»è€Œå¾—åˆ°ç²¾ç®€çš„ç½‘ç»œå…³ç³»å›¾ã€‚</li></ul><p><a name="C1FCw"></a></p><h3 id="å¦‚ä½•ä½¿ç”¨å·¥å…·å®ç°-PageRank-ç®—æ³•"><a href="#å¦‚ä½•ä½¿ç”¨å·¥å…·å®ç°-PageRank-ç®—æ³•" class="headerlink" title="å¦‚ä½•ä½¿ç”¨å·¥å…·å®ç° PageRank ç®—æ³•"></a>å¦‚ä½•ä½¿ç”¨å·¥å…·å®ç° PageRank ç®—æ³•</h3><p><br>PageRank ç®—æ³•å·¥å…·åœ¨ sklearn ä¸­å¹¶ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ–°çš„å·¥å…·åŒ…ã€‚å®é™…ä¸Šæœ‰ä¸€ä¸ªå…³äºå›¾è®ºå’Œç½‘ç»œå»ºæ¨¡çš„å·¥å…·å« NetworkXï¼Œå®ƒæ˜¯ç”¨ Python è¯­è¨€å¼€å‘çš„å·¥å…·ï¼Œå†…ç½®äº†å¸¸ç”¨çš„å›¾ä¸ç½‘ç»œåˆ†æç®—æ³•ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œç½‘ç»œæ•°æ®åˆ†æã€‚ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä¸¾äº†ä¸€ä¸ªç½‘é¡µæƒé‡çš„ä¾‹å­ï¼Œå‡è®¾ä¸€å…±æœ‰ 4 ä¸ªç½‘é¡µ Aã€Bã€Cã€Dï¼Œå®ƒä»¬ä¹‹é—´çš„é“¾æ¥ä¿¡æ¯å¦‚å›¾æ‰€ç¤ºï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586188618330-36c3f9f2-d635-4069-9294-b9e7c9b4fdd3.png#align=left&display=inline&height=1171&name=47e5f21d16b15a98d4a32a73ebd477ea.png&originHeight=1171&originWidth=1711&size=1022493&status=done&style=none&width=1711" alt="47e5f21d16b15a98d4a32a73ebd477ea.png"><br><br><br>é’ˆå¯¹è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬çœ‹ä¸‹ç”¨ NetworkX å¦‚ä½•è®¡ç®— Aã€Bã€Cã€D å››ä¸ªç½‘é¡µçš„ PR å€¼ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="comment"># åˆ›å»ºæœ‰å‘å›¾</span></span><br><span class="line">G = nx.DiGraph() </span><br><span class="line"><span class="comment"># æœ‰å‘å›¾ä¹‹é—´è¾¹çš„å…³ç³»</span></span><br><span class="line">edges = [(<span class="string">"A"</span>, <span class="string">"B"</span>), (<span class="string">"A"</span>, <span class="string">"C"</span>), (<span class="string">"A"</span>, <span class="string">"D"</span>), (<span class="string">"B"</span>, <span class="string">"A"</span>), (<span class="string">"B"</span>, <span class="string">"D"</span>), (<span class="string">"C"</span>, <span class="string">"A"</span>), (<span class="string">"D"</span>, <span class="string">"B"</span>), (<span class="string">"D"</span>, <span class="string">"C"</span>)]</span><br><span class="line"><span class="keyword">for</span> edge <span class="keyword">in</span> edges:</span><br><span class="line">    G.add_edge(edge[<span class="number">0</span>], edge[<span class="number">1</span>])</span><br><span class="line">pagerank_list = nx.pagerank(G, alpha=<span class="number">1</span>)</span><br><span class="line">print(<span class="string">"pagerankå€¼æ˜¯ï¼š"</span>, pagerank_list)</span><br></pre></td></tr></table></figure><p><br>ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pagerankå€¼æ˜¯ï¼š &#123;&#39;A&#39;: 0.33333396911621094, &#39;B&#39;: 0.22222201029459634, &#39;C&#39;: 0.22222201029459634, &#39;D&#39;: 0.22222201029459634&#125;</span><br></pre></td></tr></table></figure><p><br>æˆ‘ä»¬é€šè¿‡ NetworkX åˆ›å»ºäº†ä¸€ä¸ªæœ‰å‘å›¾ä¹‹åï¼Œè®¾ç½®äº†èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ï¼Œç„¶åä½¿ç”¨ PageRank å‡½æ•°å°±å¯ä»¥æ±‚å¾—èŠ‚ç‚¹çš„ PR å€¼ï¼Œç»“æœå’Œä¸ŠèŠ‚è¯¾ä¸­æˆ‘ä»¬äººå·¥æ¨¡æ‹Ÿçš„ç»“æœä¸€è‡´ã€‚å¥½äº†ï¼Œè¿è¡Œå®Œè¿™ä¸ªä¾‹å­ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ NetworkX å·¥å…·éƒ½æœ‰å“ªäº›å¸¸ç”¨çš„æ“ä½œã€‚<br><br><br>1. å…³äºå›¾çš„åˆ›å»º<br><br><br>å›¾å¯ä»¥åˆ†ä¸ºæ— å‘å›¾å’Œæœ‰å‘å›¾ï¼Œåœ¨ NetworkX ä¸­åˆ†åˆ«é‡‡ç”¨ä¸åŒçš„å‡½æ•°è¿›è¡Œåˆ›å»ºã€‚æ— å‘å›¾æŒ‡çš„æ˜¯ä¸ç”¨èŠ‚ç‚¹ä¹‹é—´çš„è¾¹çš„æ–¹å‘ï¼Œä½¿ç”¨ nx.Graph() è¿›è¡Œåˆ›å»ºï¼›æœ‰å‘å›¾æŒ‡çš„æ˜¯èŠ‚ç‚¹ä¹‹é—´çš„è¾¹æ˜¯æœ‰æ–¹å‘çš„ï¼Œä½¿ç”¨ nx.DiGraph() æ¥åˆ›å»ºã€‚åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­˜åœ¨ Aâ†’D çš„è¾¹ï¼Œä½†ä¸å­˜åœ¨ Dâ†’A çš„è¾¹ã€‚<br><br><br>2. å…³äºèŠ‚ç‚¹çš„å¢åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢<br><br><br>å¦‚æœæƒ³åœ¨ç½‘ç»œä¸­å¢åŠ èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ G.add_node(â€˜Aâ€™) æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ G.add_nodes_from([â€˜Bâ€™,â€˜Câ€™,â€˜Dâ€™,â€˜Eâ€™]) æ·»åŠ èŠ‚ç‚¹é›†åˆã€‚å¦‚æœæƒ³è¦åˆ é™¤èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ G.remove_node(node) åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ G.remove_nodes_from([â€˜Bâ€™,â€˜Câ€™,â€˜Dâ€™,â€˜Eâ€™]) åˆ é™¤é›†åˆä¸­çš„èŠ‚ç‚¹ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹å‘¢ï¼Ÿå¦‚æœä½ æƒ³è¦å¾—åˆ°å›¾ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œå°±å¯ä»¥ä½¿ç”¨ G.nodes()ï¼Œä¹Ÿå¯ä»¥ç”¨ G.number_of_nodes() å¾—åˆ°å›¾ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚<br><br><br>3. å…³äºè¾¹çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥è¯¢<br><br><br>å¢åŠ è¾¹ä¸æ·»åŠ èŠ‚ç‚¹çš„æ–¹å¼ç›¸åŒï¼Œä½¿ç”¨ G.add_edge(â€œAâ€, â€œBâ€) æ·»åŠ æŒ‡å®šçš„â€œä» A åˆ° Bâ€çš„è¾¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ add_edges_from å‡½æ•°ä»è¾¹é›†åˆä¸­æ·»åŠ ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åšä¸€ä¸ªåŠ æƒå›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¾¹æ˜¯å¸¦æœ‰æƒé‡çš„ï¼Œä½¿ç”¨ add_weighted_edges_from å‡½æ•°ä»å¸¦æœ‰æƒé‡çš„è¾¹çš„é›†åˆä¸­æ·»åŠ ã€‚åœ¨è¿™ä¸ªå‡½æ•°çš„å‚æ•°ä¸­æ¥æ”¶çš„æ˜¯ 1 ä¸ªæˆ–å¤šä¸ªä¸‰å…ƒç»„[u,v,w]ä½œä¸ºå‚æ•°ï¼Œuã€vã€w åˆ†åˆ«ä»£è¡¨èµ·ç‚¹ã€ç»ˆç‚¹å’Œæƒé‡ã€‚<br><br><br>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ remove_edge å‡½æ•°å’Œ remove_edges_from å‡½æ•°åˆ é™¤æŒ‡å®šè¾¹å’Œä»è¾¹é›†åˆä¸­åˆ é™¤ã€‚<br><br><br>å¦å¤–å¯ä»¥ä½¿ç”¨ edges() å‡½æ•°è®¿é—®å›¾ä¸­æ‰€æœ‰çš„è¾¹ï¼Œä½¿ç”¨ number_of_edges() å‡½æ•°å¾—åˆ°å›¾ä¸­è¾¹çš„ä¸ªæ•°ã€‚<br><br><br>ä»¥ä¸Šæ˜¯å…³äºå›¾çš„åŸºæœ¬æ“ä½œï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå›¾ï¼Œå¹¶ä¸”å¯¹èŠ‚ç‚¹å’Œè¾¹è¿›è¡Œäº†è®¾ç½®ï¼Œå°±å¯ä»¥æ‰¾åˆ°å…¶ä¸­æœ‰å½±å“åŠ›çš„èŠ‚ç‚¹ï¼ŒåŸç†å°±æ˜¯é€šè¿‡ PageRank ç®—æ³•ï¼Œä½¿ç”¨ nx.pagerank(G) è¿™ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­çš„å‚æ•° G ä»£è¡¨åˆ›å»ºå¥½çš„å›¾ã€‚<br></p><p><a name="FqpAI"></a></p><h3 id="å¦‚ä½•ç”¨-PageRank-æ­ç§˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„äººç‰©å…³ç³»"><a href="#å¦‚ä½•ç”¨-PageRank-æ­ç§˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„äººç‰©å…³ç³»" class="headerlink" title="å¦‚ä½•ç”¨ PageRank æ­ç§˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„äººç‰©å…³ç³»"></a>å¦‚ä½•ç”¨ PageRank æ­ç§˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„äººç‰©å…³ç³»</h3><p><br>äº†è§£äº† NetworkX å·¥å…·çš„åŸºç¡€ä½¿ç”¨ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„æ¡ˆä¾‹ï¼šå¸Œæ‹‰é‡Œé‚®ä»¶äººç‰©å…³ç³»åˆ†æã€‚å¸Œæ‹‰é‡Œé‚®ä»¶äº‹ä»¶ç›¸ä¿¡ä½ ä¹Ÿæœ‰è€³é—»ï¼Œå¯¹è¿™ä¸ªæ•°æ®çš„èƒŒæ™¯æˆ‘ä»¬å°±ä¸åšä»‹ç»äº†ã€‚ä½ å¯ä»¥ä» GitHub ä¸Šä¸‹è½½è¿™ä¸ªæ•°æ®é›†ï¼š<a href="https://github.com/cystanford/PageRankã€‚" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/cystanford/PageRankã€‚</a><br><br><br>æ•´ä¸ªæ•°æ®é›†ç”±ä¸‰ä¸ªæ–‡ä»¶ç»„æˆï¼šAliases.csvï¼ŒEmails.csv å’Œ Persons.csvï¼Œå…¶ä¸­ Emails æ–‡ä»¶è®°å½•äº†æ‰€æœ‰å…¬å¼€é‚®ä»¶çš„å†…å®¹ï¼Œå‘é€è€…å’Œæ¥æ”¶è€…çš„ä¿¡æ¯ã€‚Persons è¿™ä¸ªæ–‡ä»¶ç»Ÿè®¡äº†é‚®ä»¶ä¸­æ‰€æœ‰äººç‰©çš„å§“ååŠå¯¹åº”çš„ IDã€‚å› ä¸ºå§“åå­˜åœ¨åˆ«åçš„æƒ…å†µï¼Œä¸ºäº†å°†é‚®ä»¶ä¸­çš„äººç‰©è¿›è¡Œç»Ÿä¸€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç”¨ Aliases æ–‡ä»¶æ¥æŸ¥è¯¢åˆ«åå’Œäººç‰©çš„å¯¹åº”å…³ç³»ã€‚æ•´ä¸ªæ•°æ®é›†åŒ…æ‹¬äº† 9306 å°é‚®ä»¶å’Œ 513 ä¸ªäººåï¼Œæ•°æ®é›†è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚<br><br><br>ä¸è¿‡è¿™ä¸€æ¬¡æˆ‘ä»¬ä¸éœ€è¦å¯¹é‚®ä»¶çš„å†…å®¹è¿›è¡Œåˆ†æï¼Œåªéœ€è¦é€šè¿‡é‚®ä»¶ä¸­çš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼ˆå¯¹åº” Emails.csv æ–‡ä»¶ä¸­çš„ MetadataFrom å’Œ MetadataTo å­—æ®µï¼‰æ¥ç»˜åˆ¶æ•´ä¸ªå…³ç³»ç½‘ç»œã€‚å› ä¸ºæ¶‰åŠåˆ°çš„äººç‰©å¾ˆå¤šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡ PageRank ç®—æ³•è®¡ç®—æ¯ä¸ªäººç‰©åœ¨é‚®ä»¶å…³ç³»ç½‘ç»œä¸­çš„æƒé‡ï¼Œæœ€åç­›é€‰å‡ºæ¥æœ€æœ‰ä»·å€¼çš„äººç‰©æ¥è¿›è¡Œå…³ç³»ç½‘ç»œå›¾çš„ç»˜åˆ¶ã€‚<br><br><br>äº†è§£äº†æ•°æ®é›†å’Œé¡¹ç›®èƒŒæ™¯ä¹‹åï¼Œæˆ‘ä»¬æ¥è®¾è®¡åˆ°æ‰§è¡Œçš„æµç¨‹æ­¥éª¤ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1586189558696-ade25b5c-0fb4-4bef-b867-8320c21e4c37.jpeg#align=left&display=inline&height=1106&name=image.jpeg&originHeight=1106&originWidth=2411&size=281079&status=done&style=none&width=2411" alt="image.jpeg"><br><br><br>é¦–å…ˆæˆ‘ä»¬éœ€è¦åŠ è½½æ•°æ®æºï¼›<br><br><br>åœ¨å‡†å¤‡é˜¶æ®µï¼šæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ¢ç´¢ï¼Œåœ¨æ•°æ®æ¸…æ´—è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºé‚®ä»¶ä¸­å­˜åœ¨åˆ«åçš„æƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»Ÿä¸€äººç‰©åç§°ã€‚å¦å¤–é‚®ä»¶çš„æ­£æ–‡å¹¶ä¸åœ¨æˆ‘ä»¬è€ƒè™‘çš„èŒƒå›´å†…ï¼Œåªç»Ÿè®¡é‚®ä»¶ä¸­çš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼Œå› æ­¤<strong>æˆ‘ä»¬ç­›é€‰ MetadataFrom å’Œ MetadataTo è¿™ä¸¤ä¸ªå­—æ®µä½œä¸ºç‰¹å¾</strong>ã€‚åŒæ—¶ï¼Œå‘é€è€…å’Œæ¥æ”¶è€…å¯èƒ½å­˜åœ¨å¤šæ¬¡é‚®ä»¶å¾€æ¥ï¼Œéœ€è¦è®¾ç½®æƒé‡æ¥ç»Ÿè®¡ä¸¤äººé‚®ä»¶å¾€æ¥çš„æ¬¡æ•°ã€‚æ¬¡æ•°è¶Šå¤šä»£è¡¨è¿™ä¸ªè¾¹ï¼ˆä»å‘é€è€…åˆ°æ¥æ”¶è€…çš„è¾¹ï¼‰çš„æƒé‡è¶Šé«˜ï¼›<br><br><br>åœ¨æŒ–æ˜é˜¶æ®µï¼šæˆ‘ä»¬ä¸»è¦æ˜¯å¯¹å·²ç»è®¾ç½®å¥½çš„ç½‘ç»œå›¾è¿›è¡Œ PR å€¼çš„è®¡ç®—ï¼Œä½†é‚®ä»¶ä¸­çš„äººç‰©æœ‰ 500 å¤šäººï¼Œæœ‰äº›äººçš„æƒé‡å¯èƒ½ä¸é«˜ï¼Œæˆ‘ä»¬éœ€è¦ç­›é€‰ PR å€¼é«˜çš„äººç‰©ï¼Œç»˜åˆ¶å‡ºä»–ä»¬ä¹‹é—´çš„å¾€æ¥å…³ç³»ã€‚åœ¨å¯è§†åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡èŠ‚ç‚¹çš„ PR å€¼æ¥ç»˜åˆ¶èŠ‚ç‚¹çš„å¤§å°ï¼ŒPR å€¼è¶Šå¤§ï¼ŒèŠ‚ç‚¹çš„ç»˜åˆ¶å°ºå¯¸è¶Šå¤§ã€‚<br><br><br>è®¾ç½®å¥½æµç¨‹ä¹‹åï¼Œå®ç°çš„ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># ç”¨ PageRank æŒ–æ˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„é‡è¦ä»»åŠ¡å…³ç³»</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># æ•°æ®åŠ è½½</span></span><br><span class="line">emails = pd.read_csv(<span class="string">"./input/Emails.csv"</span>)</span><br><span class="line"><span class="comment"># è¯»å–åˆ«åæ–‡ä»¶</span></span><br><span class="line">file = pd.read_csv(<span class="string">"./input/Aliases.csv"</span>)</span><br><span class="line">aliases = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> file.iterrows():</span><br><span class="line">    aliases[row[<span class="string">'Alias'</span>]] = row[<span class="string">'PersonId'</span>]</span><br><span class="line"><span class="comment"># è¯»å–äººåæ–‡ä»¶</span></span><br><span class="line">file = pd.read_csv(<span class="string">"./input/Persons.csv"</span>)</span><br><span class="line">persons = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> file.iterrows():</span><br><span class="line">    persons[row[<span class="string">'Id'</span>]] = row[<span class="string">'Name'</span>]</span><br><span class="line"><span class="comment"># é’ˆå¯¹åˆ«åè¿›è¡Œè½¬æ¢        </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">unify_name</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="comment"># å§“åç»Ÿä¸€å°å†™</span></span><br><span class="line">    name = str(name).lower()</span><br><span class="line">    <span class="comment"># å»æ‰, å’Œ @åé¢çš„å†…å®¹</span></span><br><span class="line">    name = name.replace(<span class="string">","</span>,<span class="string">""</span>).split(<span class="string">"@"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># åˆ«åè½¬æ¢</span></span><br><span class="line">    <span class="keyword">if</span> name <span class="keyword">in</span> aliases.keys():</span><br><span class="line">        <span class="keyword">return</span> persons[aliases[name]]</span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line"><span class="comment"># ç”»ç½‘ç»œå›¾</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_graph</span><span class="params">(graph, layout=<span class="string">'spring_layout'</span>)</span>:</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨ Spring Layout å¸ƒå±€ï¼Œç±»ä¼¼ä¸­å¿ƒæ”¾å°„çŠ¶</span></span><br><span class="line">    <span class="keyword">if</span> layout == <span class="string">'circular_layout'</span>:</span><br><span class="line">        positions=nx.circular_layout(graph)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        positions=nx.spring_layout(graph)</span><br><span class="line">    <span class="comment"># è®¾ç½®ç½‘ç»œå›¾ä¸­çš„èŠ‚ç‚¹å¤§å°ï¼Œå¤§å°ä¸ pagerank å€¼ç›¸å…³ï¼Œå› ä¸º pagerank å€¼å¾ˆå°æ‰€ä»¥éœ€è¦ *20000</span></span><br><span class="line">    nodesize = [x[<span class="string">'pagerank'</span>]*<span class="number">20000</span> <span class="keyword">for</span> v,x <span class="keyword">in</span> graph.nodes(data=<span class="literal">True</span>)]</span><br><span class="line">    <span class="comment"># è®¾ç½®ç½‘ç»œå›¾ä¸­çš„è¾¹é•¿åº¦</span></span><br><span class="line">    edgesize = [np.sqrt(e[<span class="number">2</span>][<span class="string">'weight'</span>]) <span class="keyword">for</span> e <span class="keyword">in</span> graph.edges(data=<span class="literal">True</span>)]</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    nx.draw_networkx_nodes(graph, positions, node_size=nodesize, alpha=<span class="number">0.4</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶è¾¹</span></span><br><span class="line">    nx.draw_networkx_edges(graph, positions, edge_size=edgesize, alpha=<span class="number">0.2</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶èŠ‚ç‚¹çš„ label</span></span><br><span class="line">    nx.draw_networkx_labels(graph, positions, font_size=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># è¾“å‡ºå¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„æ‰€æœ‰äººç‰©å…³ç³»å›¾</span></span><br><span class="line">    plt.show()</span><br><span class="line"><span class="comment"># å°†å¯„ä»¶äººå’Œæ”¶ä»¶äººçš„å§“åè¿›è¡Œè§„èŒƒåŒ–</span></span><br><span class="line">emails.MetadataFrom = emails.MetadataFrom.apply(unify_name)</span><br><span class="line">emails.MetadataTo = emails.MetadataTo.apply(unify_name)</span><br><span class="line"><span class="comment"># è®¾ç½®éçš„æƒé‡ç­‰äºå‘é‚®ä»¶çš„æ¬¡æ•°</span></span><br><span class="line">edges_weights_temp = defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> zip(emails.MetadataFrom, emails.MetadataTo, emails.RawText):</span><br><span class="line">    temp = (row[<span class="number">0</span>], row[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">if</span> temp <span class="keyword">not</span> <span class="keyword">in</span> edges_weights_temp:</span><br><span class="line">        edges_weights_temp[temp] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        edges_weights_temp[temp] = edges_weights_temp[temp] + <span class="number">1</span></span><br><span class="line"><span class="comment"># è½¬åŒ–æ ¼å¼ (from, to), weight =&gt; from, to, weight</span></span><br><span class="line">edges_weights = [(key[<span class="number">0</span>], key[<span class="number">1</span>], val) <span class="keyword">for</span> key, val <span class="keyword">in</span> edges_weights_temp.items()]</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæœ‰å‘å›¾</span></span><br><span class="line">graph = nx.DiGraph()</span><br><span class="line"><span class="comment"># è®¾ç½®æœ‰å‘å›¾ä¸­çš„è·¯å¾„åŠæƒé‡ (from, to, weight)</span></span><br><span class="line">graph.add_weighted_edges_from(edges_weights)</span><br><span class="line"><span class="comment"># è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹ï¼ˆäººï¼‰çš„ PR å€¼ï¼Œå¹¶ä½œä¸ºèŠ‚ç‚¹çš„ pagerank å±æ€§</span></span><br><span class="line">pagerank = nx.pagerank(graph)</span><br><span class="line"><span class="comment"># å°† pagerank æ•°å€¼ä½œä¸ºèŠ‚ç‚¹çš„å±æ€§</span></span><br><span class="line">nx.set_node_attributes(graph, name = <span class="string">'pagerank'</span>, values=pagerank)</span><br><span class="line"><span class="comment"># ç”»ç½‘ç»œå›¾</span></span><br><span class="line">show_graph(graph)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å®Œæ•´çš„å›¾è°±è¿›è¡Œç²¾ç®€</span></span><br><span class="line"><span class="comment"># è®¾ç½® PR å€¼çš„é˜ˆå€¼ï¼Œç­›é€‰å¤§äºé˜ˆå€¼çš„é‡è¦æ ¸å¿ƒèŠ‚ç‚¹</span></span><br><span class="line">pagerank_threshold = <span class="number">0.005</span></span><br><span class="line"><span class="comment"># å¤åˆ¶ä¸€ä»½è®¡ç®—å¥½çš„ç½‘ç»œå›¾</span></span><br><span class="line">small_graph = graph.copy()</span><br><span class="line"><span class="comment"># å‰ªæ‰ PR å€¼å°äº pagerank_threshold çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> n, p_rank <span class="keyword">in</span> graph.nodes(data=<span class="literal">True</span>):</span><br><span class="line">    <span class="keyword">if</span> p_rank[<span class="string">'pagerank'</span>] &lt; pagerank_threshold: </span><br><span class="line">        small_graph.remove_node(n)</span><br><span class="line"><span class="comment"># ç”»ç½‘ç»œå›¾,é‡‡ç”¨circular_layoutå¸ƒå±€è®©ç­›é€‰å‡ºæ¥çš„ç‚¹ç»„æˆä¸€ä¸ªåœ†</span></span><br><span class="line">show_graph(small_graph, <span class="string">'circular_layout'</span>)</span><br></pre></td></tr></table></figure><p><br>ç»“æœå¦‚ä¸‹ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586189813449-f26ce964-a669-44e6-bf91-4a7ec9819042.png#align=left&display=inline&height=1028&name=419f7621392045f07bcd03f9e4c7c8b1.png&originHeight=1028&originWidth=1728&size=762127&status=done&style=none&width=1728" alt="419f7621392045f07bcd03f9e4c7c8b1.png"><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586189816102-b524301a-85fe-46f5-b698-560a467920c9.png#align=left&display=inline&height=376&name=3f08f61360e8a82a23a16e44d2b973e1.png&originHeight=376&originWidth=519&size=71800&status=done&style=none&width=519" alt="3f08f61360e8a82a23a16e44d2b973e1.png"></p><p>é’ˆå¯¹ä»£ç ä¸­çš„å‡ ä¸ªæ¨¡å—æˆ‘åšä¸ªç®€å•çš„è¯´æ˜ï¼š<br><br><br>1. å‡½æ•°å®šä¹‰äººç‰©çš„åç§°éœ€è¦ç»Ÿä¸€ï¼Œå› æ­¤æˆ‘è®¾ç½®äº† unify_name å‡½æ•°ï¼ŒåŒæ—¶è®¾ç½®äº† show_graph å‡½æ•°å°†ç½‘ç»œå›¾å¯è§†åŒ–ã€‚NetworkX æä¾›äº†å¤šç§å¯è§†åŒ–å¸ƒå±€ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨ spring_layout å¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯å‘ˆä¸­å¿ƒæ”¾å°„çŠ¶ã€‚<br><br><br>é™¤äº† spring_layout å¤–ï¼ŒNetworkX è¿˜æœ‰å¦å¤–ä¸‰ç§å¯è§†åŒ–å¸ƒå±€ï¼Œcircular_layoutï¼ˆåœ¨ä¸€ä¸ªåœ†ç¯ä¸Šå‡åŒ€åˆ†å¸ƒèŠ‚ç‚¹ï¼‰ï¼Œrandom_layoutï¼ˆéšæœºåˆ†å¸ƒèŠ‚ç‚¹ ï¼‰ï¼Œshell_layoutï¼ˆèŠ‚ç‚¹éƒ½åœ¨åŒå¿ƒåœ†ä¸Šï¼‰ã€‚<br><br><br>2. è®¡ç®—è¾¹æƒé‡é‚®ä»¶çš„å‘é€è€…å’Œæ¥æ”¶è€…çš„é‚®ä»¶å¾€æ¥å¯èƒ½ä¸æ­¢ä¸€æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸¤è€…ä¹‹é—´é‚®ä»¶å¾€æ¥çš„æ¬¡æ•°è®¡ç®—è¿™ä¸¤è€…ä¹‹é—´è¾¹çš„æƒé‡ï¼Œæ‰€ä»¥æˆ‘ç”¨ edges_weights_temp æ•°ç»„å­˜å‚¨æƒé‡ã€‚è€Œä¸Šé¢ä»‹ç»è¿‡åœ¨ NetworkX ä¸­æ·»åŠ æƒé‡è¾¹ï¼ˆå³ä½¿ç”¨ add_weighted_edges_from å‡½æ•°ï¼‰çš„æ—¶å€™ï¼Œæ¥å—çš„æ˜¯ uã€vã€w çš„ä¸‰å…ƒæ•°ç»„ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦å¯¹æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œå…·ä½“è½¬æ¢æ–¹å¼è§ä»£ç ã€‚<br><br><br>3.PR å€¼è®¡ç®—åŠç­›é€‰æˆ‘ä½¿ç”¨ nx.pagerank(graph) è®¡ç®—äº†èŠ‚ç‚¹çš„ PR å€¼ã€‚ç”±äºèŠ‚ç‚¹æ•°é‡å¾ˆå¤šï¼Œæˆ‘ä»¬è®¾ç½®äº† PR å€¼é˜ˆå€¼ï¼Œå³ pagerank_threshold=0.005ï¼Œç„¶åéå†èŠ‚ç‚¹ï¼Œåˆ é™¤å°äº PR å€¼é˜ˆå€¼çš„èŠ‚ç‚¹ï¼Œå½¢æˆæ–°çš„å›¾ small_graphï¼Œæœ€åå¯¹ small_graph è¿›è¡Œå¯è§†åŒ–ï¼ˆå¯¹åº”è¿è¡Œç»“æœçš„ç¬¬äºŒå¼ å›¾ï¼‰ã€‚<br></p><p><a name="dJp3x"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><br>æˆ‘ä»¬é€šè¿‡çŸ©é˜µä¹˜æ³•æ±‚å¾—ç½‘é¡µçš„æƒé‡ï¼Œè¿™æˆ‘ä»¬ä½¿ç”¨ NetworkX å¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚å¦å¤–æˆ‘å¸¦ä½ ç”¨ PageRank ç®—æ³•åšäº†ä¸€æ¬¡å®æˆ˜ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå¤æ‚çš„ç½‘ç»œå›¾ï¼Œé€šè¿‡ PR å€¼çš„è®¡ç®—ã€ç­›é€‰ï¼Œæœ€ç»ˆå¾—åˆ°äº†ä¸€å¼ ç²¾ç®€çš„ç½‘ç»œå›¾ã€‚<br><br><br>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬å­¦ä¹ äº† NetworkX å·¥å…·çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬åˆ›å»ºå›¾ã€èŠ‚ç‚¹ã€è¾¹åŠ PR å€¼çš„è®¡ç®—ã€‚å®é™…ä¸ŠæŒæ¡äº† PageRank çš„ç†è®ºä¹‹åï¼Œåœ¨å®æˆ˜ä¸­å¾€å¾€å°±æ˜¯ä¸€è¡Œä»£ç çš„äº‹ã€‚<br><br><br>ä½†é¡¹ç›®ä¸ç†è®ºä¸åŒï¼Œé¡¹ç›®ä¸­æ¶‰åŠåˆ°çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä½ ä¼šèŠ± 80% çš„æ—¶é—´ï¼ˆæˆ– 80% çš„ä»£ç é‡ï¼‰åœ¨é¢„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚ä»Šå¤©çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯¹åˆ«åè¿›è¡Œäº†ç»Ÿä¸€ï¼Œå¯¹è¾¹çš„æƒé‡è¿›è¡Œè®¡ç®—ï¼ŒåŒæ—¶è¿˜éœ€è¦æŠŠè®¡ç®—å¥½çš„ç»“æœä»¥å¯è§†åŒ–çš„æ–¹å¼å‘ˆç°ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586189993701-5e8316c2-097d-4f14-b2d6-36b2ccdaef8b.png#align=left&display=inline&height=794&name=307055050e005ba5092028a074a5c142.png&originHeight=794&originWidth=1636&size=295905&status=done&style=none&width=1636" alt="307055050e005ba5092028a074a5c142.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;ä¸Šæ–‡è®²äº† PageRank ç®—æ³•ç»å¸¸è¢«ç”¨åˆ°ç½‘ç»œå…³ç³»çš„åˆ†æä¸­ï¼Œæ¯”å¦‚åœ¨ç¤¾äº¤ç½‘ç»œä¸­è®¡ç®—ä¸ªäººçš„å½±å“åŠ›ï¼Œè®¡ç®—è®ºæ–‡çš„å½±å“åŠ›æˆ–è€…ç½‘ç«™çš„å½±å“åŠ›ç­‰ã€‚&lt;br&gt;&lt;br
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="PageRank" scheme="cpeixin.cn/tags/PageRank/"/>
    
  </entry>
  
  <entry>
    <title>PageRank åŸç†</title>
    <link href="cpeixin.cn/2019/03/10/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%20-%20PageRank-%E5%8E%9F%E7%90%86/"/>
    <id>cpeixin.cn/2019/03/10/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%20-%20PageRank-%E5%8E%9F%E7%90%86/</id>
    <published>2019-03-10T14:37:25.000Z</published>
    <updated>2020-04-06T16:19:48.787Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>äº’è”ç½‘å‘å±•åˆ°ç°åœ¨ï¼Œæœç´¢å¼•æ“å·²ç»éå¸¸å¥½ç”¨ï¼ŒåŸºæœ¬ä¸Šè¾“å…¥å…³é”®è¯ï¼Œéƒ½èƒ½æ‰¾åˆ°åŒ¹é…çš„å†…å®¹ï¼Œè´¨é‡è¿˜ä¸é”™ã€‚ä½†åœ¨ 1998 å¹´ä¹‹å‰ï¼Œæœç´¢å¼•æ“çš„ä½“éªŒå¹¶ä¸å¥½ã€‚</p><p>æ—©æœŸçš„æœç´¢å¼•æ“ï¼Œä¼šé‡åˆ°ä¸‹é¢çš„ä¸¤ç±»é—®é¢˜ï¼šè¿”å›ç»“æœè´¨é‡ä¸é«˜ï¼šæœç´¢ç»“æœä¸è€ƒè™‘ç½‘é¡µçš„è´¨é‡ï¼Œè€Œæ˜¯é€šè¿‡æ—¶é—´é¡ºåºè¿›è¡Œæ£€ç´¢ï¼›å®¹æ˜“è¢«äººé’»ç©ºå­ï¼šæœç´¢å¼•æ“æ˜¯åŸºäºæ£€ç´¢è¯è¿›è¡Œæ£€ç´¢çš„ï¼Œé¡µé¢ä¸­æ£€ç´¢è¯å‡ºç°çš„é¢‘æ¬¡è¶Šé«˜ï¼ŒåŒ¹é…åº¦è¶Šé«˜ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ç½‘é¡µä½œå¼Šçš„æƒ…å†µã€‚æœ‰äº›ç½‘é¡µä¸ºäº†å¢åŠ æœç´¢å¼•æ“çš„æ’åï¼Œæ•…æ„å¢åŠ æŸä¸ªæ£€ç´¢è¯çš„é¢‘ç‡ã€‚</p><p>åŸºäºè¿™äº›ç¼ºé™·ï¼Œå½“æ—¶ Google çš„åˆ›å§‹äººæ‹‰é‡ŒÂ·ä½©å¥‡æå‡ºäº† PageRank ç®—æ³•ï¼Œç›®çš„å°±æ˜¯è¦æ‰¾åˆ°ä¼˜è´¨çš„ç½‘é¡µï¼Œè¿™æ · Google çš„æ’åºç»“æœä¸ä»…èƒ½æ‰¾åˆ°ç”¨æˆ·æƒ³è¦çš„å†…å®¹ï¼Œè€Œä¸”è¿˜ä¼šä»ä¼—å¤šç½‘é¡µä¸­ç­›é€‰å‡ºæƒé‡é«˜çš„å‘ˆç°ç»™ç”¨æˆ·ã€‚</p><p>Google çš„ä¸¤ä½åˆ›å§‹äººéƒ½æ˜¯æ–¯å¦ç¦å¤§å­¦çš„åšå£«ç”Ÿï¼Œä»–ä»¬æå‡ºçš„ PageRank ç®—æ³•å—åˆ°äº†è®ºæ–‡å½±å“åŠ›å› å­çš„è¯„ä»·å¯å‘ã€‚å½“ä¸€ç¯‡è®ºæ–‡è¢«å¼•ç”¨çš„æ¬¡æ•°è¶Šå¤šï¼Œè¯æ˜è¿™ç¯‡è®ºæ–‡çš„å½±å“åŠ›è¶Šå¤§ã€‚æ­£æ˜¯è¿™ä¸ªæƒ³æ³•è§£å†³äº†å½“æ—¶ç½‘é¡µæ£€ç´¢è´¨é‡ä¸é«˜çš„é—®é¢˜ã€‚</p><p><a name="MGtoH"></a></p><h3 id="PageRank-çš„ç®€åŒ–æ¨¡å‹"><a href="#PageRank-çš„ç®€åŒ–æ¨¡å‹" class="headerlink" title="PageRank çš„ç®€åŒ–æ¨¡å‹"></a>PageRank çš„ç®€åŒ–æ¨¡å‹</h3><p><br>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ PageRank æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚æˆ‘å‡è®¾ä¸€å…±æœ‰ 4 ä¸ªç½‘é¡µ Aã€Bã€Cã€Dã€‚å®ƒä»¬ä¹‹é—´çš„é“¾æ¥ä¿¡æ¯å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586100371985-4c557416-b288-4384-b68f-17a24156fe07.png#align=left&display=inline&height=1007&name=814d53ff8d73113631482e71b7c53636.png&originHeight=1007&originWidth=1472&size=798178&status=done&style=none&width=1472" alt="814d53ff8d73113631482e71b7c53636.png"><br><br><br>è¿™é‡Œæœ‰ä¸¤ä¸ªæ¦‚å¿µä½ éœ€è¦äº†è§£ä¸€ä¸‹ã€‚å‡ºé“¾æŒ‡çš„æ˜¯é“¾æ¥å‡ºå»çš„é“¾æ¥ã€‚å…¥é“¾æŒ‡çš„æ˜¯é“¾æ¥è¿›æ¥çš„é“¾æ¥ã€‚<br><br><br>æ¯”å¦‚å›¾ä¸­ A æœ‰ 2 ä¸ªå…¥é“¾ï¼Œ3 ä¸ªå‡ºé“¾ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªç½‘é¡µçš„å½±å“åŠ› = æ‰€æœ‰å…¥é“¾é›†åˆçš„é¡µé¢çš„åŠ æƒå½±å“åŠ›ä¹‹å’Œï¼Œç”¨å…¬å¼è¡¨ç¤ºä¸ºï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586100660740-2e7a1dc6-6882-42ef-a1d0-53156095a1de.png#align=left&display=inline&height=88&name=70104ab44fa1d9d690f99dc328d8af0c.png&originHeight=88&originWidth=227&size=7483&status=done&style=none&width=227" alt="70104ab44fa1d9d690f99dc328d8af0c.png"><br><br><br>u ä¸ºå¾…è¯„ä¼°çš„é¡µé¢ï¼ŒBu ä¸ºé¡µé¢ u çš„å…¥é“¾é›†åˆã€‚é’ˆå¯¹å…¥é“¾é›†åˆä¸­çš„ä»»æ„é¡µé¢ vï¼Œ<strong>å®ƒèƒ½ç»™ u å¸¦æ¥çš„å½±å“åŠ›æ˜¯å…¶è‡ªèº«çš„å½±å“åŠ› PR(v) é™¤ä»¥ v é¡µé¢çš„å‡ºé“¾æ•°é‡ï¼Œå³é¡µé¢ v æŠŠå½±å“åŠ› PR(v) å¹³å‡åˆ†é…ç»™äº†å®ƒçš„å‡ºé“¾</strong>ï¼Œè¿™æ ·ç»Ÿè®¡æ‰€æœ‰èƒ½ç»™ u å¸¦æ¥é“¾æ¥çš„é¡µé¢ vï¼Œå¾—åˆ°çš„æ€»å’Œå°±æ˜¯ç½‘é¡µ u çš„å½±å“åŠ›ï¼Œå³ä¸º PR(u)ã€‚<br><br><br>æ‰€ä»¥ä½ èƒ½çœ‹åˆ°ï¼Œå‡ºé“¾ä¼šç»™è¢«é“¾æ¥çš„é¡µé¢èµ‹äºˆå½±å“åŠ›ï¼Œå½“æˆ‘ä»¬ç»Ÿè®¡äº†ä¸€ä¸ªç½‘é¡µé“¾å‡ºå»çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯ç»Ÿè®¡äº†è¿™ä¸ªç½‘é¡µçš„è·³è½¬æ¦‚ç‡ã€‚<br><br><br>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ èƒ½çœ‹åˆ° A æœ‰ä¸‰ä¸ªå‡ºé“¾åˆ†åˆ«é“¾æ¥åˆ°äº† Bã€Cã€D ä¸Šã€‚é‚£ä¹ˆå½“ç”¨æˆ·è®¿é—® A çš„æ—¶å€™ï¼Œå°±æœ‰è·³è½¬åˆ° Bã€C æˆ–è€… D çš„å¯èƒ½æ€§ï¼Œè·³è½¬æ¦‚ç‡å‡ä¸º 1/3ã€‚B æœ‰ä¸¤ä¸ªå‡ºé“¾ï¼Œé“¾æ¥åˆ°äº† A å’Œ D ä¸Šï¼Œè·³è½¬æ¦‚ç‡ä¸º 1/2ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° Aã€Bã€Cã€D è¿™å››ä¸ªç½‘é¡µçš„è½¬ç§»çŸ©é˜µ Mï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586179570373-edfcd9e4-8221-4654-8f69-ffb5e07de5c9.png#align=left&display=inline&height=116&name=204b0934f166d6945a90185aa2c95dd4.png&originHeight=116&originWidth=209&size=8136&status=done&style=none&width=209" alt="204b0934f166d6945a90185aa2c95dd4.png"></p><p>è½¬ç§»çŸ©é˜µè§£é‡Šï¼š</p><ul><li>ç¬¬ä¸€åˆ—æ˜¯Açš„å‡ºé“¾çš„æ¦‚ç‡</li></ul><p>A-&gt;A: 0 A-&gt;B: 1/3 A-&gt;C: 1/3 A-&gt;D: 1/3</p><ul><li>ç¬¬äºŒåˆ—æ˜¯Bçš„çš„å‡ºé“¾çš„æ¦‚ç‡</li></ul><p>B-&gt;A: 1/2 B-&gt;B: 0 B-&gt;C:0 B-&gt;D: 1/2</p><ul><li>ç¬¬ä¸‰åˆ—æ˜¯Cçš„å‡ºé“¾æ¦‚ç‡</li></ul><p>C-&gt;A:1 C-&gt;B:0 C-&gt;C:0 C-&gt;D: 0</p><ul><li>ç¬¬å››åˆ—æ˜¯Dçš„å‡ºé“¾æ¦‚ç‡</li></ul><p>D-&gt;A: 0 D-&gt;B:1/2 D-&gt;C:1/2 D-&gt;D: 0<br><br><br>æˆ‘ä»¬å‡è®¾ Aã€Bã€Cã€D å››ä¸ªé¡µé¢çš„åˆå§‹å½±å“åŠ›éƒ½æ˜¯ç›¸åŒçš„ï¼Œå³ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586179659116-45dbb2c1-a56f-4e97-a347-acafba778b62.png#align=left&display=inline&height=160&name=a8eb12b5242e082b5d2281300c326bb8.png&originHeight=160&originWidth=180&size=10192&status=done&style=none&width=180" alt="a8eb12b5242e082b5d2281300c326bb8.png"></p><p>å½“è¿›è¡Œç¬¬ä¸€æ¬¡è½¬ç§»ä¹‹åï¼Œå„é¡µé¢çš„å½±å“åŠ› w1 å˜ä¸ºï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586179679282-23fcc41a-d22b-4e2b-9337-5c724fbf055c.png#align=left&display=inline&height=112&name=fcbcdd8e96384f855b4f7c842627ff8c.png&originHeight=112&originWidth=385&size=9528&status=done&style=none&width=385" alt="fcbcdd8e96384f855b4f7c842627ff8c.png"><br><br><br>ç„¶åæˆ‘ä»¬å†ç”¨è½¬ç§»çŸ©é˜µä¹˜ä»¥ w1 å¾—åˆ° w2 ç»“æœï¼Œç›´åˆ°ç¬¬ n æ¬¡è¿­ä»£å wn å½±å“åŠ›ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥æ”¶æ•›åˆ° (0.3333ï¼Œ0.2222ï¼Œ0.2222ï¼Œ0.2222ï¼‰ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ç€ Aã€Bã€Cã€D å››ä¸ªé¡µé¢æœ€ç»ˆå¹³è¡¡çŠ¶æ€ä¸‹çš„å½±å“åŠ›ã€‚<br><br><br>ä½ èƒ½çœ‹å‡º A é¡µé¢ç›¸æ¯”äºå…¶ä»–é¡µé¢æ¥è¯´æƒé‡æ›´å¤§ï¼Œä¹Ÿå°±æ˜¯ PR å€¼æ›´é«˜ã€‚è€Œ Bã€Cã€D é¡µé¢çš„ PR å€¼ç›¸ç­‰ã€‚<br><br><br>è‡³æ­¤ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªç®€åŒ–çš„ PageRank çš„è®¡ç®—è¿‡ç¨‹ï¼Œå®é™…æƒ…å†µä¼šæ¯”è¿™ä¸ªå¤æ‚ï¼Œå¯èƒ½ä¼šé¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼š<br><br><br>1. ç­‰çº§æ³„éœ²ï¼ˆRank Leakï¼‰ï¼šå¦‚æœä¸€ä¸ªç½‘é¡µæ²¡æœ‰å‡ºé“¾ï¼Œå°±åƒæ˜¯ä¸€ä¸ªé»‘æ´ä¸€æ ·ï¼Œå¸æ”¶äº†å…¶ä»–ç½‘é¡µçš„å½±å“åŠ›è€Œä¸é‡Šæ”¾ï¼Œæœ€ç»ˆä¼šå¯¼è‡´å…¶ä»–ç½‘é¡µçš„ PR å€¼ä¸º 0ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586183454358-44baf779-78bd-4887-a8d4-e35f79597b70.png#align=left&display=inline&height=997&name=77336108b0233638a35bfd7450438162.png&originHeight=997&originWidth=1190&size=619265&status=done&style=none&width=1190" alt="77336108b0233638a35bfd7450438162.png"><br><br><br>2. ç­‰çº§æ²‰æ²¡ï¼ˆRank Sinkï¼‰ï¼šå¦‚æœä¸€ä¸ªç½‘é¡µåªæœ‰å‡ºé“¾ï¼Œæ²¡æœ‰å…¥é“¾ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œè®¡ç®—çš„è¿‡ç¨‹è¿­ä»£ä¸‹æ¥ï¼Œä¼šå¯¼è‡´è¿™ä¸ªç½‘é¡µçš„ PR å€¼ä¸º 0ï¼ˆä¹Ÿå°±æ˜¯ä¸å­˜åœ¨å…¬å¼ä¸­çš„ Vï¼‰ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586183417549-557c2c16-58c3-4b46-a4d6-5de17f8beac7.png#align=left&display=inline&height=987&name=0d113854fb56116d79efe7f0e0374fe6.png&originHeight=987&originWidth=1203&size=608002&status=done&style=none&width=1203" alt="0d113854fb56116d79efe7f0e0374fe6.png"><br><br><br>é’ˆå¯¹ç­‰çº§æ³„éœ²å’Œç­‰çº§æ²‰æ²¡çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦çµæ´»å¤„ç†ã€‚æ¯”å¦‚é’ˆå¯¹ç­‰çº§æ³„éœ²çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ²¡æœ‰å‡ºé“¾çš„èŠ‚ç‚¹ï¼Œå…ˆä»å›¾ä¸­å»æ‰ï¼Œç­‰è®¡ç®—å®Œæ‰€æœ‰èŠ‚ç‚¹çš„ PR å€¼ä¹‹åï¼Œå†åŠ ä¸Šè¯¥èŠ‚ç‚¹è¿›è¡Œè®¡ç®—ã€‚ä¸è¿‡è¿™ç§æ–¹æ³•ä¼šå¯¼è‡´æ–°çš„ç­‰çº§æ³„éœ²çš„èŠ‚ç‚¹çš„äº§ç”Ÿï¼Œæ‰€ä»¥å·¥ä½œé‡è¿˜æ˜¯å¾ˆå¤§çš„ã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥åŒæ—¶è§£å†³ç­‰çº§æ³„éœ²å’Œç­‰çº§æ²‰æ²¡è¿™ä¸¤ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br><a name="MuxgP"></a></p><h3><a href="#" class="headerlink"></a></h3><p><a name="ntdmz"></a></p><h3 id="PageRank-çš„éšæœºæµè§ˆæ¨¡å‹"><a href="#PageRank-çš„éšæœºæµè§ˆæ¨¡å‹" class="headerlink" title="PageRank çš„éšæœºæµè§ˆæ¨¡å‹"></a>PageRank çš„éšæœºæµè§ˆæ¨¡å‹</h3><p><br>ä¸ºäº†è§£å†³ç®€åŒ–æ¨¡å‹ä¸­å­˜åœ¨çš„ç­‰çº§æ³„éœ²å’Œç­‰çº§æ²‰æ²¡çš„é—®é¢˜ï¼Œæ‹‰é‡ŒÂ·ä½©å¥‡æå‡ºäº† PageRank çš„éšæœºæµè§ˆæ¨¡å‹ã€‚ä»–å‡è®¾äº†è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šç”¨æˆ·å¹¶ä¸éƒ½æ˜¯æŒ‰ç…§è·³è½¬é“¾æ¥çš„æ–¹å¼æ¥ä¸Šç½‘ï¼Œè¿˜æœ‰ä¸€ç§å¯èƒ½æ˜¯ä¸è®ºå½“å‰å¤„äºå“ªä¸ªé¡µé¢ï¼Œéƒ½æœ‰æ¦‚ç‡è®¿é—®åˆ°å…¶ä»–ä»»æ„çš„é¡µé¢ï¼Œæ¯”å¦‚è¯´ç”¨æˆ·å°±æ˜¯è¦ç›´æ¥è¾“å…¥ç½‘å€è®¿é—®å…¶ä»–é¡µé¢ï¼Œè™½ç„¶è¿™ä¸ªæ¦‚ç‡æ¯”è¾ƒå°ã€‚<br><br><br>æ‰€ä»¥ä»–å®šä¹‰äº†é˜»å°¼å› å­ dï¼Œè¿™ä¸ªå› å­ä»£è¡¨äº†ç”¨æˆ·æŒ‰ç…§è·³è½¬é“¾æ¥æ¥ä¸Šç½‘çš„æ¦‚ç‡ï¼Œé€šå¸¸å¯ä»¥å–ä¸€ä¸ªå›ºå®šå€¼ 0.85ï¼Œè€Œ 1-d=0.15 åˆ™ä»£è¡¨äº†ç”¨æˆ·ä¸æ˜¯é€šè¿‡è·³è½¬é“¾æ¥çš„æ–¹å¼æ¥è®¿é—®ç½‘é¡µçš„ï¼Œæ¯”å¦‚ç›´æ¥è¾“å…¥ç½‘å€ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586183366624-ed86e5ee-850a-4882-a5d6-85a3821149af.png#align=left&display=inline&height=312&name=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-04-06%20%E4%B8%8B%E5%8D%8810.13.02.png&originHeight=312&originWidth=1056&size=85657&status=done&style=none&width=1056" alt="å±å¹•å¿«ç…§ 2020-04-06 ä¸‹åˆ10.13.02.png"><br><br><br>å…¶ä¸­ N ä¸ºç½‘é¡µæ€»æ•°ï¼Œè¿™æ ·æˆ‘ä»¬åˆå¯ä»¥é‡æ–°è¿­ä»£ç½‘é¡µçš„æƒé‡è®¡ç®—äº†ï¼Œå› ä¸ºåŠ å…¥äº†é˜»å°¼å› å­ dï¼Œä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ç­‰çº§æ³„éœ²å’Œç­‰çº§æ²‰æ²¡çš„é—®é¢˜ã€‚é€šè¿‡æ•°å­¦å®šç†ï¼ˆè¿™é‡Œä¸è¿›è¡Œè®²è§£ï¼‰ä¹Ÿå¯ä»¥è¯æ˜ï¼Œæœ€ç»ˆ PageRank éšæœºæµè§ˆæ¨¡å‹æ˜¯å¯ä»¥æ”¶æ•›çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å¾—åˆ°ä¸€ä¸ªç¨³å®šæ­£å¸¸çš„ PR å€¼ã€‚<br></p><p><a name="AXqad"></a></p><h3 id="PageRank-åœ¨ç¤¾äº¤å½±å“åŠ›è¯„ä¼°ä¸­çš„åº”ç”¨"><a href="#PageRank-åœ¨ç¤¾äº¤å½±å“åŠ›è¯„ä¼°ä¸­çš„åº”ç”¨" class="headerlink" title="PageRank åœ¨ç¤¾äº¤å½±å“åŠ›è¯„ä¼°ä¸­çš„åº”ç”¨"></a>PageRank åœ¨ç¤¾äº¤å½±å“åŠ›è¯„ä¼°ä¸­çš„åº”ç”¨</h3><p><br>ç½‘é¡µä¹‹é—´ä¼šå½¢æˆä¸€ä¸ªç½‘ç»œï¼Œæ˜¯æˆ‘ä»¬çš„äº’è”ç½‘ï¼Œè®ºæ–‡ä¹‹é—´ä¹Ÿå­˜åœ¨ç€ç›¸äº’å¼•ç”¨çš„å…³ç³»ï¼Œå¯ä»¥è¯´æˆ‘ä»¬æ‰€å¤„çš„ç¯å¢ƒå°±æ˜¯å„ç§ç½‘ç»œçš„é›†åˆã€‚åªè¦æ˜¯æœ‰ç½‘ç»œçš„åœ°æ–¹ï¼Œå°±å­˜åœ¨å‡ºé“¾å’Œå…¥é“¾ï¼Œå°±ä¼šæœ‰ PR æƒé‡çš„è®¡ç®—ï¼Œä¹Ÿå°±å¯ä»¥è¿ç”¨æˆ‘ä»¬ä»Šå¤©è®²çš„ PageRank ç®—æ³•ã€‚<br><br><br>æˆ‘ä»¬å¯ä»¥æŠŠ PageRank ç®—æ³•å»¶å±•åˆ°ç¤¾äº¤ç½‘ç»œé¢†åŸŸä¸­ã€‚æ¯”å¦‚åœ¨å¾®åšä¸Šï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è®¡ç®—æŸä¸ªäººçš„å½±å“åŠ›ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿä¸€ä¸ªäººçš„å¾®åšç²‰ä¸æ•°å¹¶ä¸ä¸€å®šç­‰äºä»–çš„å®é™…å½±å“åŠ›ã€‚å¦‚æœæŒ‰ç…§ PageRank ç®—æ³•ï¼Œè¿˜éœ€è¦çœ‹è¿™äº›ç²‰ä¸çš„è´¨é‡å¦‚ä½•ã€‚å¦‚æœæœ‰å¾ˆå¤šæ˜æ˜Ÿæˆ–è€…å¤§ V å…³æ³¨ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçš„å½±å“åŠ›ä¸€å®šå¾ˆé«˜ã€‚å¦‚æœç²‰ä¸æ˜¯é€šè¿‡è´­ä¹°åƒµå°¸ç²‰å¾—æ¥çš„ï¼Œé‚£ä¹ˆå³ä½¿ç²‰ä¸æ•°å†å¤šï¼Œå½±å“åŠ›ä¹Ÿä¸é«˜ã€‚<br><br><br>åŒæ ·ï¼Œåœ¨å·¥ä½œåœºæ™¯ä¸­ï¼Œæ¯”å¦‚è¯´è„‰è„‰è¿™ä¸ªç¤¾äº¤è½¯ä»¶ï¼Œå®ƒè®¡ç®—çš„å°±æ˜¯ä¸ªäººåœ¨èŒåœºçš„å½±å“åŠ›ã€‚å¦‚æœä½ çš„å·¥ä½œå…³ç³»æ˜¯æå¼€å¤ã€æ±Ÿå—æ˜¥è¿™æ ·çš„åäººï¼Œé‚£ä¹ˆä½ çš„èŒåœºå½±å“åŠ›ä¸€å®šä¼šå¾ˆé«˜ã€‚åä¹‹ï¼Œå¦‚æœä½ æ˜¯ä¸ªå­¦ç”Ÿï¼Œåœ¨èŒåœºä¸Šè¢«é“¾å…¥çš„å…³ç³»æ¯”è¾ƒå°‘çš„è¯ï¼ŒèŒåœºå½±å“åŠ›å°±ä¼šæ¯”è¾ƒä½ã€‚åŒæ ·ï¼Œå¦‚æœä½ æƒ³è¦çœ‹ä¸€ä¸ªå…¬å¸çš„ç»è¥èƒ½åŠ›ï¼Œä¹Ÿå¯ä»¥çœ‹è¿™å®¶å…¬å¸éƒ½å’Œå“ªäº›å…¬å¸æœ‰åˆä½œã€‚å¦‚æœå®ƒåˆä½œçš„éƒ½æ˜¯ä¸–ç•Œ 500 å¼ºä¼ä¸šï¼Œé‚£ä¹ˆè¿™ä¸ªå…¬å¸åœ¨è¡Œä¸šå†…ä¸€å®šæ˜¯é¢†å¯¼è€…ï¼Œå¦‚æœè¿™ä¸ªå…¬å¸çš„å®¢æˆ·éƒ½æ˜¯å°å®¢æˆ·ï¼Œå³ä½¿æ•°é‡æ¯”è¾ƒå¤šï¼Œä¸šå†…å½±å“åŠ›ä¹Ÿä¸ä¸€å®šå¤§ã€‚é™¤éåƒæ·˜å®ä¸€æ ·ï¼Œæœ‰æµ·é‡çš„ä¸­å°å®¢æˆ·ï¼Œæœ€åå¤§å®¢æˆ·ä¹Ÿä¼šæ‰¾ä¸Šé—¨æ¥å¯»æ±‚åˆä½œã€‚æ‰€ä»¥æƒé‡é«˜çš„èŠ‚ç‚¹ï¼Œå¾€å¾€ä¼šæœ‰ä¸€äº›æƒé‡åŒæ ·å¾ˆé«˜çš„èŠ‚ç‚¹åœ¨è¿›è¡Œåˆä½œã€‚<br></p><p><a name="d8UW3"></a></p><h3 id="PageRank-ç»™æˆ‘ä»¬å¸¦æ¥çš„å¯å‘"><a href="#PageRank-ç»™æˆ‘ä»¬å¸¦æ¥çš„å¯å‘" class="headerlink" title="PageRank ç»™æˆ‘ä»¬å¸¦æ¥çš„å¯å‘"></a>PageRank ç»™æˆ‘ä»¬å¸¦æ¥çš„å¯å‘</h3><p><br>PageRank å¯ä»¥è¯´æ˜¯ Google æœç´¢å¼•æ“é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€ï¼Œåœ¨ 1998 å¹´å¸®åŠ© Google è·å¾—äº†æœç´¢å¼•æ“çš„é¢†å…ˆä¼˜åŠ¿ï¼Œç°åœ¨ PageRank å·²ç»æ¯”åŸæ¥å¤æ‚å¾ˆå¤šï¼Œä½†å®ƒçš„æ€æƒ³ä¾ç„¶èƒ½å¸¦ç»™æˆ‘ä»¬å¾ˆå¤šå¯å‘ã€‚<br><br><br>æ¯”å¦‚ï¼Œå¦‚æœä½ æƒ³è¦è‡ªå·±çš„åª’ä½“å½±å“åŠ›æœ‰æ‰€æé«˜ï¼Œå°±å°½é‡è¦æ··åœ¨å¤§ V åœˆä¸­ï¼›å¦‚æœæƒ³æ‰¾åˆ°é«˜èŒä½çš„å·¥ä½œï¼Œå°±å°½é‡ç»“è¯†å…¬å¸é«˜å±‚ï¼Œæˆ–è€…è®¤è¯†æ›´å¤šçš„çŒå¤´ï¼Œå› ä¸ºçŒå¤´å’Œå¾ˆå¤šé«˜èŒä½çš„äººå‘˜éƒ½æœ‰é“¾æ¥å…³ç³»ã€‚åŒæ ·ï¼ŒPageRank ä¹Ÿå¯ä»¥å¸®æˆ‘ä»¬è¯†åˆ«é“¾æ¥å†œåœºã€‚é“¾æ¥å†œåœºæŒ‡çš„æ˜¯ç½‘é¡µä¸ºäº†é“¾æ¥è€Œé“¾æ¥ï¼Œå¡«å……äº†ä¸€äº›æ²¡æœ‰ç”¨çš„å†…å®¹ã€‚è¿™äº›é¡µé¢ç›¸äº’é“¾æ¥æˆ–è€…æŒ‡å‘äº†æŸä¸€ä¸ªç½‘é¡µï¼Œä»è€Œæƒ³è¦å¾—åˆ°æ›´é«˜çš„æƒé‡ã€‚<br></p><p><a name="VwORv"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><br>ä»Šå¤©æˆ‘ç»™ä½ è®²äº† PageRank çš„ç®—æ³•åŸç†ï¼Œå¯¹ç®€åŒ–çš„ PageRank æ¨¡å‹è¿›è¡Œäº†æ¨¡æ‹Ÿã€‚é’ˆå¯¹ç®€åŒ–æ¨¡å‹ä¸­å­˜åœ¨çš„<strong>ç­‰çº§æ³„éœ²å’Œç­‰çº§æ²‰æ²¡</strong>è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œ<strong>PageRank çš„éšæœºæµè§ˆæ¨¡å‹å¼•å…¥äº†é˜»å°¼å› å­ d æ¥è§£å†³</strong>ã€‚åŒæ ·ï¼ŒPageRank æœ‰å¾ˆå¹¿çš„åº”ç”¨é¢†åŸŸï¼Œåœ¨è®¸å¤šç½‘ç»œç»“æ„ä¸­éƒ½æœ‰åº”ç”¨ï¼Œæ¯”å¦‚è®¡ç®—ä¸€ä¸ªäººçš„å¾®åšå½±å“åŠ›ç­‰ã€‚å®ƒä¹Ÿå‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨ç¤¾äº¤ç½‘ç»œä¸­ï¼Œé“¾æ¥çš„è´¨é‡éå¸¸é‡è¦ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1586183943207-3b0721e5-5c04-41c8-a87c-419b8621d8c5.png#align=left&display=inline&height=924&name=f936296fed70f27ba23064ec14a7e37d.png&originHeight=924&originWidth=1727&size=377810&status=done&style=none&width=1727" alt="f936296fed70f27ba23064ec14a7e37d.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;äº’è”ç½‘å‘å±•åˆ°ç°åœ¨ï¼Œæœç´¢å¼•æ“å·²ç»éå¸¸å¥½ç”¨ï¼ŒåŸºæœ¬ä¸Šè¾“å…¥å…³é”®è¯ï¼Œéƒ½èƒ½æ‰¾åˆ°åŒ¹é…çš„å†…å®¹ï¼Œè´¨é‡è¿˜ä¸é”™ã€‚ä½†åœ¨ 1998 å¹´ä¹‹å‰ï¼Œæœç´¢å¼•æ“çš„ä½“éªŒå¹¶ä¸å¥½ã€‚&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="PageRank" scheme="cpeixin.cn/tags/PageRank/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-å…³è”è§„åˆ™åŸç†</title>
    <link href="cpeixin.cn/2019/03/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99%E5%8E%9F%E7%90%86/"/>
    <id>cpeixin.cn/2019/03/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99%E5%8E%9F%E7%90%86/</id>
    <published>2019-03-02T14:19:09.000Z</published>
    <updated>2020-04-05T14:30:54.004Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>å…³è”è§„åˆ™è¿™ä¸ªæ¦‚å¿µï¼Œæœ€æ—©æ˜¯ç”± Agrawal ç­‰äººåœ¨ 1993 å¹´æå‡ºçš„ã€‚åœ¨ 1994 å¹´ Agrawal ç­‰äººåˆæå‡ºäº†åŸºäºå…³è”è§„åˆ™çš„ Apriori ç®—æ³•ï¼Œè‡³ä»Š Apriori ä»æ˜¯å…³è”è§„åˆ™æŒ–æ˜çš„é‡è¦ç®—æ³•ã€‚<br><br><br><strong>å…³è”è§„åˆ™æŒ–æ˜</strong>å¯ä»¥è®©æˆ‘ä»¬ä»æ•°æ®é›†ä¸­å‘ç°é¡¹ä¸é¡¹ï¼ˆitem ä¸ itemï¼‰ä¹‹é—´çš„å…³ç³»ï¼Œå®ƒåœ¨æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ï¼Œâ€œè´­ç‰©ç¯®åˆ†æâ€å°±æ˜¯ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼Œè¿™ä¸ªåœºæ™¯å¯ä»¥ä»æ¶ˆè´¹è€…äº¤æ˜“è®°å½•ä¸­å‘æ˜å•†å“ä¸å•†å“ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œè¿›è€Œé€šè¿‡å•†å“æ†ç»‘é”€å”®æˆ–è€…ç›¸å…³æ¨èçš„æ–¹å¼å¸¦æ¥æ›´å¤šçš„é”€å”®é‡ã€‚æ‰€ä»¥è¯´ï¼Œå…³è”è§„åˆ™æŒ–æ˜æ˜¯ä¸ªéå¸¸æœ‰ç”¨çš„æŠ€æœ¯ã€‚<br><br><br>åœ¨ä»Šå¤©çš„å†…å®¹ä¸­ï¼Œå¸Œæœ›ä½ èƒ½å¸¦ç€é—®é¢˜ï¼Œå’Œæˆ‘ä¸€èµ·æ¥ææ‡‚ä»¥ä¸‹å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><ul><li>ææ‡‚å…³è”è§„åˆ™ä¸­çš„å‡ ä¸ªé‡è¦æ¦‚å¿µï¼šæ”¯æŒåº¦ã€ç½®ä¿¡åº¦ã€æå‡åº¦ï¼›</li><li>Apriori ç®—æ³•çš„å·¥ä½œåŸç†ï¼›</li><li>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è¿›è¡Œå…³è”è§„åˆ™æŒ–æ˜ã€‚</li></ul><p><a name="iGDgo"></a></p><h3 id="å…³è”è§„åˆ™æ¦‚å¿µ"><a href="#å…³è”è§„åˆ™æ¦‚å¿µ" class="headerlink" title="å…³è”è§„åˆ™æ¦‚å¿µ"></a>å…³è”è§„åˆ™æ¦‚å¿µ</h3><p>ææ‡‚å…³è”è§„åˆ™ä¸­çš„å‡ ä¸ªæ¦‚å¿µ<br><br><br>æˆ‘ä¸¾ä¸€ä¸ªè¶…å¸‚è´­ç‰©çš„ä¾‹å­ï¼Œä¸‹é¢æ˜¯å‡ åå®¢æˆ·è´­ä¹°çš„å•†å“åˆ—è¡¨ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585750069389-0cb13df9-8d19-442d-bb19-c3e5c3175230.png#align=left&display=inline&height=195&name=f7d0cc3c1a845bf790b344f62372941c.png&originHeight=195&originWidth=468&size=27163&status=done&style=none&width=468" alt="f7d0cc3c1a845bf790b344f62372941c.png"><br><br><br><br><br><strong>ä»€ä¹ˆæ˜¯æ”¯æŒåº¦å‘¢ï¼Ÿ</strong><br><br><br>æ”¯æŒåº¦æ˜¯ä¸ªç™¾åˆ†æ¯”ï¼Œ<strong>å®ƒæŒ‡çš„æ˜¯æŸä¸ªå•†å“ç»„åˆå‡ºç°çš„æ¬¡æ•°ä¸æ€»æ¬¡æ•°ä¹‹é—´çš„æ¯”ä¾‹</strong>ã€‚<br><br><br>æ”¯æŒåº¦è¶Šé«˜ï¼Œä»£è¡¨è¿™ä¸ªç»„åˆå‡ºç°çš„é¢‘ç‡è¶Šå¤§ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°â€œç‰›å¥¶â€å‡ºç°äº† 4 æ¬¡ï¼Œé‚£ä¹ˆè¿™ 5 ç¬”è®¢å•ä¸­â€œç‰›å¥¶â€çš„æ”¯æŒåº¦å°±æ˜¯ 4/5=0.8ã€‚<br><br><br>åŒæ ·<strong>â€œç‰›å¥¶ + é¢åŒ…â€å‡ºç°äº† 3 æ¬¡ï¼Œé‚£ä¹ˆè¿™ 5 ç¬”è®¢å•ä¸­â€œç‰›å¥¶ + é¢åŒ…â€çš„æ”¯æŒåº¦å°±æ˜¯ 3/5=0.6ã€‚</strong><br><br><br><strong>ä»€ä¹ˆæ˜¯ç½®ä¿¡åº¦å‘¢ï¼Ÿ</strong><br><br><br>å®ƒæŒ‡çš„å°±æ˜¯å½“ä½ è´­ä¹°äº†å•†å“ Aï¼Œä¼šæœ‰å¤šå¤§çš„æ¦‚ç‡è´­ä¹°å•†å“ Bï¼Œåœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼š<br><br><br>ç½®ä¿¡åº¦ï¼ˆç‰›å¥¶â†’å•¤é…’ï¼‰=2/4=0.5ï¼Œä»£è¡¨å¦‚æœä½ è´­ä¹°äº†ç‰›å¥¶ï¼Œæœ‰å¤šå¤§çš„æ¦‚ç‡ä¼šè´­ä¹°å•¤é…’ï¼Ÿ<br><br><br>ç½®ä¿¡åº¦ï¼ˆå•¤é…’â†’ç‰›å¥¶ï¼‰=2/3=0.67ï¼Œä»£è¡¨å¦‚æœä½ è´­ä¹°äº†å•¤é…’ï¼Œæœ‰å¤šå¤§çš„æ¦‚ç‡ä¼šè´­ä¹°ç‰›å¥¶ï¼Ÿ<br><br><br>æˆ‘ä»¬èƒ½çœ‹åˆ°ï¼Œåœ¨ 4 æ¬¡è´­ä¹°äº†ç‰›å¥¶çš„æƒ…å†µä¸‹ï¼Œæœ‰ 2 æ¬¡è´­ä¹°äº†å•¤é…’ï¼Œæ‰€ä»¥ç½®ä¿¡åº¦ (ç‰›å¥¶â†’å•¤é…’)=0.5ï¼Œè€Œåœ¨ 3 æ¬¡è´­ä¹°å•¤é…’çš„æƒ…å†µä¸‹ï¼Œæœ‰ 2 æ¬¡è´­ä¹°äº†ç‰›å¥¶ï¼Œæ‰€ä»¥ç½®ä¿¡åº¦ï¼ˆå•¤é…’â†’ç‰›å¥¶ï¼‰=0.67ã€‚<br><br><br>æ‰€ä»¥è¯´ç½®ä¿¡åº¦æ˜¯ä¸ªæ¡ä»¶æ¦‚å¿µï¼Œ<strong>å°±æ˜¯è¯´åœ¨ A å‘ç”Ÿçš„æƒ…å†µä¸‹ï¼ŒB å‘ç”Ÿçš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚</strong><br><br><br><strong>ä»€ä¹ˆæ˜¯æå‡åº¦å‘¢ï¼Ÿ</strong><br><br><br>æˆ‘ä»¬åœ¨åšå•†å“æ¨èçš„æ—¶å€™ï¼Œ<strong>é‡ç‚¹è€ƒè™‘çš„æ˜¯æå‡åº¦</strong>ï¼Œå› ä¸ºæå‡åº¦ä»£è¡¨çš„æ˜¯â€œå•†å“ A çš„å‡ºç°ï¼Œå¯¹å•†å“ B çš„å‡ºç°æ¦‚ç‡æå‡çš„â€ç¨‹åº¦ã€‚<br><br><br>è¿˜æ˜¯çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬å•çº¯çœ‹ç½®ä¿¡åº¦ (å¯ä¹â†’å°¿å¸ƒ)=1ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä¹å‡ºç°çš„æ—¶å€™ï¼Œç”¨æˆ·éƒ½ä¼šè´­ä¹°å°¿å¸ƒï¼Œé‚£ä¹ˆå½“ç”¨æˆ·è´­ä¹°å¯ä¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¨èå°¿å¸ƒä¹ˆï¼Ÿ<br><br><br>å®é™…ä¸Šï¼Œå°±ç®—ç”¨æˆ·ä¸è´­ä¹°å¯ä¹ï¼Œä¹Ÿä¼šç›´æ¥è´­ä¹°å°¿å¸ƒçš„ï¼Œæ‰€ä»¥ç”¨æˆ·æ˜¯å¦è´­ä¹°å¯ä¹ï¼Œå¯¹å°¿å¸ƒçš„æå‡ä½œç”¨å¹¶ä¸å¤§ã€‚<br><br><br>æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å…¬å¼æ¥è®¡ç®—å•†å“ A å¯¹å•†å“ B çš„æå‡åº¦ï¼š<br><br><br><strong>æå‡åº¦ (Aâ†’B)= ç½®ä¿¡åº¦ (Aâ†’B)/ æ”¯æŒåº¦ (B)</strong><br><br><br>è¿™ä¸ªå…¬å¼æ˜¯ç”¨æ¥è¡¡é‡ A å‡ºç°çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦ä¼šå¯¹ B å‡ºç°çš„æ¦‚ç‡æœ‰æ‰€æå‡ã€‚<br><br><br>æ‰€ä»¥æå‡åº¦æœ‰ä¸‰ç§å¯èƒ½ï¼š<br></p><ul><li>æå‡åº¦ (Aâ†’B)&gt;1ï¼šä»£è¡¨æœ‰æå‡ï¼›</li><li>æå‡åº¦ (Aâ†’B)=1ï¼šä»£è¡¨æœ‰æ²¡æœ‰æå‡ï¼Œä¹Ÿæ²¡æœ‰ä¸‹é™ï¼›</li><li>æå‡åº¦ (Aâ†’B)&lt;1ï¼šä»£è¡¨æœ‰ä¸‹é™ã€‚</li></ul><p><br><strong>æå‡åº¦ (ç‰›å¥¶â†’å•¤é…’)</strong><br><strong><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1585752575464-518e8992-94d7-43e9-8ebd-5a11f913fb53.jpeg#align=left&display=inline&height=987&name=WechatIMG84.jpeg&originHeight=987&originWidth=1754&size=425247&status=done&style=none&width=1754" alt="WechatIMG84.jpeg"></strong><br><a name="j6KYP"></a></p><h3 id="Apriori-çš„å·¥ä½œåŸç†"><a href="#Apriori-çš„å·¥ä½œåŸç†" class="headerlink" title="Apriori çš„å·¥ä½œåŸç†"></a>Apriori çš„å·¥ä½œåŸç†</h3><p><br>æ˜ç™½äº†å…³è”è§„åˆ™ä¸­æ”¯æŒåº¦ã€ç½®ä¿¡åº¦å’Œæå‡åº¦è¿™å‡ ä¸ªé‡è¦æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ Apriori ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚é¦–å…ˆæˆ‘ä»¬æŠŠä¸Šé¢æ¡ˆä¾‹ä¸­çš„å•†å“ç”¨ ID æ¥ä»£è¡¨ï¼Œç‰›å¥¶ã€é¢åŒ…ã€å°¿å¸ƒã€å¯ä¹ã€å•¤é…’ã€é¸¡è›‹çš„å•†å“ ID åˆ†åˆ«è®¾ç½®ä¸º 1-6ï¼Œä¸Šé¢çš„æ•°æ®è¡¨å¯ä»¥å˜ä¸ºï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585752122553-ac9771fe-3eeb-4734-a9bb-b74262913f76.png#align=left&display=inline&height=196&name=e30fe11a21191259e6a93568461fa933.png&originHeight=196&originWidth=466&size=19390&status=done&style=none&width=466" alt="e30fe11a21191259e6a93568461fa933.png"><br><br><br>Apriori ç®—æ³•å…¶å®å°±æ˜¯æŸ¥æ‰¾<strong>é¢‘ç¹é¡¹é›† (frequent itemset) **çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä»€ä¹ˆæ˜¯é¢‘ç¹é¡¹é›†ã€‚</strong>é¢‘ç¹é¡¹é›†å°±æ˜¯æ”¯æŒåº¦å¤§äºç­‰äºæœ€å°æ”¯æŒåº¦ (Min Support) é˜ˆå€¼çš„é¡¹é›†**ï¼Œæ‰€ä»¥å°äºæœ€å°å€¼æ”¯æŒåº¦çš„é¡¹ç›®å°±æ˜¯éé¢‘ç¹é¡¹é›†ï¼Œè€Œå¤§äºç­‰äºæœ€å°æ”¯æŒåº¦çš„é¡¹é›†å°±æ˜¯é¢‘ç¹é¡¹é›†ã€‚<br><br><br>é¡¹é›†è¿™ä¸ªæ¦‚å¿µï¼Œè‹±æ–‡å«åš itemsetï¼Œå®ƒå¯ä»¥æ˜¯å•ä¸ªçš„å•†å“ï¼Œä¹Ÿå¯ä»¥æ˜¯å•†å“çš„ç»„åˆã€‚<br><br><br>æˆ‘ä»¬å†æ¥çœ‹ä¸‹è¿™ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘éšæœºæŒ‡å®šæœ€å°æ”¯æŒåº¦æ˜¯ 50%ï¼Œä¹Ÿå°±æ˜¯ 0.5ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹ Apriori ç®—æ³•æ˜¯å¦‚ä½•è¿ç®—çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè®¡ç®—å•ä¸ªå•†å“çš„æ”¯æŒåº¦ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ° K=1 é¡¹çš„æ”¯æŒåº¦ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585752711588-43ac0c51-e9d4-40bc-9e1a-d1074ab82df6.png#align=left&display=inline&height=228&name=fff5ba49aff930bba71c98685be4fcde.png&originHeight=228&originWidth=467&size=18392&status=done&style=none&width=467" alt="fff5ba49aff930bba71c98685be4fcde.png"><br><br><br>å› ä¸ºæœ€å°æ”¯æŒåº¦æ˜¯ 0.5ï¼Œæ‰€ä»¥ä½ èƒ½çœ‹åˆ°å•†å“ 4ã€6 æ˜¯ä¸ç¬¦åˆæœ€å°æ”¯æŒåº¦çš„ï¼Œä¸å±äºé¢‘ç¹é¡¹é›†ï¼Œäºæ˜¯ç»è¿‡ç­›é€‰å•†å“çš„é¢‘ç¹é¡¹é›†å°±å˜æˆï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585752793262-6a6d8b43-60c0-4be7-a89d-a2e7cc743eca.png#align=left&display=inline&height=164&name=ae108dc65c33e9ed9546a0d91bd881b6.png&originHeight=164&originWidth=464&size=15564&status=done&style=none&width=464" alt="ae108dc65c33e9ed9546a0d91bd881b6.png"><br><br><br>åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†å•†å“ä¸¤ä¸¤ç»„åˆï¼Œ æ ¹æ®è®¢å•ç¼–å·å›¾ï¼Œå¾—åˆ° k=2 é¡¹çš„æ”¯æŒåº¦ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585752835552-c15c5f06-8c43-4cc9-946a-0ad834631594.png#align=left&display=inline&height=228&name=a51fd814ebd68304e3cb137630af3ea3.png&originHeight=228&originWidth=463&size=19667&status=done&style=none&width=463" alt="a51fd814ebd68304e3cb137630af3ea3.png"><br><br><br>æˆ‘ä»¬å†ç­›æ‰å°äºæœ€å°å€¼æ”¯æŒåº¦çš„å•†å“ç»„åˆï¼Œå¯ä»¥å¾—åˆ°ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585753001938-ae00db12-51a2-44d9-8496-a8eabfc8f046.png#align=left&display=inline&height=136&name=a087cd1bd2a9e033105de275834b79c8.png&originHeight=136&originWidth=472&size=15168&status=done&style=none&width=472" alt="a087cd1bd2a9e033105de275834b79c8.png"></p><p>æˆ‘ä»¬å†å°†å•†å“è¿›è¡Œ K=3 é¡¹çš„å•†å“ç»„åˆï¼Œå¯ä»¥å¾—åˆ°ï¼š<br></p><table><thead><tr><th align="center">å•†å“é¡¹é›†</th><th align="center">æ”¯æŒåº¦</th></tr></thead><tbody><tr><td align="center">1ï¼Œ2ï¼Œ3</td><td align="center">3/5</td></tr><tr><td align="center">1ï¼Œ2ï¼Œ5</td><td align="center">1/5</td></tr><tr><td align="center">1ï¼Œ3ï¼Œ5</td><td align="center">2/5</td></tr><tr><td align="center">2ï¼Œ3ï¼Œ5</td><td align="center">2/5</td></tr></tbody></table><p><br>å†ç­›æ‰å°äºæœ€å°å€¼æ”¯æŒåº¦çš„å•†å“ç»„åˆï¼Œå¯ä»¥å¾—åˆ°ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585753598894-55ee09c8-60e6-424c-9c09-21893fc841de.png#align=left&display=inline&height=75&name=d51fc9137a537d8cb96fa21707cab70f.png&originHeight=75&originWidth=469&size=12115&status=done&style=none&width=469" alt="d51fc9137a537d8cb96fa21707cab70f.png"></p><p>é€šè¿‡ä¸Šé¢è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° K=3 é¡¹çš„é¢‘ç¹é¡¹é›†{1,2,3}ï¼Œä¹Ÿå°±æ˜¯{ç‰›å¥¶ã€é¢åŒ…ã€å°¿å¸ƒ}çš„ç»„åˆã€‚<br><br><br>åˆ°è¿™é‡Œï¼Œä½ å·²ç»å’Œæˆ‘æ¨¡æ‹Ÿäº†ä¸€éæ•´ä¸ª Apriori ç®—æ³•çš„æµç¨‹ï¼Œä¸‹é¢æˆ‘æ¥ç»™ä½ æ€»ç»“ä¸‹ Apriori ç®—æ³•çš„é€’å½’æµç¨‹ï¼š</p><ul><li>K=1ï¼Œè®¡ç®— K é¡¹é›†çš„æ”¯æŒåº¦ï¼›</li><li>ç­›é€‰æ‰å°äºæœ€å°æ”¯æŒåº¦çš„é¡¹é›†ï¼›</li><li>å¦‚æœé¡¹é›†ä¸ºç©ºï¼Œåˆ™å¯¹åº” K-1 é¡¹é›†çš„ç»“æœä¸ºæœ€ç»ˆç»“æœã€‚</li></ul><p><br>å¦åˆ™ K=K+1ï¼Œé‡å¤ 1-3 æ­¥ã€‚<br></p><p><a name="gNxin"></a></p><h3 id="Apriori-çš„æ”¹è¿›ç®—æ³•ï¼šFP-Growth-ç®—æ³•"><a href="#Apriori-çš„æ”¹è¿›ç®—æ³•ï¼šFP-Growth-ç®—æ³•" class="headerlink" title="Apriori çš„æ”¹è¿›ç®—æ³•ï¼šFP-Growth ç®—æ³•"></a>Apriori çš„æ”¹è¿›ç®—æ³•ï¼šFP-Growth ç®—æ³•</h3><p><br>æˆ‘ä»¬åˆšå®Œæˆäº† Apriori ç®—æ³•çš„æ¨¡æ‹Ÿï¼Œä½ èƒ½çœ‹åˆ° Apriori åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­æœ‰ä»¥ä¸‹å‡ ä¸ªç¼ºç‚¹ï¼š</p><ul><li>å¯èƒ½äº§ç”Ÿå¤§é‡çš„å€™é€‰é›†ã€‚å› ä¸ºé‡‡ç”¨æ’åˆ—ç»„åˆçš„æ–¹å¼ï¼ŒæŠŠå¯èƒ½çš„é¡¹é›†éƒ½ç»„åˆå‡ºæ¥äº†ï¼›</li><li>æ¯æ¬¡è®¡ç®—éƒ½éœ€è¦é‡æ–°æ‰«ææ•°æ®é›†ï¼Œæ¥è®¡ç®—æ¯ä¸ªé¡¹é›†çš„æ”¯æŒåº¦ã€‚</li></ul><p><br>æ‰€ä»¥ Apriori ç®—æ³•ä¼šæµªè´¹å¾ˆå¤šè®¡ç®—ç©ºé—´å’Œè®¡ç®—æ—¶é—´ï¼Œä¸ºæ­¤äººä»¬æå‡ºäº† FP-Growth ç®—æ³•ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šåˆ›å»ºäº†ä¸€æ£µ FP æ ‘æ¥å­˜å‚¨é¢‘ç¹é¡¹é›†ã€‚åœ¨åˆ›å»ºå‰å¯¹ä¸æ»¡è¶³æœ€å°æ”¯æŒåº¦çš„é¡¹è¿›è¡Œåˆ é™¤ï¼Œå‡å°‘äº†å­˜å‚¨ç©ºé—´ã€‚<br><br><br>æˆ‘ç¨åä¼šè®²è§£å¦‚ä½•æ„é€ ä¸€æ£µ FP æ ‘ï¼›æ•´ä¸ªç”Ÿæˆè¿‡ç¨‹åªéå†æ•°æ®é›† 2 æ¬¡ï¼Œå¤§å¤§å‡å°‘äº†è®¡ç®—é‡ã€‚æ‰€ä»¥åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨ FP-Growth æ¥åšé¢‘ç¹é¡¹é›†çš„æŒ–æ˜ï¼Œä¸‹é¢æˆ‘ç»™ä½ ç®€è¿°ä¸‹ FP-Growth çš„åŸç†ã€‚<br><br><br><strong>1. åˆ›å»ºé¡¹å¤´è¡¨ï¼ˆitem header tableï¼‰</strong><br><br><br>åˆ›å»ºé¡¹å¤´è¡¨çš„ä½œç”¨æ˜¯ä¸º FP æ„å»ºåŠé¢‘ç¹é¡¹é›†æŒ–æ˜æä¾›ç´¢å¼•ã€‚è¿™ä¸€æ­¥çš„æµç¨‹æ˜¯å…ˆæ‰«æä¸€éæ•°æ®é›†ï¼Œå¯¹äºæ»¡è¶³æœ€å°æ”¯æŒåº¦çš„å•ä¸ªé¡¹ï¼ˆK=1 é¡¹é›†ï¼‰æŒ‰ç…§æ”¯æŒåº¦ä»é«˜åˆ°ä½è¿›è¡Œæ’åºï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åˆ é™¤äº†ä¸æ»¡è¶³æœ€å°æ”¯æŒåº¦çš„é¡¹ã€‚é¡¹å¤´è¡¨åŒ…æ‹¬äº†é¡¹ç›®ã€æ”¯æŒåº¦ï¼Œä»¥åŠè¯¥é¡¹åœ¨ FP æ ‘ä¸­çš„é“¾è¡¨ã€‚åˆå§‹çš„æ—¶å€™é“¾è¡¨ä¸ºç©ºã€‚<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585753828193-fb2cd719-a0ba-4ff8-ae47-a1321a8065fb.png#align=left&display=inline&height=166&name=69ce07c61a654faafb4f5114df1557f5.png&originHeight=166&originWidth=485&size=16312&status=done&style=none&width=485" alt="69ce07c61a654faafb4f5114df1557f5.png"><br><br><br><strong>2. æ„é€  FP æ ‘</strong><br><br><br>FP æ ‘çš„æ ¹èŠ‚ç‚¹è®°ä¸º NULL èŠ‚ç‚¹ã€‚æ•´ä¸ªæµç¨‹æ˜¯éœ€è¦å†æ¬¡æ‰«ææ•°æ®é›†ï¼Œå¯¹äºæ¯ä¸€æ¡æ•°æ®ï¼ŒæŒ‰ç…§æ”¯æŒåº¦ä»é«˜åˆ°ä½çš„é¡ºåºè¿›è¡Œåˆ›å»ºèŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€æ­¥ä¸­é¡¹å¤´è¡¨ä¸­çš„æ’åºç»“æœï¼‰ï¼ŒèŠ‚ç‚¹å¦‚æœå­˜åœ¨å°±å°†è®¡æ•° count+1ï¼Œå¦‚æœä¸å­˜åœ¨å°±è¿›è¡Œåˆ›å»ºã€‚åŒæ—¶åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ›´æ–°é¡¹å¤´è¡¨çš„é“¾è¡¨ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585754477615-f0cc1aeb-f303-4170-aa56-9102a1f3717c.png#align=left&display=inline&height=976&name=image.png&originHeight=976&originWidth=2198&size=1341075&status=done&style=none&width=2198" alt="image.png"><br><br><br><strong>3. é€šè¿‡ FP æ ‘æŒ–æ˜é¢‘ç¹é¡¹é›†</strong><br><br><br>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå­˜å‚¨é¢‘ç¹é¡¹é›†çš„ FP æ ‘ï¼Œä»¥åŠä¸€ä¸ªé¡¹å¤´è¡¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é¡¹å¤´è¡¨æ¥æŒ–æ˜å‡ºæ¯ä¸ªé¢‘ç¹é¡¹é›†ã€‚å…·ä½“çš„æ“ä½œä¼šç”¨åˆ°ä¸€ä¸ªæ¦‚å¿µï¼Œå«â€œæ¡ä»¶æ¨¡å¼åŸºâ€ï¼Œå®ƒæŒ‡çš„æ˜¯ä»¥è¦æŒ–æ˜çš„èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œè‡ªåº•å‘ä¸Šæ±‚å‡º FP å­æ ‘ï¼Œç„¶åå°† FP å­æ ‘çš„ç¥–å…ˆèŠ‚ç‚¹è®¾ç½®ä¸ºå¶å­èŠ‚ç‚¹ä¹‹å’Œã€‚æˆ‘ä»¥â€œå•¤é…’â€çš„èŠ‚ç‚¹ä¸ºä¾‹ï¼Œä» FP æ ‘ä¸­å¯ä»¥å¾—åˆ°ä¸€æ£µ FP å­æ ‘ï¼Œå°†ç¥–å…ˆèŠ‚ç‚¹çš„æ”¯æŒåº¦è®°ä¸ºå¶å­èŠ‚ç‚¹ä¹‹å’Œï¼Œå¾—åˆ°ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585754623125-7a63f4af-3a40-4030-b56e-4ef0c3263815.png#align=left&display=inline&height=1130&name=image.png&originHeight=1130&originWidth=1332&size=630041&status=done&style=none&width=1332" alt="image.png"><br><br><br>ä½ èƒ½çœ‹å‡ºæ¥ï¼Œç›¸æ¯”äºåŸæ¥çš„ FP æ ‘ï¼Œå°¿å¸ƒå’Œç‰›å¥¶çš„é¢‘ç¹é¡¹é›†æ•°å‡å°‘äº†ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ±‚å¾—çš„æ˜¯ä»¥â€œå•¤é…’â€ä¸ºèŠ‚ç‚¹çš„ FP å­æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨é¢‘ç¹é¡¹é›†ä¸­ä¸€å®šè¦å«æœ‰â€œå•¤é…’â€è¿™ä¸ªé¡¹ã€‚<br><br><br>ä½ å¯ä»¥å†çœ‹ä¸‹åŸå§‹çš„æ•°æ®ï¼Œå…¶ä¸­è®¢å• 1{ç‰›å¥¶ã€é¢åŒ…ã€å°¿å¸ƒ}å’Œè®¢å• 5{ç‰›å¥¶ã€é¢åŒ…ã€å°¿å¸ƒã€å¯ä¹}å¹¶ä¸å­˜åœ¨â€œå•¤é…’â€è¿™ä¸ªé¡¹ï¼Œæ‰€ä»¥é’ˆå¯¹è®¢å• 1ï¼Œå°¿å¸ƒâ†’ç‰›å¥¶â†’é¢åŒ…è¿™ä¸ªé¡¹é›†å°±ä¼šä» FP æ ‘ä¸­å»æ‰ï¼Œé’ˆå¯¹è®¢å• 5 ä¹ŸåŒ…æ‹¬äº†å°¿å¸ƒâ†’ç‰›å¥¶â†’é¢åŒ…è¿™ä¸ªé¡¹é›†ä¹Ÿä¼šä» FP æ ‘ä¸­å»æ‰ï¼Œæ‰€ä»¥ä½ èƒ½çœ‹åˆ°ä»¥â€œå•¤é…’â€ä¸ºèŠ‚ç‚¹çš„ FP å­æ ‘ï¼Œå°¿å¸ƒã€ç‰›å¥¶ã€é¢åŒ…é¡¹é›†ä¸Šçš„è®¡æ•°æ¯”åŸæ¥å°‘äº† 2ã€‚<br><br><br>æ¡ä»¶æ¨¡å¼åŸºä¸åŒ…æ‹¬â€œå•¤é…’â€èŠ‚ç‚¹ï¼Œè€Œä¸”ç¥–å…ˆèŠ‚ç‚¹å¦‚æœå°äºæœ€å°æ”¯æŒåº¦å°±ä¼šè¢«å‰ªæï¼Œæ‰€ä»¥â€œå•¤é…’â€çš„æ¡ä»¶æ¨¡å¼åŸºä¸ºç©ºã€‚åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚å¾—â€œé¢åŒ…â€çš„æ¡ä»¶æ¨¡å¼åŸºä¸ºï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585754761520-d88566ff-b066-4d0e-be2f-9aabe0352757.png#align=left&display=inline&height=754&name=41026c8f25b64b01125c8b8d6a19a113.png&originHeight=754&originWidth=724&size=288803&status=done&style=none&width=724" alt="41026c8f25b64b01125c8b8d6a19a113.png"><br><br><br>æ‰€ä»¥å¯ä»¥æ±‚å¾—é¢åŒ…çš„é¢‘ç¹é¡¹é›†ä¸º{å°¿å¸ƒï¼Œé¢åŒ…}ï¼Œ{å°¿å¸ƒï¼Œç‰›å¥¶ï¼Œé¢åŒ…}ã€‚åŒæ ·ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ±‚å¾—ç‰›å¥¶ï¼Œå°¿å¸ƒçš„é¢‘ç¹é¡¹é›†ï¼Œè¿™é‡Œå°±ä¸å†è®¡ç®—å±•ç¤ºã€‚<br></p><p><a name="yN64E"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><br>ä»Šå¤©æˆ‘ç»™ä½ è®²äº† Apriori ç®—æ³•ï¼Œå®ƒæ˜¯åœ¨â€œè´­ç‰©ç¯®åˆ†æâ€ä¸­å¸¸ç”¨çš„å…³è”è§„åˆ™æŒ–æ˜ç®—æ³•ï¼Œåœ¨ Apriori ç®—æ³•ä¸­ä½ æœ€ä¸»è¦æ˜¯éœ€è¦æ˜ç™½æ”¯æŒåº¦ã€ç½®ä¿¡åº¦ã€æå‡åº¦è¿™å‡ ä¸ªæ¦‚å¿µï¼Œä»¥åŠ Apriori è¿­ä»£è®¡ç®—é¢‘ç¹é¡¹é›†çš„å·¥ä½œæµç¨‹ã€‚<br><br><br>Apriori ç®—æ³•åœ¨å®é™…å·¥ä½œä¸­éœ€è¦å¯¹æ•°æ®é›†æ‰«æå¤šæ¬¡ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„è®¡ç®—æ—¶é—´ï¼Œæ‰€ä»¥åœ¨ 2000 å¹´ FP-Growth ç®—æ³•è¢«æå‡ºæ¥ï¼Œå®ƒåªéœ€è¦æ‰«æä¸¤æ¬¡æ•°æ®é›†å³å¯ä»¥å®Œæˆå…³è”è§„åˆ™çš„æŒ–æ˜ã€‚<br><br><br>FP-Growth ç®—æ³•æœ€ä¸»è¦çš„è´¡çŒ®å°±æ˜¯æå‡ºäº† FP æ ‘å’Œé¡¹å¤´è¡¨ï¼Œé€šè¿‡ FP æ ‘å‡å°‘äº†é¢‘ç¹é¡¹é›†çš„å­˜å‚¨ä»¥åŠè®¡ç®—æ—¶é—´ã€‚å½“ç„¶ Apriori çš„æ”¹è¿›ç®—æ³•é™¤äº† FP-Growth ç®—æ³•ä»¥å¤–ï¼Œè¿˜æœ‰ CBA ç®—æ³•ã€GSP ç®—æ³•ï¼Œè¿™é‡Œå°±ä¸è¿›è¡Œä»‹ç»ã€‚<br><br><br>ä½ èƒ½å‘ç°ä¸€ç§æ–°ç†è®ºçš„æå‡ºï¼Œå¾€å¾€æ˜¯å…ˆä»æœ€åŸå§‹çš„æ¦‚å¿µå‡ºå‘ï¼Œæå‡ºä¸€ç§æ–°çš„æ–¹æ³•ã€‚åŸå§‹æ¦‚å¿µæœ€æ¥è¿‘äººä»¬æ¨¡æ‹Ÿçš„è¿‡ç¨‹ï¼Œä½†å¾€å¾€ä¼šå­˜åœ¨ç©ºé—´å’Œæ—¶é—´å¤æ‚åº¦è¿‡é«˜çš„æƒ…å†µã€‚æ‰€ä»¥åé¢å…¶ä»–äººä¼šå¯¹è¿™ä¸ªæ–¹æ³•åšæ”¹è¿›å‹çš„åˆ›æ–°ï¼Œé‡ç‚¹æ˜¯åœ¨ç©ºé—´å’Œæ—¶é—´å¤æ‚åº¦ä¸Šè¿›è¡Œé™ç»´ï¼Œæ¯”å¦‚é‡‡ç”¨æ–°å‹çš„æ•°æ®ç»“æ„ã€‚ä½ èƒ½çœ‹å‡ºæ ‘åœ¨å­˜å‚¨å’Œæ£€ç´¢ä¸­æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„æ•°æ®ç»“æ„ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585755090342-5e94e16e-33a2-4d60-b886-2c5908be24a5.png#align=left&display=inline&height=849&name=c7aee3b17269139ed3d5a6b82cc56735.png&originHeight=849&originWidth=1552&size=380704&status=done&style=none&width=1552" alt="c7aee3b17269139ed3d5a6b82cc56735.png"><br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;å…³è”è§„åˆ™è¿™ä¸ªæ¦‚å¿µï¼Œæœ€æ—©æ˜¯ç”± Agrawal ç­‰äººåœ¨ 1993 å¹´æå‡ºçš„ã€‚åœ¨ 1994 å¹´ Agrawal ç­‰äººåˆæå‡ºäº†åŸºäºå…³è”è§„åˆ™çš„ Aprio
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Apriori" scheme="cpeixin.cn/tags/Apriori/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-å…³è”è§„åˆ™ å®æˆ˜</title>
    <link href="cpeixin.cn/2019/03/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99-%E5%AE%9E%E6%88%98/"/>
    <id>cpeixin.cn/2019/03/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99-%E5%AE%9E%E6%88%98/</id>
    <published>2019-03-01T14:19:27.000Z</published>
    <updated>2020-04-05T14:30:52.019Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>æ˜¨å¤©è®²è§£äº†å…³è”è§„åˆ™æŒ–æ˜çš„åŸç†ã€‚å…³è”è§„åˆ™æŒ–æ˜åœ¨ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œä¸ä»…æ˜¯å•†å“çš„æ†ç»‘é”€å”®ï¼Œç”šè‡³åœ¨æŒ‘é€‰æ¼”å‘˜å†³ç­–ä¸Šï¼Œä½ ä¹Ÿèƒ½é€šè¿‡å…³è”è§„åˆ™æŒ–æ˜çœ‹å‡ºæ¥æŸä¸ªå¯¼æ¼”é€‰æ‹©æ¼”å‘˜çš„å€¾å‘ã€‚ä»Šå¤©æˆ‘æ¥å¸¦ä½ ç”¨ Apriori ç®—æ³•åšä¸€ä¸ªé¡¹ç›®å®æˆ˜ã€‚<br><br><br>ä½ éœ€è¦æŒæ¡çš„æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š<br></p><ul><li>ç†Ÿæ‚‰ä¸ŠèŠ‚è¯¾è®²åˆ°çš„å‡ ä¸ªé‡è¦æ¦‚å¿µï¼šæ”¯æŒåº¦ã€ç½®ä¿¡åº¦å’Œæå‡åº¦ï¼›</li><li>ç†Ÿæ‚‰ä¸æŒæ¡ Apriori å·¥å…·åŒ…çš„ä½¿ç”¨ï¼›</li><li>åœ¨å®é™…é—®é¢˜ä¸­ï¼Œçµæ´»è¿ç”¨ã€‚åŒ…æ‹¬æ•°æ®é›†çš„å‡†å¤‡ç­‰ã€‚</li></ul><p><a name="ZNoZJ"></a></p><h3 id="å¦‚ä½•ä½¿ç”¨-Apriori"><a href="#å¦‚ä½•ä½¿ç”¨-Apriori" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ Apriori"></a>å¦‚ä½•ä½¿ç”¨ Apriori</h3><p><br>Apriori è™½ç„¶æ˜¯åå¤§ç®—æ³•ä¹‹ä¸€ï¼Œä¸è¿‡åœ¨ sklearn å·¥å…·åŒ…ä¸­å¹¶æ²¡æœ‰å®ƒï¼Œä¹Ÿæ²¡æœ‰ FP-Growth ç®—æ³•ã€‚è¿™é‡Œæ•™ä½ ä¸ªæ–¹æ³•ï¼Œæ¥é€‰æ‹© Python ä¸­å¯ä»¥ä½¿ç”¨çš„å·¥å…·åŒ…ï¼Œä½ å¯ä»¥é€šè¿‡<a href="https://pypi.org/" target="_blank" rel="external nofollow noopener noreferrer">https://pypi.org/</a> æœç´¢å·¥å…·åŒ…ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585838109422-3948da19-7f5e-439f-ae9f-53c4da519dd3.png#align=left&display=inline&height=767&name=image.png&originHeight=767&originWidth=1726&size=192193&status=done&style=none&width=1726" alt="image.png"><br><br><br>è¿™ä¸ªç½‘ç«™æä¾›çš„å·¥å…·åŒ…éƒ½æ˜¯ Python è¯­è¨€çš„ï¼Œä½ èƒ½æ‰¾åˆ° 8 ä¸ª Python è¯­è¨€çš„ Apriori å·¥å…·åŒ…ï¼Œå…·ä½“é€‰æ‹©å“ªä¸ªå‘¢ï¼Ÿå»ºè®®ä½ ä½¿ç”¨ç¬¬äºŒä¸ªå·¥å…·åŒ…ï¼Œå³ efficient-aprioriã€‚åé¢æˆ‘ä¼šè®²åˆ°ä¸ºä»€ä¹ˆæ¨èè¿™ä¸ªå·¥å…·åŒ…ã€‚<br><br><br>é¦–å…ˆä½ éœ€è¦é€šè¿‡ pip install efficient-apriori å®‰è£…è¿™ä¸ªå·¥å…·åŒ…ã€‚ç„¶åçœ‹ä¸‹å¦‚ä½•ä½¿ç”¨å®ƒï¼Œæ ¸å¿ƒçš„ä»£ç å°±æ˜¯è¿™ä¸€è¡Œï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">itemsets, rules = apriori(data, min_support,  min_confidence)</span><br></pre></td></tr></table></figure><p><br>å…¶ä¸­ data æ˜¯æˆ‘ä»¬è¦æä¾›çš„æ•°æ®é›†ï¼Œå®ƒæ˜¯ä¸€ä¸ª list æ•°ç»„ç±»å‹ã€‚min_support å‚æ•°ä¸ºæœ€å°æ”¯æŒåº¦ï¼Œåœ¨ efficient-apriori å·¥å…·åŒ…ä¸­ç”¨ 0 åˆ° 1 çš„æ•°å€¼ä»£è¡¨ç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚ 0.5 ä»£è¡¨æœ€å°æ”¯æŒåº¦ä¸º 50%ã€‚min_confidence æ˜¯æœ€å°ç½®ä¿¡åº¦ï¼Œæ•°å€¼ä¹Ÿä»£è¡¨ç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚ 1 ä»£è¡¨ 100%ã€‚<br></p><blockquote><p>ä¸€èˆ¬æ¥è¯´æœ€å°æ”¯æŒåº¦å¸¸è§çš„å–å€¼æœ‰0.5ï¼Œ0.1, 0.05ã€‚æœ€å°ç½®ä¿¡åº¦å¸¸è§çš„å–å€¼æœ‰1.0, 0.9, 0.8ã€‚å¯ä»¥é€šè¿‡å°è¯•ä¸€äº›å–å€¼ï¼Œç„¶åè§‚å¯Ÿå…³è”ç»“æœçš„æ–¹å¼æ¥è°ƒæ•´æœ€å°å€¼å°ºåº¦å’Œæœ€å°ç½®ä¿¡åº¦çš„å–å€¼ã€‚</p></blockquote><p><br>å…³äºæ”¯æŒåº¦ã€ç½®ä¿¡åº¦å’Œæå‡åº¦ï¼Œæˆ‘ä»¬å†æ¥ç®€å•å›å¿†ä¸‹ã€‚<br><br><br>æ”¯æŒåº¦æŒ‡çš„æ˜¯æŸä¸ªå•†å“ç»„åˆå‡ºç°çš„æ¬¡æ•°ä¸æ€»æ¬¡æ•°ä¹‹é—´çš„æ¯”ä¾‹ã€‚æ”¯æŒåº¦è¶Šé«˜ï¼Œä»£è¡¨è¿™ä¸ªç»„åˆå‡ºç°çš„æ¦‚ç‡è¶Šå¤§ã€‚<br><br><br>ç½®ä¿¡åº¦æ˜¯ä¸€ä¸ªæ¡ä»¶æ¦‚å¿µï¼Œå°±æ˜¯åœ¨ A å‘ç”Ÿçš„æƒ…å†µä¸‹ï¼ŒB å‘ç”Ÿçš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚<br><br><br>æå‡åº¦ä»£è¡¨çš„æ˜¯â€œå•†å“ A çš„å‡ºç°ï¼Œå¯¹å•†å“ B çš„å‡ºç°æ¦‚ç‡æå‡äº†å¤šå°‘â€ã€‚<br><br><br>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨è¿™ä¸ªå·¥å…·åŒ…ï¼Œè·‘ä¸€ä¸‹ä¸ŠèŠ‚è¯¾ä¸­è®²åˆ°çš„è¶…å¸‚è´­ç‰©çš„ä¾‹å­ã€‚ä¸‹é¢æ˜¯å®¢æˆ·è´­ä¹°çš„å•†å“åˆ—è¡¨ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585838224965-bc422cf1-7921-43d2-893c-46fff07a69a9.png#align=left&display=inline&height=202&name=image.png&originHeight=202&originWidth=476&size=27188&status=done&style=none&width=476" alt="image.png"><br><br><br>å…·ä½“å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> efficient_apriori <span class="keyword">import</span> apriori</span><br><span class="line"><span class="comment"># è®¾ç½®æ•°æ®é›†</span></span><br><span class="line">data = [(<span class="string">'ç‰›å¥¶'</span>,<span class="string">'é¢åŒ…'</span>,<span class="string">'å°¿å¸ƒ'</span>),</span><br><span class="line">           (<span class="string">'å¯ä¹'</span>,<span class="string">'é¢åŒ…'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>),</span><br><span class="line">           (<span class="string">'ç‰›å¥¶'</span>,<span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>, <span class="string">'é¸¡è›‹'</span>),</span><br><span class="line">           (<span class="string">'é¢åŒ…'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>),</span><br><span class="line">           (<span class="string">'é¢åŒ…'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å¯ä¹'</span>)]</span><br><span class="line"><span class="comment"># æŒ–æ˜é¢‘ç¹é¡¹é›†å’Œé¢‘ç¹è§„åˆ™</span></span><br><span class="line">itemsets, rules = apriori(data, min_support=<span class="number">0.5</span>,  min_confidence=<span class="number">1</span>)</span><br><span class="line">print(itemsets)</span><br><span class="line">print(rules)</span><br></pre></td></tr></table></figure><p><br>ç»“æœï¼š<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;<span class="number">1</span>: &#123;(<span class="string">'å•¤é…’'</span>,): <span class="number">3</span>, (<span class="string">'å°¿å¸ƒ'</span>,): <span class="number">5</span>, (<span class="string">'ç‰›å¥¶'</span>,): <span class="number">4</span>, (<span class="string">'é¢åŒ…'</span>,): <span class="number">4</span>&#125;, <span class="number">2</span>: &#123;(<span class="string">'å•¤é…’'</span>, <span class="string">'å°¿å¸ƒ'</span>): <span class="number">3</span>, (<span class="string">'å°¿å¸ƒ'</span>, <span class="string">'ç‰›å¥¶'</span>): <span class="number">4</span>, (<span class="string">'å°¿å¸ƒ'</span>, <span class="string">'é¢åŒ…'</span>): <span class="number">4</span>, (<span class="string">'ç‰›å¥¶'</span>, <span class="string">'é¢åŒ…'</span>): <span class="number">3</span>&#125;, <span class="number">3</span>: &#123;(<span class="string">'å°¿å¸ƒ'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'é¢åŒ…'</span>): <span class="number">3</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">[&#123;å•¤é…’&#125; -&gt; &#123;å°¿å¸ƒ&#125;, &#123;ç‰›å¥¶&#125; -&gt; &#123;å°¿å¸ƒ&#125;, &#123;é¢åŒ…&#125; -&gt; &#123;å°¿å¸ƒ&#125;, &#123;ç‰›å¥¶, é¢åŒ…&#125; -&gt; &#123;å°¿å¸ƒ&#125;]</span><br></pre></td></tr></table></figure><p><br>ä½ èƒ½ä»ä»£ç ä¸­çœ‹å‡ºæ¥ï¼Œdata æ˜¯ä¸ª List æ•°ç»„ç±»å‹ï¼Œå…¶ä¸­æ¯ä¸ªå€¼éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªé›†åˆã€‚å®é™…ä¸Šä½ ä¹Ÿå¯ä»¥æŠŠ data æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼è®¾ç½®ä¸º List æ•°ç»„ç±»å‹ï¼Œæ¯”å¦‚ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">data = [[<span class="string">'ç‰›å¥¶'</span>,<span class="string">'é¢åŒ…'</span>,<span class="string">'å°¿å¸ƒ'</span>],</span><br><span class="line">           [<span class="string">'å¯ä¹'</span>,<span class="string">'é¢åŒ…'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>],</span><br><span class="line">           [<span class="string">'ç‰›å¥¶'</span>,<span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>, <span class="string">'é¸¡è›‹'</span>],</span><br><span class="line">           [<span class="string">'é¢åŒ…'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å•¤é…’'</span>],</span><br><span class="line">           [<span class="string">'é¢åŒ…'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'å°¿å¸ƒ'</span>, <span class="string">'å¯ä¹'</span>]]</span><br></pre></td></tr></table></figure><p><br>ä¸¤è€…çš„è¿è¡Œç»“æœæ˜¯ä¸€æ ·çš„ï¼Œefficient-apriori å·¥å…·åŒ…æŠŠæ¯ä¸€æ¡æ•°æ®é›†é‡Œçš„é¡¹å¼éƒ½æ”¾åˆ°äº†ä¸€ä¸ªé›†åˆä¸­è¿›è¡Œè¿ç®—ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘å®ƒä»¬ä¹‹é—´çš„å…ˆåé¡ºåºã€‚<strong>å› ä¸ºå®é™…æƒ…å†µä¸‹ï¼ŒåŒä¸€ä¸ªè´­ç‰©ç¯®ä¸­çš„ç‰©å“ä¹Ÿä¸éœ€è¦è€ƒè™‘è´­ä¹°çš„å…ˆåé¡ºåºã€‚è€Œå…¶ä»–çš„ Apriori ç®—æ³•å¯èƒ½ä¼šå› ä¸ºè€ƒè™‘äº†å…ˆåé¡ºåºï¼Œå‡ºç°è®¡ç®—é¢‘ç¹é¡¹é›†ç»“æœä¸å¯¹çš„æƒ…å†µã€‚æ‰€ä»¥è¿™é‡Œé‡‡ç”¨çš„æ˜¯ efficient-apriori è¿™ä¸ªå·¥å…·åŒ…ã€‚</strong><br>**<br><a name="ajpzD"></a></p><h3 id="æŒ–æ˜-å¯¼æ¼”æ˜¯å¦‚ä½•é€‰æ‹©æ¼”å‘˜"><a href="#æŒ–æ˜-å¯¼æ¼”æ˜¯å¦‚ä½•é€‰æ‹©æ¼”å‘˜" class="headerlink" title="æŒ–æ˜-å¯¼æ¼”æ˜¯å¦‚ä½•é€‰æ‹©æ¼”å‘˜"></a>æŒ–æ˜-å¯¼æ¼”æ˜¯å¦‚ä½•é€‰æ‹©æ¼”å‘˜</h3><p><br>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæ•°æ®é›†æ˜¯éœ€è¦è‡ªå·±æ¥å‡†å¤‡çš„ï¼Œæ¯”å¦‚ä»Šå¤©æˆ‘ä»¬è¦æŒ–æ˜å¯¼æ¼”æ˜¯å¦‚ä½•é€‰æ‹©æ¼”å‘˜çš„æ•°æ®æƒ…å†µï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å…¬å¼€çš„æ•°æ®é›†å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¹‹å‰è®²åˆ°çš„ Python çˆ¬è™«è¿›è¡Œæ•°æ®é‡‡é›†ã€‚ä¸åŒå¯¼æ¼”é€‰æ‹©æ¼”å‘˜çš„è§„åˆ™æ˜¯ä¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šå¯¼æ¼”ã€‚æ•°æ®æºæˆ‘ä»¬é€‰ç”¨è±†ç“£ç”µå½±ã€‚å…ˆæ¥æ¢³ç†ä¸‹é‡‡é›†çš„å·¥ä½œæµç¨‹ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨<a href="https://movie.douban.comæœç´¢æ¡†ä¸­è¾“å…¥å¯¼æ¼”å§“åï¼Œæ¯”å¦‚â€œå®æµ©â€ã€‚" target="_blank" rel="external nofollow noopener noreferrer">https://movie.douban.comæœç´¢æ¡†ä¸­è¾“å…¥å¯¼æ¼”å§“åï¼Œæ¯”å¦‚â€œå®æµ©â€ã€‚</a><br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585838710307-db035b28-c32f-4010-bf42-fb3d28c527dc.png#align=left&display=inline&height=1150&name=image.png&originHeight=1150&originWidth=1728&size=524786&status=done&style=none&width=1728" alt="image.png"><br><br><br>é¡µé¢ä¼šå‘ˆç°å‡ºæ¥å¯¼æ¼”ä¹‹å‰çš„æ‰€æœ‰ç”µå½±ï¼Œç„¶åå¯¹é¡µé¢è¿›è¡Œè§‚å¯Ÿï¼Œä½ èƒ½è§‚å¯Ÿåˆ°ä»¥ä¸‹å‡ ä¸ªç°è±¡ï¼š</p><ol><li>é¡µé¢é»˜è®¤æ˜¯ 15 æ¡æ•°æ®åé¦ˆï¼Œç¬¬ä¸€é¡µä¼šè¿”å› 16 æ¡ã€‚å› ä¸ºç¬¬ä¸€æ¡æ•°æ®å®é™…ä¸Šè¿™ä¸ªå¯¼æ¼”çš„æ¦‚è§ˆï¼Œä½ å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€æ¡å¹¿å‘Šçš„æ’å…¥ï¼Œä¸‹é¢æ‰æ˜¯çœŸæ­£çš„è¿”å›ç»“æœã€‚</li><li>æ¯æ¡æ•°æ®çš„æœ€åä¸€è¡Œæ˜¯ç”µå½±çš„æ¼”å‡ºäººå‘˜çš„ä¿¡æ¯ï¼Œç¬¬ä¸€ä¸ªäººå‘˜æ˜¯å¯¼æ¼”ï¼Œå…¶ä½™ä¸ºæ¼”å‘˜å§“åã€‚å§“åä¹‹é—´ç”¨â€œ/â€åˆ†å‰²ã€‚æœ‰äº†è¿™äº›è§‚å¯Ÿä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–å†™æŠ“å–ç¨‹åºäº†ã€‚</li></ol><p><br>åœ¨ä»£ç è®²è§£ä¸­ä½ èƒ½çœ‹å‡ºè¿™ä¸¤ç‚¹è§‚å¯Ÿçš„ä½œç”¨ã€‚æŠ“å–ç¨‹åºçš„ç›®çš„æ˜¯ä¸ºäº†ç”Ÿæˆå®æµ©å¯¼æ¼”ï¼ˆä½ ä¹Ÿå¯ä»¥æŠ“å–å…¶ä»–å¯¼æ¼”ï¼‰çš„æ•°æ®é›†ï¼Œç»“æœä¼šä¿å­˜åœ¨ csv æ–‡ä»¶ä¸­ã€‚å®Œæ•´çš„æŠ“å–ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># ä¸‹è½½æŸä¸ªå¯¼æ¼”çš„ç”µå½±æ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> efficient_apriori <span class="keyword">import</span> apriori</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line"><span class="comment"># è®¾ç½®æƒ³è¦ä¸‹è½½çš„å¯¼æ¼” æ•°æ®é›†</span></span><br><span class="line">director = <span class="string">u'å®æµ©'</span></span><br><span class="line"><span class="comment"># å†™CSVæ–‡ä»¶</span></span><br><span class="line">file_name = <span class="string">'./'</span> + director + <span class="string">'.csv'</span></span><br><span class="line">base_url = <span class="string">'https://movie.douban.com/subject_search?search_text='</span>+director+<span class="string">'&amp;cat=1002&amp;start='</span></span><br><span class="line">out = open(file_name,<span class="string">'w'</span>, newline=<span class="string">''</span>, encoding=<span class="string">'utf-8-sig'</span>)</span><br><span class="line">csv_write = csv.writer(out, dialect=<span class="string">'excel'</span>)</span><br><span class="line">flags=[]</span><br><span class="line"><span class="comment"># ä¸‹è½½æŒ‡å®šé¡µé¢çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(request_url)</span>:</span></span><br><span class="line">  driver.get(request_url)</span><br><span class="line">  time.sleep(<span class="number">1</span>)</span><br><span class="line">  html = driver.find_element_by_xpath(<span class="string">"//*"</span>).get_attribute(<span class="string">"outerHTML"</span>)</span><br><span class="line">  html = etree.HTML(html)</span><br><span class="line">  <span class="comment"># è®¾ç½®ç”µå½±åç§°ï¼Œå¯¼æ¼”æ¼”å‘˜ çš„XPATH</span></span><br><span class="line">  movie_lists = html.xpath(<span class="string">"/html/body/div[@id='wrapper']/div[@id='root']/div[1]//div[@class='item-root']/div[@class='detail']/div[@class='title']/a[@class='title-text']"</span>)</span><br><span class="line">  name_lists = html.xpath(<span class="string">"/html/body/div[@id='wrapper']/div[@id='root']/div[1]//div[@class='item-root']/div[@class='detail']/div[@class='meta abstract_2']"</span>)</span><br><span class="line">  <span class="comment"># è·å–è¿”å›çš„æ•°æ®ä¸ªæ•°</span></span><br><span class="line">  num = len(movie_lists)</span><br><span class="line">  <span class="keyword">if</span> num &gt; <span class="number">15</span>: <span class="comment">#ç¬¬ä¸€é¡µä¼šæœ‰16æ¡æ•°æ®</span></span><br><span class="line">    <span class="comment"># é»˜è®¤ç¬¬ä¸€ä¸ªä¸æ˜¯ï¼Œæ‰€ä»¥éœ€è¦å»æ‰</span></span><br><span class="line">    movie_lists = movie_lists[<span class="number">1</span>:]</span><br><span class="line">    name_lists = name_lists[<span class="number">1</span>:]</span><br><span class="line">  <span class="keyword">for</span> (movie, name_list) <span class="keyword">in</span> zip(movie_lists, name_lists):</span><br><span class="line">    <span class="comment"># ä¼šå­˜åœ¨æ•°æ®ä¸ºç©ºçš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> name_list.text <span class="keyword">is</span> <span class="literal">None</span>: </span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºä¸‹æ¼”å‘˜åç§°</span></span><br><span class="line">    print(name_list.text)</span><br><span class="line">    names = name_list.text.split(<span class="string">'/'</span>)</span><br><span class="line">    <span class="comment"># åˆ¤æ–­å¯¼æ¼”æ˜¯å¦ä¸ºæŒ‡å®šçš„director</span></span><br><span class="line">    <span class="keyword">if</span> names[<span class="number">0</span>].strip() == director <span class="keyword">and</span> movie.text <span class="keyword">not</span> <span class="keyword">in</span> flags:</span><br><span class="line">      <span class="comment"># å°†ç¬¬ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸ºç”µå½±åç§°</span></span><br><span class="line">      names[<span class="number">0</span>] = movie.text</span><br><span class="line">      flags.append(movie.text)</span><br><span class="line">      csv_write.writerow(names)</span><br><span class="line">  print(<span class="string">'OK'</span>) <span class="comment"># ä»£è¡¨è¿™é¡µæ•°æ®ä¸‹è½½æˆåŠŸ</span></span><br><span class="line">  print(num)</span><br><span class="line">  <span class="keyword">if</span> num &gt;= <span class="number">14</span>: <span class="comment">#æœ‰å¯èƒ½ä¸€é¡µä¼šæœ‰14ä¸ªç”µå½±</span></span><br><span class="line">    <span class="comment"># ç»§ç»­ä¸‹ä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># æ²¡æœ‰ä¸‹ä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹çš„IDä¸º0ï¼Œæ¯é¡µå¢åŠ 15</span></span><br><span class="line">start = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> start&lt;<span class="number">10000</span>: <span class="comment">#æœ€å¤šæŠ½å–1ä¸‡éƒ¨ç”µå½±</span></span><br><span class="line">  request_url = base_url + str(start)</span><br><span class="line">  <span class="comment"># ä¸‹è½½æ•°æ®ï¼Œå¹¶è¿”å›æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ</span></span><br><span class="line">  flag = download(request_url)</span><br><span class="line">  <span class="keyword">if</span> flag:</span><br><span class="line">    start = start + <span class="number">15</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">out.close()</span><br><span class="line">print(<span class="string">'finished'</span>)</span><br></pre></td></tr></table></figure><p><br>çˆ¬å–çš„ä»£ç åœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹å°±æ˜¯è¿™é‡Œç”¨åˆ°äº†seleniumæ¨¡æ‹Ÿæ‰“å¼€çª—å£çˆ¬å–ã€‚<br><br><br>ä¸‹é¢æ˜¯çˆ¬å–ä¸‹æ¥çš„æ•°æ®ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585838880690-4b759b67-2067-43c2-ae2c-a56d868a5553.png#align=left&display=inline&height=411&name=image.png&originHeight=411&originWidth=1729&size=161621&status=done&style=none&width=1729" alt="image.png"><br><br><br>æˆ‘ä»¬ç”¨è·å–åˆ°çš„å°‘é‡å®æµ©æ•°æ®ï¼Œæ¥åšä¸€æ¬¡å…³è”è§„åˆ™åˆ†æï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> efficient_apriori <span class="keyword">import</span> apriori</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">director = <span class="string">u'å®æµ©'</span></span><br><span class="line">file_name = <span class="string">'./'</span>+director+<span class="string">'.csv'</span></span><br><span class="line">lists = csv.reader(open(file_name, <span class="string">'r'</span>, encoding=<span class="string">'utf-8-sig'</span>))</span><br><span class="line"><span class="comment"># æ•°æ®åŠ è½½</span></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> names <span class="keyword">in</span> lists:</span><br><span class="line">     name_new = []</span><br><span class="line">     <span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">           <span class="comment"># å»æ‰æ¼”å‘˜æ•°æ®ä¸­çš„ç©ºæ ¼</span></span><br><span class="line">           name_new.append(name.strip())</span><br><span class="line">     data.append(name_new[<span class="number">1</span>:])</span><br><span class="line"><span class="comment"># æŒ–æ˜é¢‘ç¹é¡¹é›†å’Œå…³è”è§„åˆ™</span></span><br><span class="line">itemsets, rules = apriori(data, min_support=<span class="number">0.5</span>,  min_confidence=<span class="number">1</span>)</span><br><span class="line">print(itemsets)</span><br><span class="line">print(rules)</span><br></pre></td></tr></table></figure><p><br>ä»£ç ä¸­ä½¿ç”¨çš„ apriori æ–¹æ³•å’Œå¼€å¤´ä¸­ç”¨ Apriori è·å–è´­ç‰©ç¯®è§„å¾‹çš„æ–¹æ³•ç±»ä¼¼ï¼Œæ¯”å¦‚ä»£ç ä¸­éƒ½è®¾å®šäº†æœ€å°æ”¯æŒåº¦å’Œæœ€å°ç½®ä¿¡ç³»æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ”¯æŒåº¦å¤§äº 50%ï¼Œç½®ä¿¡ç³»æ•°ä¸º 1 çš„é¢‘ç¹é¡¹é›†å’Œå…³è”è§„åˆ™ã€‚è¿™æ˜¯æœ€åçš„è¿è¡Œç»“æœï¼š<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">1</span>: &#123;(<span class="string">'å¾å³¥'</span>,): <span class="number">5</span>, (<span class="string">'é»„æ¸¤'</span>,): <span class="number">6</span>&#125;, <span class="number">2</span>: &#123;(<span class="string">'å¾å³¥'</span>, <span class="string">'é»„æ¸¤'</span>): <span class="number">5</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">[&#123;å¾å³¥&#125; -&gt; &#123;é»„æ¸¤&#125;]</span><br></pre></td></tr></table></figure><p><br>ä½ èƒ½çœ‹å‡ºæ¥ï¼Œå®æµ©å¯¼æ¼”å–œæ¬¢ç”¨å¾å³¥å’Œé»„æ¸¤ï¼Œå¹¶ä¸”æœ‰å¾å³¥çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨é»„æ¸¤ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢çš„ä»£ç æ¥æŒ–æ˜ä¸‹å…¶ä»–å¯¼æ¼”é€‰æ‹©æ¼”å‘˜çš„è§„å¾‹ã€‚<br></p><p><a name="TXA7M"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><br><strong>Apriori ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯ç†è§£é¢‘ç¹é¡¹é›†å’Œå…³è”è§„åˆ™</strong>ã€‚<br><br><br>åœ¨ç®—æ³•è¿ç®—çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜è¦é‡ç‚¹æŒæ¡å¯¹æ”¯æŒåº¦ã€ç½®ä¿¡åº¦å’Œæå‡åº¦çš„ç†è§£ã€‚<br><br><br>åœ¨å·¥å…·ä½¿ç”¨ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨ efficient-apriori è¿™ä¸ªå·¥å…·åŒ…ï¼Œå®ƒä¼šæŠŠæ¯ä¸€æ¡æ•°æ®ä¸­çš„é¡¹ï¼ˆitemï¼‰æ”¾åˆ°ä¸€ä¸ªé›†åˆï¼ˆç¯®å­ï¼‰é‡Œæ¥å¤„ç†ï¼Œä¸è€ƒè™‘é¡¹ï¼ˆitemï¼‰ä¹‹é—´çš„å…ˆåé¡ºåºã€‚<br><br><br>åœ¨å®é™…è¿ç”¨ä¸­ä½ è¿˜éœ€è¦çµæ´»å¤„ç†ï¼Œæ¯”å¦‚å¯¼æ¼”å¦‚ä½•é€‰æ‹©æ¼”å‘˜è¿™ä¸ªæ¡ˆä¾‹ï¼Œè™½ç„¶å·¥å…·çš„ä½¿ç”¨ä¼šå¾ˆæ–¹ä¾¿ï¼Œä½†é‡è¦çš„è¿˜æ˜¯æ•°æ®æŒ–æ˜å‰çš„å‡†å¤‡è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è·å–æŸä¸ªå¯¼æ¼”çš„ç”µå½±æ•°æ®é›†ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585839157353-5f4a763c-6e42-4c05-a9ec-50d9cabb3684.png#align=left&display=inline&height=509&name=282c25e8651b3e0b675be7267d13629d.png&originHeight=509&originWidth=1727&size=206986&status=done&style=none&width=1727" alt="282c25e8651b3e0b675be7267d13629d.png"><br><br><br></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;æ˜¨å¤©è®²è§£äº†å…³è”è§„åˆ™æŒ–æ˜çš„åŸç†ã€‚å…³è”è§„åˆ™æŒ–æ˜åœ¨ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œä¸ä»…æ˜¯å•†å“çš„æ†ç»‘é”€å”®ï¼Œç”šè‡³åœ¨æŒ‘é€‰æ¼”å‘˜å†³ç­–ä¸Šï¼Œä½ ä¹Ÿèƒ½é€šè¿‡å…³è”è§„åˆ™æŒ–æ˜çœ‹å‡ºæ¥æŸä¸ªå¯¼
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Apriori" scheme="cpeixin.cn/tags/Apriori/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ - EMèšç±» å®æˆ˜</title>
    <link href="cpeixin.cn/2019/02/18/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-EM%E8%81%9A%E7%B1%BB-%E5%AE%9E%E6%88%98/"/>
    <id>cpeixin.cn/2019/02/18/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-EM%E8%81%9A%E7%B1%BB-%E5%AE%9E%E6%88%98/</id>
    <published>2019-02-18T14:18:53.000Z</published>
    <updated>2020-04-05T14:30:47.934Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>ä»Šå¤©è¿›è¡Œ EM çš„å®æˆ˜ã€‚ä¸Šç¯‡è®²äº† EM ç®—æ³•çš„åŸç†ï¼ŒEM ç®—æ³•ç›¸å½“äºä¸€ä¸ªèšç±»æ¡†æ¶ï¼Œé‡Œé¢æœ‰ä¸åŒçš„èšç±»æ¨¡å‹ï¼Œæ¯”å¦‚ GMM é«˜æ–¯æ··åˆæ¨¡å‹ï¼Œæˆ–è€… HMM éšé©¬å°”ç§‘å¤«æ¨¡å‹ã€‚<br><br><br>å…¶ä¸­ä½ éœ€è¦ç†è§£çš„æ˜¯ EM çš„ä¸¤ä¸ªæ­¥éª¤ï¼ŒE æ­¥å’Œ M æ­¥ï¼šE æ­¥ç›¸å½“äºé€šè¿‡åˆå§‹åŒ–çš„å‚æ•°æ¥ä¼°è®¡éšå«å˜é‡ï¼ŒM æ­¥æ˜¯é€šè¿‡éšå«å˜é‡æ¥åæ¨ä¼˜åŒ–å‚æ•°ã€‚æœ€åé€šè¿‡ EM æ­¥éª¤çš„è¿­ä»£å¾—åˆ°æœ€ç»ˆçš„æ¨¡å‹å‚æ•°ã€‚<br><br><br>ä»Šå¤©æˆ‘ä»¬è¿›è¡Œ EM ç®—æ³•çš„å®æˆ˜ï¼Œä½ éœ€è¦æ€è€ƒçš„æ˜¯ï¼š<br>å¦‚ä½•ä½¿ç”¨ EM ç®—æ³•å·¥å…·å®Œæˆèšç±»ï¼Ÿ<br>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨èšç±»ç®—æ³•ï¼Ÿ<br>æˆ‘ä»¬ç”¨èšç±»ç®—æ³•çš„ä»»åŠ¡ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ<br><br><br>é¢å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®ï¼ŒEM ç®—æ³•èƒ½å¸®åŠ©æˆ‘ä»¬åˆ†æå‡ºä»€ä¹ˆï¼Ÿ<br></p><p><a name="MGdE6"></a></p><h3 id="å¦‚ä½•ä½¿ç”¨-EM-å·¥å…·åŒ…"><a href="#å¦‚ä½•ä½¿ç”¨-EM-å·¥å…·åŒ…" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ EM å·¥å…·åŒ…"></a>å¦‚ä½•ä½¿ç”¨ EM å·¥å…·åŒ…</h3><p><br>åœ¨ Python ä¸­æœ‰ç¬¬ä¸‰æ–¹çš„ EM ç®—æ³•å·¥å…·åŒ…ã€‚ç”±äº EM ç®—æ³•æ˜¯ä¸€ä¸ªèšç±»æ¡†æ¶ï¼Œæ‰€ä»¥ä½ éœ€è¦æ˜ç¡®ä½ è¦ç”¨çš„å…·ä½“ç®—æ³•ï¼Œæ¯”å¦‚æ˜¯é‡‡ç”¨ GMM é«˜æ–¯æ··åˆæ¨¡å‹ï¼Œè¿˜æ˜¯ HMM éšé©¬å°”ç§‘å¤«æ¨¡å‹ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸»è¦è®²è§£ GMM çš„ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨å‰ä½ éœ€è¦å¼•å…¥å·¥å…·åŒ…ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.mixture <span class="keyword">import</span> GaussianMixture</span><br></pre></td></tr></table></figure><p><br>æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•åœ¨ sklearn ä¸­åˆ›å»º GMM èšç±»ã€‚<br><br><br>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ gmm = GaussianMixture(n_components=1, covariance_type=â€˜fullâ€™, max_iter=100) æ¥åˆ›å»º GMM èšç±»ï¼Œå…¶ä¸­æœ‰å‡ ä¸ªæ¯”è¾ƒä¸»è¦çš„å‚æ•°ï¼ˆGMM ç±»çš„æ„é€ å‚æ•°æ¯”è¾ƒå¤šï¼Œæˆ‘ç­›é€‰äº†ä¸€äº›ä¸»è¦çš„è¿›è¡Œè®²è§£ï¼‰ï¼Œæˆ‘åˆ†åˆ«æ¥è®²è§£ä¸‹ï¼š<br><br><br>1.n_componentsï¼šå³é«˜æ–¯æ··åˆæ¨¡å‹çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦èšç±»çš„ä¸ªæ•°ï¼Œé»˜è®¤å€¼ä¸º 1ã€‚å¦‚æœä½ ä¸æŒ‡å®š n_componentsï¼Œæœ€ç»ˆçš„èšç±»ç»“æœéƒ½ä¼šä¸ºåŒä¸€ä¸ªå€¼ã€‚<br><br><br>2.covariance_typeï¼šä»£è¡¨åæ–¹å·®ç±»å‹ã€‚ä¸€ä¸ªé«˜æ–¯æ··åˆæ¨¡å‹çš„åˆ†å¸ƒæ˜¯ç”±å‡å€¼å‘é‡å’Œåæ–¹å·®çŸ©é˜µå†³å®šçš„ï¼Œæ‰€ä»¥åæ–¹å·®çš„ç±»å‹ä¹Ÿä»£è¡¨äº†ä¸åŒçš„é«˜æ–¯æ··åˆæ¨¡å‹çš„ç‰¹å¾ã€‚åæ–¹å·®ç±»å‹æœ‰ 4 ç§å–å€¼ï¼š</p><ul><li>covariance_type=fullï¼Œä»£è¡¨å®Œå…¨åæ–¹å·®ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ éƒ½ä¸ä¸º 0ï¼›</li><li>covariance_type=tiedï¼Œä»£è¡¨ç›¸åŒçš„å®Œå…¨åæ–¹å·®ï¼›</li><li>covariance_type=diagï¼Œä»£è¡¨å¯¹è§’åæ–¹å·®ï¼Œä¹Ÿå°±æ˜¯å¯¹è§’ä¸ä¸º 0ï¼Œå…¶ä½™ä¸º 0ï¼›</li><li>covariance_type=sphericalï¼Œä»£è¡¨çƒé¢åæ–¹å·®ï¼Œéå¯¹è§’ä¸º 0ï¼Œå¯¹è§’å®Œå…¨ç›¸åŒï¼Œå‘ˆç°çƒé¢çš„ç‰¹æ€§ã€‚</li></ul><p><br>3.max_iterï¼šä»£è¡¨æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ŒEM ç®—æ³•æ˜¯ç”± E æ­¥å’Œ M æ­¥è¿­ä»£æ±‚å¾—æœ€ç»ˆçš„æ¨¡å‹å‚æ•°ï¼Œè¿™é‡Œå¯ä»¥æŒ‡å®šæœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤å€¼ä¸º 100ã€‚åˆ›å»ºå®Œ GMM èšç±»å™¨ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¼ å…¥æ•°æ®è®©å®ƒè¿›è¡Œè¿­ä»£æ‹Ÿåˆã€‚æˆ‘ä»¬ä½¿ç”¨ fit å‡½æ•°ï¼Œä¼ å…¥æ ·æœ¬ç‰¹å¾çŸ©é˜µï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ç”Ÿæˆèšç±»å™¨ï¼Œç„¶åä½¿ç”¨ prediction=gmm.predict(data) æ¥å¯¹æ•°æ®è¿›è¡Œèšç±»ï¼Œä¼ å…¥ä½ æƒ³è¿›è¡Œèšç±»çš„æ•°æ®ï¼Œå¯ä»¥å¾—åˆ°èšç±»ç»“æœ predictionã€‚<br><br><br>ä½ èƒ½çœ‹å‡ºæ¥æ‹Ÿåˆè®­ç»ƒå’Œé¢„æµ‹å¯ä»¥ä¼ å…¥ç›¸åŒçš„ç‰¹å¾çŸ©é˜µï¼Œè¿™æ˜¯å› ä¸ºèšç±»æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œä½ ä¸éœ€è¦äº‹å…ˆæŒ‡å®šèšç±»çš„ç»“æœï¼Œä¹Ÿæ— æ³•åŸºäºå…ˆéªŒçš„ç»“æœç»éªŒæ¥è¿›è¡Œå­¦ä¹ ã€‚åªè¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼ å…¥ç‰¹å¾å€¼çŸ©é˜µï¼Œæœºå™¨å°±ä¼šæŒ‰ç…§ç‰¹å¾å€¼çŸ©é˜µç”Ÿæˆèšç±»å™¨ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªèšç±»å™¨è¿›è¡Œèšç±»äº†ã€‚<br></p><p><a name="GUfM0"></a></p><h3 id="å¦‚ä½•ç”¨-EM-ç®—æ³•å¯¹ç‹è€…è£è€€æ•°æ®è¿›è¡Œèšç±»"><a href="#å¦‚ä½•ç”¨-EM-ç®—æ³•å¯¹ç‹è€…è£è€€æ•°æ®è¿›è¡Œèšç±»" class="headerlink" title="å¦‚ä½•ç”¨ EM ç®—æ³•å¯¹ç‹è€…è£è€€æ•°æ®è¿›è¡Œèšç±»"></a>å¦‚ä½•ç”¨ EM ç®—æ³•å¯¹ç‹è€…è£è€€æ•°æ®è¿›è¡Œèšç±»</h3><p><br>äº†è§£äº† GMM èšç±»å·¥å…·ä¹‹åï¼Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®è¿›è¡Œèšç±»ã€‚é¦–å…ˆæˆ‘ä»¬çŸ¥é“èšç±»çš„åŸç†æ˜¯â€œäººä»¥ç¾¤åˆ†ï¼Œç‰©ä»¥ç±»èšâ€ã€‚é€šè¿‡èšç±»ç®—æ³•æŠŠç‰¹å¾å€¼ç›¸è¿‘çš„æ•°æ®å½’ä¸ºä¸€ç±»ï¼Œä¸åŒç±»ä¹‹é—´çš„å·®å¼‚è¾ƒå¤§ï¼Œè¿™æ ·å°±å¯ä»¥å¯¹åŸå§‹æ•°æ®è¿›è¡Œé™ç»´ã€‚é€šè¿‡åˆ†æˆå‡ ä¸ªç»„ï¼ˆç°‡ï¼‰ï¼Œæ¥ç ”ç©¶æ¯ä¸ªç»„ä¹‹é—´çš„ç‰¹æ€§ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠç»„ï¼ˆç°‡ï¼‰çš„æ•°é‡é€‚å½“æå‡ï¼Œè¿™æ ·å°±å¯ä»¥æ‰¾åˆ°å¯ä»¥äº’ç›¸æ›¿æ¢çš„è‹±é›„ï¼Œæ¯”å¦‚ä½ çš„å¯¹æ‰‹é€‰æ‹©äº†ä½ æ“…é•¿çš„è‹±é›„ä¹‹åï¼Œä½ å¯ä»¥é€‰æ‹©å¦ä¸€ä¸ªè‹±é›„ä½œä¸ºå¤‡é€‰ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸‹æ•°æ®é•¿ä»€ä¹ˆæ ·å­ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585581142741-2923fa33-e84e-4c7d-b15d-d6bf6f8c8ec8.png#align=left&display=inline&height=396&name=3c4e14e7b33fc211f96fe0108f6196a0.png&originHeight=396&originWidth=1726&size=159767&status=done&style=none&width=1726" alt="3c4e14e7b33fc211f96fe0108f6196a0.png"><br><br><br>è¿™é‡Œæˆ‘ä»¬æ”¶é›†äº† 69 åè‹±é›„çš„ 20 ä¸ªç‰¹å¾å±æ€§ï¼Œè¿™äº›å±æ€§åˆ†åˆ«æ˜¯æœ€å¤§ç”Ÿå‘½ã€ç”Ÿå‘½æˆé•¿ã€åˆå§‹ç”Ÿå‘½ã€æœ€å¤§æ³•åŠ›ã€æ³•åŠ›æˆé•¿ã€åˆå§‹æ³•åŠ›ã€æœ€é«˜ç‰©æ”»ã€ç‰©æ”»æˆé•¿ã€åˆå§‹ç‰©æ”»ã€æœ€å¤§ç‰©é˜²ã€ç‰©é˜²æˆé•¿ã€åˆå§‹ç‰©é˜²ã€æœ€å¤§æ¯ 5 ç§’å›è¡€ã€æ¯ 5 ç§’å›è¡€æˆé•¿ã€åˆå§‹æ¯ 5 ç§’å›è¡€ã€æœ€å¤§æ¯ 5 ç§’å›è“ã€æ¯ 5 ç§’å›è“æˆé•¿ã€åˆå§‹æ¯ 5 ç§’å›è“ã€æœ€å¤§æ”»é€Ÿå’Œæ”»å‡»èŒƒå›´ç­‰ã€‚<br><br><br>ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹ç‹è€…è£è€€çš„è‹±é›„æ•°æ®è¿›è¡Œèšç±»ï¼Œæˆ‘ä»¬å…ˆè®¾å®šé¡¹ç›®çš„æ‰§è¡Œæµç¨‹ï¼š<br><br><br>é¦–å…ˆæˆ‘ä»¬éœ€è¦åŠ è½½æ•°æ®æºï¼›åœ¨å‡†å¤‡é˜¶æ®µï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ¢ç´¢ï¼ŒåŒ…æ‹¬é‡‡ç”¨æ•°æ®å¯è§†åŒ–æŠ€æœ¯ï¼Œè®©æˆ‘ä»¬å¯¹è‹±é›„å±æ€§ä»¥åŠè¿™äº›å±æ€§ä¹‹é—´çš„å…³ç³»ç†è§£æ›´åŠ æ·±åˆ»ï¼Œç„¶åå¯¹æ•°æ®è´¨é‡è¿›è¡Œè¯„ä¼°ï¼Œæ˜¯å¦è¿›è¡Œæ•°æ®æ¸…æ´—ï¼Œæœ€åè¿›è¡Œç‰¹å¾é€‰æ‹©æ–¹ä¾¿åç»­çš„èšç±»ç®—æ³•ï¼›<br><br><br>èšç±»é˜¶æ®µï¼šé€‰æ‹©é€‚åˆçš„èšç±»æ¨¡å‹ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ GMM é«˜æ–¯æ··åˆæ¨¡å‹è¿›è¡Œèšç±»ï¼Œå¹¶è¾“å‡ºèšç±»ç»“æœï¼Œå¯¹ç»“æœè¿›è¡Œåˆ†æã€‚æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬æ¥ç¼–å†™ä¸‹ä»£ç ã€‚å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.mixture <span class="keyword">import</span> GaussianMixture</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ•°æ®åŠ è½½ï¼Œé¿å…ä¸­æ–‡ä¹±ç é—®é¢˜</span></span><br><span class="line">data_ori = pd.read_csv(<span class="string">'./heros7.csv'</span>, encoding = <span class="string">'gb18030'</span>)</span><br><span class="line">features = [<span class="string">u'æœ€å¤§ç”Ÿå‘½'</span>,<span class="string">u'ç”Ÿå‘½æˆé•¿'</span>,<span class="string">u'åˆå§‹ç”Ÿå‘½'</span>,<span class="string">u'æœ€å¤§æ³•åŠ›'</span>, <span class="string">u'æ³•åŠ›æˆé•¿'</span>,<span class="string">u'åˆå§‹æ³•åŠ›'</span>,<span class="string">u'æœ€é«˜ç‰©æ”»'</span>,<span class="string">u'ç‰©æ”»æˆé•¿'</span>,<span class="string">u'åˆå§‹ç‰©æ”»'</span>,<span class="string">u'æœ€å¤§ç‰©é˜²'</span>,<span class="string">u'ç‰©é˜²æˆé•¿'</span>,<span class="string">u'åˆå§‹ç‰©é˜²'</span>, <span class="string">u'æœ€å¤§æ¯5ç§’å›è¡€'</span>, <span class="string">u'æ¯5ç§’å›è¡€æˆé•¿'</span>, <span class="string">u'åˆå§‹æ¯5ç§’å›è¡€'</span>, <span class="string">u'æœ€å¤§æ¯5ç§’å›è“'</span>, <span class="string">u'æ¯5ç§’å›è“æˆé•¿'</span>, <span class="string">u'åˆå§‹æ¯5ç§’å›è“'</span>, <span class="string">u'æœ€å¤§æ”»é€Ÿ'</span>, <span class="string">u'æ”»å‡»èŒƒå›´'</span>]</span><br><span class="line">data = data_ori[features]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¯¹è‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»è¿›è¡Œå¯è§†åŒ–åˆ†æ</span></span><br><span class="line"><span class="comment"># è®¾ç½®pltæ­£ç¡®æ˜¾ç¤ºä¸­æ–‡</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>]=<span class="literal">False</span> <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span></span><br><span class="line"><span class="comment"># ç”¨çƒ­åŠ›å›¾å‘ˆç°features_meanå­—æ®µä¹‹é—´çš„ç›¸å…³æ€§</span></span><br><span class="line">corr = data[features].corr()</span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line"><span class="comment"># annot=Trueæ˜¾ç¤ºæ¯ä¸ªæ–¹æ ¼çš„æ•°æ®</span></span><br><span class="line">sns.heatmap(corr, annot=<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç›¸å…³æ€§å¤§çš„å±æ€§ä¿ç•™ä¸€ä¸ªï¼Œå› æ­¤å¯ä»¥å¯¹å±æ€§è¿›è¡Œé™ç»´</span></span><br><span class="line">features_remain = [<span class="string">u'æœ€å¤§ç”Ÿå‘½'</span>, <span class="string">u'åˆå§‹ç”Ÿå‘½'</span>, <span class="string">u'æœ€å¤§æ³•åŠ›'</span>, <span class="string">u'æœ€é«˜ç‰©æ”»'</span>, <span class="string">u'åˆå§‹ç‰©æ”»'</span>, <span class="string">u'æœ€å¤§ç‰©é˜²'</span>, <span class="string">u'åˆå§‹ç‰©é˜²'</span>, <span class="string">u'æœ€å¤§æ¯5ç§’å›è¡€'</span>, <span class="string">u'æœ€å¤§æ¯5ç§’å›è“'</span>, <span class="string">u'åˆå§‹æ¯5ç§’å›è“'</span>, <span class="string">u'æœ€å¤§æ”»é€Ÿ'</span>, <span class="string">u'æ”»å‡»èŒƒå›´'</span>]</span><br><span class="line">data = data_ori[features_remain]</span><br><span class="line">data[<span class="string">u'æœ€å¤§æ”»é€Ÿ'</span>] = data[<span class="string">u'æœ€å¤§æ”»é€Ÿ'</span>].apply(<span class="keyword">lambda</span> x: float(x.strip(<span class="string">'%'</span>))/<span class="number">100</span>)</span><br><span class="line">data[<span class="string">u'æ”»å‡»èŒƒå›´'</span>]=data[<span class="string">u'æ”»å‡»èŒƒå›´'</span>].map(&#123;<span class="string">'è¿œç¨‹'</span>:<span class="number">1</span>,<span class="string">'è¿‘æˆ˜'</span>:<span class="number">0</span>&#125;)</span><br><span class="line"><span class="comment"># é‡‡ç”¨Z-Scoreè§„èŒƒåŒ–æ•°æ®ï¼Œä¿è¯æ¯ä¸ªç‰¹å¾ç»´åº¦çš„æ•°æ®å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1</span></span><br><span class="line">ss = StandardScaler()</span><br><span class="line">data = ss.fit_transform(data)</span><br><span class="line"><span class="comment"># æ„é€ GMMèšç±»</span></span><br><span class="line">gmm = GaussianMixture(n_components=<span class="number">30</span>, covariance_type=<span class="string">'full'</span>)</span><br><span class="line">gmm.fit(data)</span><br><span class="line"><span class="comment"># è®­ç»ƒæ•°æ®</span></span><br><span class="line">prediction = gmm.predict(data)</span><br><span class="line">print(prediction)</span><br><span class="line"><span class="comment"># å°†åˆ†ç»„ç»“æœè¾“å‡ºåˆ°CSVæ–‡ä»¶ä¸­</span></span><br><span class="line">data_ori.insert(<span class="number">0</span>, <span class="string">'åˆ†ç»„'</span>, prediction)</span><br><span class="line">data_ori.to_csv(<span class="string">'./hero_out.csv'</span>, index=<span class="literal">False</span>, sep=<span class="string">','</span>)</span><br></pre></td></tr></table></figure><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585581441251-8cc5e460-f96a-4e02-aac0-f1453cf6e55c.png#align=left&display=inline&height=1396&name=dbe96b767d7f3ff2dd9f44b651cde8fb.png&originHeight=1396&originWidth=1729&size=694331&status=done&style=none&width=1729" alt="dbe96b767d7f3ff2dd9f44b651cde8fb.png"><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[28 14  8  9  5  5 15  8  3 14 18 14  9  7 16 18 13  3  5  4 19 12  4 12</span><br><span class="line"> 12 12  4 17 24  2  7  2  2 24  2  2 24  6 20 22 22 24 24  2  2 22 14 20</span><br><span class="line"> 14 24 26 29 27 25 25 28 11  1 23  5 11  0 10 28 21 29 29 29 17]</span><br></pre></td></tr></table></figure><p><br>åŒæ—¶ä½ ä¹Ÿèƒ½çœ‹åˆ°è¾“å‡ºçš„èšç±»ç»“æœæ–‡ä»¶ hero_out.csvï¼ˆå®ƒä¿å­˜åœ¨ä½ æœ¬åœ°è¿è¡Œçš„æ–‡ä»¶å¤¹é‡Œï¼Œç¨‹åºä¼šè‡ªåŠ¨è¾“å‡ºè¿™ä¸ªæ–‡ä»¶ï¼Œä½ å¯ä»¥è‡ªå·±çœ‹ä¸‹ï¼‰ã€‚æˆ‘æ¥ç®€å•è®²è§£ä¸‹ç¨‹åºçš„å‡ ä¸ªæ¨¡å—ã€‚<br></p><p><a name="NxDzi"></a></p><h3 id="å…³äºå¼•ç”¨åŒ…é¦–"><a href="#å…³äºå¼•ç”¨åŒ…é¦–" class="headerlink" title="å…³äºå¼•ç”¨åŒ…é¦–"></a>å…³äºå¼•ç”¨åŒ…é¦–</h3><p><br>å…ˆæˆ‘ä»¬ä¼šç”¨ DataFrame æ•°æ®ç»“æ„æ¥ä¿å­˜è¯»å–çš„æ•°æ®ï¼Œæœ€åçš„èšç±»ç»“æœä¼šå†™å…¥åˆ° CSV æ–‡ä»¶ä¸­ï¼Œå› æ­¤ä¼šç”¨åˆ° pandas å’Œ CSV å·¥å…·åŒ…ã€‚<br><br><br>å¦å¤–æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œé‡‡ç”¨çƒ­åŠ›å›¾å±•ç°å±æ€§ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œè¿™é‡Œä¼šç”¨åˆ° matplotlib.pyplot å’Œ seaborn å·¥å…·åŒ…ã€‚åœ¨æ•°æ®è§„èŒƒåŒ–ä¸­æˆ‘ä»¬ä½¿ç”¨åˆ°äº† Z-Score è§„èŒƒåŒ–ï¼Œç”¨åˆ°äº† StandardScaler ç±»ï¼Œæœ€åæˆ‘ä»¬è¿˜ä¼šç”¨åˆ° sklearn ä¸­çš„ GaussianMixture ç±»è¿›è¡Œèšç±»ã€‚<br></p><p><a name="oz4qU"></a></p><h3 id="æ•°æ®å¯è§†åŒ–çš„æ¢ç´¢"><a href="#æ•°æ®å¯è§†åŒ–çš„æ¢ç´¢" class="headerlink" title="æ•°æ®å¯è§†åŒ–çš„æ¢ç´¢"></a>æ•°æ®å¯è§†åŒ–çš„æ¢ç´¢</h3><p><br>ä½ èƒ½çœ‹åˆ°æˆ‘ä»¬å°† 20 ä¸ªè‹±é›„å±æ€§ä¹‹é—´çš„å…³ç³»ç”¨çƒ­åŠ›å›¾å‘ˆç°äº†å‡ºæ¥ï¼Œä¸­é—´çš„æ•°å­—ä»£è¡¨ä¸¤ä¸ªå±æ€§ä¹‹é—´çš„å…³ç³»ç³»æ•°ï¼Œæœ€å¤§å€¼ä¸º 1ï¼Œä»£è¡¨å®Œå…¨æ­£ç›¸å…³ï¼Œå…³ç³»ç³»æ•°è¶Šå¤§ä»£è¡¨ç›¸å…³æ€§è¶Šå¤§ã€‚ä»å›¾ä¸­ä½ èƒ½çœ‹å‡ºæ¥â€œæœ€å¤§ç”Ÿå‘½â€â€œç”Ÿå‘½æˆé•¿â€å’Œâ€œåˆå§‹ç”Ÿå‘½â€è¿™ä¸‰ä¸ªå±æ€§çš„ç›¸å…³æ€§å¤§ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿ç•™ä¸€ä¸ªå±æ€§å³å¯ã€‚åŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶ä»–ç›¸å…³æ€§å¤§çš„å±æ€§è¿›è¡Œç­›é€‰ï¼Œä¿ç•™ä¸€ä¸ªã€‚ä½ åœ¨ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ç”¨ features_remain æ•°ç»„ä¿ç•™äº†ç‰¹å¾é€‰æ‹©çš„å±æ€§ï¼Œè¿™æ ·å°±å°†åŸæœ¬çš„ 20 ä¸ªå±æ€§é™ç»´åˆ°äº† 13 ä¸ªå±æ€§ã€‚<br></p><p><a name="yY6Go"></a></p><h3 id="å…³äºæ•°æ®è§„èŒƒåŒ–"><a href="#å…³äºæ•°æ®è§„èŒƒåŒ–" class="headerlink" title="å…³äºæ•°æ®è§„èŒƒåŒ–"></a>å…³äºæ•°æ®è§„èŒƒåŒ–</h3><p><br>æˆ‘ä»¬èƒ½çœ‹åˆ°â€œæœ€å¤§æ”»é€Ÿâ€è¿™ä¸ªå±æ€§å€¼æ˜¯ç™¾åˆ†æ•°ï¼Œä¸é€‚åˆåšçŸ©é˜µè¿ç®—ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†ç™¾åˆ†æ•°è½¬åŒ–ä¸ºå°æ•°ã€‚æˆ‘ä»¬ä¹Ÿçœ‹åˆ°â€œæ”»å‡»èŒƒå›´â€è¿™ä¸ªå­—æ®µçš„å–å€¼ä¸ºè¿œç¨‹æˆ–è€…è¿‘æˆ˜ï¼Œä¹Ÿä¸é€‚åˆçŸ©é˜µè¿ç®—ï¼Œæˆ‘ä»¬å°†å–å€¼åšä¸ªæ˜ å°„ï¼Œç”¨ 1 ä»£è¡¨è¿œç¨‹ï¼Œ0 ä»£è¡¨è¿‘æˆ˜ã€‚ç„¶åé‡‡ç”¨ Z-Score è§„èŒƒåŒ–ï¼Œå¯¹ç‰¹å¾çŸ©é˜µè¿›è¡Œè§„èŒƒåŒ–ã€‚<br></p><p><a name="QjcZZ"></a></p><h3 id="åœ¨èšç±»é˜¶æ®µ"><a href="#åœ¨èšç±»é˜¶æ®µ" class="headerlink" title="åœ¨èšç±»é˜¶æ®µ"></a>åœ¨èšç±»é˜¶æ®µ</h3><p><br>æˆ‘ä»¬é‡‡ç”¨äº† GMM é«˜æ–¯æ··åˆæ¨¡å‹ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ° CSV æ–‡ä»¶ä¸­ã€‚è¿™é‡Œæˆ‘å°†è¾“å‡ºçš„ç»“æœæˆªå–äº†ä¸€æ®µï¼ˆè®¾ç½®èšç±»ä¸ªæ•°ä¸º 30ï¼‰ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585581772770-f1e277eb-e09a-4f80-a541-440092e9d41a.png#align=left&display=inline&height=446&name=image.png&originHeight=446&originWidth=1262&size=69995&status=done&style=none&width=1262" alt="image.png"><br><br><br>ç¬¬ä¸€åˆ—ä»£è¡¨çš„æ˜¯åˆ†ç»„ï¼ˆç°‡ï¼‰ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°å¼ é£ã€ç¨‹å’¬é‡‘åˆ†åˆ°äº†ä¸€ç»„ï¼Œç‰›é­”ã€ç™½èµ·æ˜¯ä¸€ç»„ï¼Œè€å¤«å­è‡ªå·±æ˜¯ä¸€ç»„ï¼Œè¾¾æ‘©ã€å…¸éŸ¦æ˜¯ä¸€ç»„ã€‚<br><br><br>èšç±»çš„ç‰¹ç‚¹æ˜¯ç›¸åŒç±»åˆ«ä¹‹é—´çš„å±æ€§å€¼ç›¸è¿‘ï¼Œä¸åŒç±»åˆ«çš„å±æ€§å€¼å·®å¼‚å¤§ã€‚å› æ­¤å¦‚æœä½ æ“…é•¿ç”¨å…¸éŸ¦è¿™ä¸ªè‹±é›„ï¼Œä¸é˜²è¯•è¯•è¾¾æ‘©è¿™ä¸ªè‹±é›„ã€‚åŒæ ·ä½ ä¹Ÿå¯ä»¥åœ¨å¼ é£å’Œç¨‹å’¬é‡‘ä¸­è¿›è¡Œåˆ‡æ¢ã€‚è¿™æ ·å°±ç®—ä½ çš„è‹±é›„è¢«åˆ«äººé€‰ä¸­äº†ï¼Œä½ ä¾ç„¶å¯ä»¥æœ‰å¤‡é€‰çš„è‹±é›„å¯ä»¥ä½¿ç”¨ã€‚<br></p><p><a name="08ZDG"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><br>ä»Šå¤©æˆ‘å¸¦ä½ ä¸€èµ·åšäº† EM èšç±»çš„å®æˆ˜ï¼Œå…·ä½“ä½¿ç”¨çš„æ˜¯ GMM é«˜æ–¯æ··åˆæ¨¡å‹ã€‚ä»æ•´ä¸ªæµç¨‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬éœ€è¦ç»è¿‡æ•°æ®åŠ è½½ã€æ•°æ®æ¢ç´¢ã€æ•°æ®å¯è§†åŒ–ã€ç‰¹å¾é€‰æ‹©ã€GMM èšç±»å’Œç»“æœåˆ†æç­‰ç¯èŠ‚ã€‚èšç±»å’Œåˆ†ç±»ä¸ä¸€æ ·ï¼Œ<strong>èšç±»æ˜¯æ— ç›‘ç£çš„å­¦ä¹ æ–¹å¼</strong>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ²¡æœ‰å®é™…çš„ç»“æœå¯ä»¥è¿›è¡Œæ¯”å¯¹ï¼Œæ‰€ä»¥èšç±»çš„ç»“æœè¯„ä¼°ä¸åƒåˆ†ç±»å‡†ç¡®ç‡ä¸€æ ·ç›´è§‚ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰èšç±»ç»“æœçš„è¯„ä¼°æ–¹å¼å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ Calinski-Harabaz æŒ‡æ ‡ï¼Œä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> calinski_harabaz_score</span><br><span class="line">print(calinski_harabaz_score(data, prediction))</span><br></pre></td></tr></table></figure><p><br>æŒ‡æ ‡åˆ†æ•°è¶Šé«˜ï¼Œä»£è¡¨èšç±»æ•ˆæœè¶Šå¥½ï¼Œä¹Ÿå°±æ˜¯ç›¸åŒç±»ä¸­çš„å·®å¼‚æ€§å°ï¼Œä¸åŒç±»ä¹‹é—´çš„å·®å¼‚æ€§å¤§ã€‚å½“ç„¶å…·ä½“èšç±»çš„ç»“æœå«ä¹‰ï¼Œæˆ‘ä»¬éœ€è¦äººå·¥æ¥åˆ†æï¼Œä¹Ÿå°±æ˜¯å½“è¿™äº›æ•°æ®è¢«åˆ†æˆä¸åŒçš„ç±»åˆ«ä¹‹åï¼Œå…·ä½“æ¯ä¸ªç±»è¡¨ä»£è¡¨çš„å«ä¹‰ã€‚å¦å¤–èšç±»ç®—æ³•ä¹Ÿå¯ä»¥ä½œä¸ºå…¶ä»–æ•°æ®æŒ–æ˜ç®—æ³•çš„é¢„å¤„ç†é˜¶æ®µï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†æ•°æ®è¿›è¡Œé™ç»´äº†ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585582063729-9c938ad2-7839-41e3-a1f6-98ee4102e29e.png#align=left&display=inline&height=984&name=43b35b8f49ac83799ea1ca88383609d7.png&originHeight=984&originWidth=1729&size=384377&status=done&style=none&width=1729" alt="43b35b8f49ac83799ea1ca88383609d7.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;ä»Šå¤©è¿›è¡Œ EM çš„å®æˆ˜ã€‚ä¸Šç¯‡è®²äº† EM ç®—æ³•çš„åŸç†ï¼ŒEM ç®—æ³•ç›¸å½“äºä¸€ä¸ªèšç±»æ¡†æ¶ï¼Œé‡Œé¢æœ‰ä¸åŒçš„èšç±»æ¨¡å‹ï¼Œæ¯”å¦‚ GMM é«˜æ–¯æ··åˆæ¨¡å‹ï¼Œæˆ–è€… HMM
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="EM" scheme="cpeixin.cn/tags/EM/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ - EMèšç±»</title>
    <link href="cpeixin.cn/2019/02/15/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-EM%E8%81%9A%E7%B1%BB/"/>
    <id>cpeixin.cn/2019/02/15/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-EM%E8%81%9A%E7%B1%BB/</id>
    <published>2019-02-15T14:18:39.000Z</published>
    <updated>2020-04-05T14:30:45.641Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><p>ä»Šå¤©è¦æ¥å­¦ä¹  EM èšç±»ã€‚EM çš„è‹±æ–‡æ˜¯ Expectation Maximizationï¼Œæ‰€ä»¥ EM ç®—æ³•ä¹Ÿå«æœ€å¤§æœŸæœ›ç®—æ³•ã€‚<br><br><br>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„åœºæ™¯ï¼šå‡è®¾ä½ ç‚’äº†ä¸€ä»½èœï¼Œæƒ³è¦æŠŠå®ƒå¹³å‡åˆ†åˆ°ä¸¤ä¸ªç¢Ÿå­é‡Œï¼Œè¯¥æ€ä¹ˆåˆ†ï¼Ÿå¾ˆå°‘æœ‰äººç”¨ç§°å¯¹èœè¿›è¡Œç§°é‡ï¼Œå†è®¡ç®—ä¸€åŠçš„åˆ†é‡è¿›è¡Œå¹³åˆ†ã€‚<br><br><br>å¤§éƒ¨åˆ†äººçš„æ–¹æ³•æ˜¯å…ˆåˆ†ä¸€éƒ¨åˆ†åˆ°ç¢Ÿå­ A ä¸­ï¼Œç„¶åå†æŠŠå‰©ä½™çš„åˆ†åˆ°ç¢Ÿå­ B ä¸­ï¼Œå†æ¥è§‚å¯Ÿç¢Ÿå­ A å’Œ B é‡Œçš„èœæ˜¯å¦ä¸€æ ·å¤šï¼Œå“ªä¸ªå¤šå°±åŒ€ä¸€äº›åˆ°å°‘çš„é‚£ä¸ªç¢Ÿå­é‡Œï¼Œç„¶åå†è§‚å¯Ÿç¢Ÿå­ A å’Œ B é‡Œçš„æ˜¯å¦ä¸€æ ·å¤šâ€¦â€¦æ•´ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤ä¸‹å»ï¼Œç›´åˆ°ä»½é‡ä¸å‘ç”Ÿå˜åŒ–ä¸ºæ­¢ã€‚<br><br><br>ä½ èƒ½ä»è¿™ä¸ªä¾‹å­ä¸­çœ‹åˆ°ä¸‰ä¸ªä¸»è¦çš„æ­¥éª¤ï¼šåˆå§‹åŒ–å‚æ•°ã€è§‚å¯Ÿé¢„æœŸã€é‡æ–°ä¼°è®¡ã€‚é¦–å…ˆæ˜¯å…ˆç»™æ¯ä¸ªç¢Ÿå­åˆå§‹åŒ–ä¸€äº›èœé‡ï¼Œç„¶åå†è§‚å¯Ÿé¢„æœŸï¼Œè¿™ä¸¤ä¸ªæ­¥éª¤å®é™…ä¸Šå°±æ˜¯æœŸæœ›æ­¥éª¤ï¼ˆExpectationï¼‰ã€‚å¦‚æœç»“æœå­˜åœ¨åå·®å°±éœ€è¦é‡æ–°ä¼°è®¡å‚æ•°ï¼Œè¿™ä¸ªå°±æ˜¯æœ€å¤§åŒ–æ­¥éª¤ï¼ˆMaximizationï¼‰ã€‚è¿™ä¸¤ä¸ªæ­¥éª¤åŠ èµ·æ¥ä¹Ÿå°±æ˜¯ EM ç®—æ³•çš„è¿‡ç¨‹ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1585579694839-61e15913-43c5-422b-9cd9-998ac1a34a08.jpeg#align=left&display=inline&height=711&name=91f617ac484a7de011108ae99bd8cb3c.jpg&originHeight=711&originWidth=1842&size=144489&status=done&style=none&width=1842" alt="91f617ac484a7de011108ae99bd8cb3c.jpg"><br></p><p><a name="eJkPo"></a></p><h3 id="EM-ç®—æ³•çš„å·¥ä½œåŸç†"><a href="#EM-ç®—æ³•çš„å·¥ä½œåŸç†" class="headerlink" title="EM ç®—æ³•çš„å·¥ä½œåŸç†"></a>EM ç®—æ³•çš„å·¥ä½œåŸç†</h3><p><br>è¯´åˆ° EM ç®—æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªæ¦‚å¿µâ€œæœ€å¤§ä¼¼ç„¶â€ï¼Œè‹±æ–‡æ˜¯ Maximum Likelihoodï¼ŒLikelihood ä»£è¡¨å¯èƒ½æ€§ï¼Œæ‰€ä»¥æœ€å¤§ä¼¼ç„¶ä¹Ÿå°±æ˜¯æœ€å¤§å¯èƒ½æ€§çš„æ„æ€ã€‚<br><br><br>ä»€ä¹ˆæ˜¯æœ€å¤§ä¼¼ç„¶å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸€ç”·ä¸€å¥³ä¸¤ä¸ªåŒå­¦ï¼Œç°åœ¨è¦å¯¹ä»–ä¿©è¿›è¡Œèº«é«˜çš„æ¯”è¾ƒï¼Œè°ä¼šæ›´é«˜å‘¢ï¼Ÿæ ¹æ®æˆ‘ä»¬çš„ç»éªŒï¼Œç›¸åŒå¹´é¾„ä¸‹ç”·æ€§çš„å¹³å‡èº«é«˜æ¯”å¥³æ€§çš„é«˜ä¸€äº›ï¼Œæ‰€ä»¥ç”·åŒå­¦é«˜çš„å¯èƒ½æ€§ä¼šå¾ˆå¤§ã€‚è¿™é‡Œè¿ç”¨çš„å°±æ˜¯æœ€å¤§ä¼¼ç„¶çš„æ¦‚å¿µã€‚<br><br><br>æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæŒ‡çš„å°±æ˜¯ä¸€ä»¶äº‹æƒ…å·²ç»å‘ç”Ÿäº†ï¼Œç„¶ååæ¨æ›´æœ‰å¯èƒ½æ˜¯ä»€ä¹ˆå› ç´ é€ æˆçš„ã€‚è¿˜æ˜¯ç”¨ä¸€ç”·ä¸€å¥³æ¯”è¾ƒèº«é«˜ä¸ºä¾‹ï¼Œå‡è®¾æœ‰ä¸€ä¸ªäººæ¯”å¦ä¸€ä¸ªäººé«˜ï¼Œåæ¨ä»–å¯èƒ½æ˜¯ç”·æ€§ã€‚æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯ä¸€ç§é€šè¿‡å·²çŸ¥ç»“æœï¼Œä¼°è®¡å‚æ•°çš„æ–¹æ³•ã€‚<br><br><br>é‚£ä¹ˆ EM ç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå’Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼ŸEM ç®—æ³•æ˜¯ä¸€ç§æ±‚è§£æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„æ–¹æ³•ï¼Œé€šè¿‡è§‚æµ‹æ ·æœ¬ï¼Œæ¥æ‰¾å‡ºæ ·æœ¬çš„æ¨¡å‹å‚æ•°ã€‚å†å›è¿‡æ¥çœ‹ä¸‹å¼€å¤´æˆ‘ç»™ä½ ä¸¾çš„åˆ†èœçš„è¿™ä¸ªä¾‹å­ï¼Œå®é™…ä¸Šæœ€ç»ˆæˆ‘ä»¬æƒ³è¦çš„æ˜¯ç¢Ÿå­ A å’Œç¢Ÿå­ B ä¸­èœçš„ä»½é‡ï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬ç†è§£ä¸ºæƒ³è¦æ±‚å¾—çš„æ¨¡å‹å‚æ•°ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡ EM ç®—æ³•ä¸­çš„ E æ­¥æ¥è¿›è¡Œè§‚å¯Ÿï¼Œç„¶åé€šè¿‡ M æ­¥æ¥è¿›è¡Œè°ƒæ•´ A å’Œ B çš„å‚æ•°ï¼Œæœ€åè®©ç¢Ÿå­ A å’Œç¢Ÿå­ B çš„å‚æ•°ä¸å†å‘ç”Ÿå˜åŒ–ä¸ºæ­¢ã€‚å®é™…æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜ï¼Œæ¯”åˆ†èœå¤æ‚ã€‚æˆ‘å†ç»™ä½ ä¸¾ä¸ªä¸€ä¸ªæŠ•æ·ç¡¬å¸çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ A å’Œ B ä¸¤æšç¡¬å¸ï¼Œæˆ‘ä»¬åšäº† 5 ç»„å®éªŒï¼Œæ¯ç»„å®éªŒæŠ•æ· 10 æ¬¡ï¼Œç„¶åç»Ÿè®¡å‡ºç°æ­£é¢çš„æ¬¡æ•°ï¼Œå®éªŒç»“æœå¦‚ä¸‹ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585579902137-c107e92c-d000-493c-b08e-a95396729269.png#align=left&display=inline&height=197&name=c8b3f2489735a21ad86d05fb9e8c0de4.png&originHeight=197&originWidth=471&size=15123&status=done&style=none&width=471" alt="c8b3f2489735a21ad86d05fb9e8c0de4.png"><br><br><br>æŠ•æ·ç¡¬å¸è¿™ä¸ªè¿‡ç¨‹ä¸­å­˜åœ¨éšå«çš„æ•°æ®ï¼Œå³æˆ‘ä»¬äº‹å…ˆå¹¶ä¸çŸ¥é“æ¯æ¬¡æŠ•æ·çš„ç¡¬å¸æ˜¯ A è¿˜æ˜¯ Bã€‚å‡è®¾æˆ‘ä»¬çŸ¥é“è¿™ä¸ªéšå«çš„æ•°æ®ï¼Œå¹¶å°†å®ƒå®Œå–„ï¼Œå¯ä»¥å¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585579940461-9300ad99-021b-4513-8b39-eb958df65148.png#align=left&display=inline&height=198&name=91eace1de7799a2d2d392908b462730d.png&originHeight=198&originWidth=484&size=18518&status=done&style=none&width=484" alt="91eace1de7799a2d2d392908b462730d.png"><br><br><br>æˆ‘ä»¬ç°åœ¨æƒ³è¦æ±‚å¾—ç¡¬å¸ A å’Œ B å‡ºç°æ­£é¢æ¬¡æ•°çš„æ¦‚ç‡ï¼Œå¯ä»¥ç›´æ¥æ±‚å¾—ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585580000560-b6093c13-d436-431f-ad9f-9d997fce19cd.png#align=left&display=inline&height=56&name=image.png&originHeight=56&originWidth=320&size=11906&status=done&style=none&width=320" alt="image.png"><br>è€Œå®é™…æƒ…å†µæ˜¯æˆ‘ä¸çŸ¥é“æ¯æ¬¡æŠ•æ·çš„ç¡¬å¸æ˜¯ A è¿˜æ˜¯ Bï¼Œé‚£ä¹ˆå¦‚ä½•æ±‚å¾—ç¡¬å¸ A å’Œç¡¬å¸ B å‡ºç°æ­£é¢çš„æ¦‚ç‡å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦é‡‡ç”¨ EM ç®—æ³•çš„æ€æƒ³ã€‚<br>1. åˆå§‹åŒ–å‚æ•°ã€‚æˆ‘ä»¬å‡è®¾ç¡¬å¸ A å’Œ B çš„æ­£é¢æ¦‚ç‡ï¼ˆéšæœºæŒ‡å®šï¼‰æ˜¯Î¸A=0.5 å’ŒÎ¸B=0.9ã€‚<br><br><br>2. è®¡ç®—æœŸæœ›å€¼ã€‚å‡è®¾å®éªŒ 1 æŠ•æ·çš„æ˜¯ç¡¬å¸ Aï¼Œé‚£ä¹ˆæ­£é¢æ¬¡æ•°ä¸º 5 çš„æ¦‚ç‡ä¸ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585580082277-c4a68b6a-7620-4846-82f4-9cba3b689785.png#align=left&display=inline&height=39&name=7b1bab8bf4eecb0c55b34fb8049374f6.png&originHeight=39&originWidth=212&size=10115&status=done&style=none&width=212" alt="7b1bab8bf4eecb0c55b34fb8049374f6.png"><br><br><br>æ‰€ä»¥å®éªŒ 1 æ›´æœ‰å¯èƒ½æŠ•æ·çš„æ˜¯ç¡¬å¸ Aã€‚<br>ç„¶åæˆ‘ä»¬å¯¹å®éªŒ 2~5 é‡å¤ä¸Šé¢çš„è®¡ç®—è¿‡ç¨‹ï¼Œå¯ä»¥æ¨ç†å‡ºæ¥ç¡¬å¸é¡ºåºåº”è¯¥æ˜¯{Aï¼ŒAï¼ŒBï¼ŒBï¼ŒA}ã€‚è¿™ä¸ªè¿‡ç¨‹å®é™…ä¸Šæ˜¯é€šè¿‡å‡è®¾çš„å‚æ•°æ¥ä¼°è®¡æœªçŸ¥å‚æ•°ï¼Œå³â€œæ¯æ¬¡æŠ•æ·æ˜¯å“ªæšç¡¬å¸â€ã€‚<br><br><br>3. é€šè¿‡çŒœæµ‹çš„ç»“æœ{A, A, B, B, A}æ¥å®Œå–„åˆå§‹åŒ–çš„å‚æ•°Î¸A å’ŒÎ¸Bã€‚ç„¶åä¸€ç›´é‡å¤ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°å‚æ•°ä¸å†å‘ç”Ÿå˜åŒ–ã€‚ç®€å•æ€»ç»“ä¸‹ä¸Šé¢çš„æ­¥éª¤ï¼Œä½ èƒ½çœ‹å‡º EM ç®—æ³•ä¸­çš„ E æ­¥éª¤å°±æ˜¯é€šè¿‡æ—§çš„å‚æ•°æ¥è®¡ç®—éšè—å˜é‡ã€‚ç„¶ååœ¨ M æ­¥éª¤ä¸­ï¼Œé€šè¿‡å¾—åˆ°çš„éšè—å˜é‡çš„ç»“æœæ¥é‡æ–°ä¼°è®¡å‚æ•°ã€‚ç›´åˆ°å‚æ•°ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚<br></p><p><a name="fjxPq"></a></p><h3 id="EM-èšç±»çš„å·¥ä½œåŸç†"><a href="#EM-èšç±»çš„å·¥ä½œåŸç†" class="headerlink" title="EM èšç±»çš„å·¥ä½œåŸç†"></a>EM èšç±»çš„å·¥ä½œåŸç†</h3><p><br>ä¸Šé¢ä½ èƒ½çœ‹åˆ° EM ç®—æ³•æœ€ç›´æ¥çš„åº”ç”¨å°±æ˜¯æ±‚å‚æ•°ä¼°è®¡ã€‚å¦‚æœæˆ‘ä»¬æŠŠæ½œåœ¨ç±»åˆ«å½“åšéšè—å˜é‡ï¼Œæ ·æœ¬çœ‹åšè§‚å¯Ÿå€¼ï¼Œå°±å¯ä»¥æŠŠèšç±»é—®é¢˜è½¬åŒ–ä¸ºå‚æ•°ä¼°è®¡é—®é¢˜ã€‚è¿™ä¹Ÿå°±æ˜¯ EM èšç±»çš„åŸç†ã€‚ç›¸æ¯”äº K-Means ç®—æ³•ï¼ŒEM èšç±»æ›´åŠ çµæ´»ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸¤ç§æƒ…å†µï¼ŒK-Means ä¼šå¾—åˆ°ä¸‹é¢çš„èšç±»ç»“æœã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1585580200547-0479504c-1985-4895-80ab-be34456f2d73.jpeg#align=left&display=inline&height=941&name=bafc98deb68400100fde69a41ebc66ca.jpg&originHeight=941&originWidth=2142&size=244125&status=done&style=none&width=2142" alt="bafc98deb68400100fde69a41ebc66ca.jpg"><br><br><br>å› ä¸º K-Means æ˜¯é€šè¿‡è·ç¦»æ¥åŒºåˆ†æ ·æœ¬ä¹‹é—´çš„å·®åˆ«çš„ï¼Œä¸”æ¯ä¸ªæ ·æœ¬åœ¨è®¡ç®—çš„æ—¶å€™åªèƒ½å±äºä¸€ä¸ªåˆ†ç±»ï¼Œç§°ä¹‹ä¸ºæ˜¯ç¡¬èšç±»ç®—æ³•ã€‚è€Œ EM èšç±»åœ¨æ±‚è§£çš„è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šæ¯ä¸ªæ ·æœ¬éƒ½æœ‰ä¸€å®šçš„æ¦‚ç‡å’Œæ¯ä¸ªèšç±»ç›¸å…³ï¼Œå«åšè½¯èšç±»ç®—æ³•ã€‚<br><br><br>ä½ å¯ä»¥æŠŠ EM ç®—æ³•ç†è§£æˆä¸ºæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œåœ¨è¿™ä¸ªæ¡†æ¶ä¸­å¯ä»¥é‡‡ç”¨ä¸åŒçš„æ¨¡å‹æ¥ç”¨ EM è¿›è¡Œæ±‚è§£ã€‚å¸¸ç”¨çš„ EM èšç±»æœ‰ GMM é«˜æ–¯æ··åˆæ¨¡å‹å’Œ HMM éšé©¬å°”ç§‘å¤«æ¨¡å‹ã€‚GMMï¼ˆé«˜æ–¯æ··åˆæ¨¡å‹ï¼‰èšç±»å°±æ˜¯ EM èšç±»çš„ä¸€ç§ã€‚æ¯”å¦‚ä¸Šé¢è¿™ä¸¤ä¸ªå›¾ï¼Œå¯ä»¥é‡‡ç”¨ GMM æ¥è¿›è¡Œèšç±»ã€‚å’Œ K-Means ä¸€æ ·ï¼Œæˆ‘ä»¬äº‹å…ˆçŸ¥é“èšç±»çš„ä¸ªæ•°ï¼Œä½†æ˜¯ä¸çŸ¥é“æ¯ä¸ªæ ·æœ¬åˆ†åˆ«å±äºå“ªä¸€ç±»ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾æ ·æœ¬æ˜¯ç¬¦åˆé«˜æ–¯åˆ†å¸ƒçš„ï¼ˆä¹Ÿå°±æ˜¯æ­£æ€åˆ†å¸ƒï¼‰ã€‚<br><br><br>æ¯ä¸ªé«˜æ–¯åˆ†å¸ƒéƒ½å±äºè¿™ä¸ªæ¨¡å‹çš„ç»„æˆéƒ¨åˆ†ï¼ˆcomponentï¼‰ï¼Œè¦åˆ†æˆ K ç±»å°±ç›¸å½“äºæ˜¯ K ä¸ªç»„æˆéƒ¨åˆ†ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥å…ˆåˆå§‹åŒ–æ¯ä¸ªç»„æˆéƒ¨åˆ†çš„é«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼Œç„¶åå†çœ‹æ¥æ¯ä¸ªæ ·æœ¬æ˜¯å±äºå“ªä¸ªç»„æˆéƒ¨åˆ†ã€‚è¿™ä¹Ÿå°±æ˜¯ E æ­¥éª¤ã€‚å†é€šè¿‡å¾—åˆ°çš„è¿™äº›éšå«å˜é‡ç»“æœï¼Œåè¿‡æ¥æ±‚æ¯ä¸ªç»„æˆéƒ¨åˆ†é«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼Œå³ M æ­¥éª¤ã€‚åå¤ EM æ­¥éª¤ï¼Œç›´åˆ°æ¯ä¸ªç»„æˆéƒ¨åˆ†çš„é«˜æ–¯åˆ†å¸ƒå‚æ•°ä¸å˜ä¸ºæ­¢ã€‚<br><br><br>è¿™æ ·ä¹Ÿå°±ç›¸å½“äºå°†æ ·æœ¬æŒ‰ç…§ GMM æ¨¡å‹è¿›è¡Œäº† EM èšç±»ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/1072113/1585580420713-b81ad6a3-2643-471a-accb-30883522c414.jpeg#align=left&display=inline&height=901&name=18fe6407b90130e5e4fa74467b1d493b.jpg&originHeight=901&originWidth=2035&size=232636&status=done&style=none&width=2035" alt="18fe6407b90130e5e4fa74467b1d493b.jpg"><br></p><p><a name="WxvyZ"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>EM ç®—æ³•ç›¸å½“äºä¸€ä¸ªæ¡†æ¶ï¼Œä½ å¯ä»¥é‡‡ç”¨ä¸åŒçš„æ¨¡å‹æ¥è¿›è¡Œèšç±»ï¼Œæ¯”å¦‚ GMMï¼ˆé«˜æ–¯æ··åˆæ¨¡å‹ï¼‰ï¼Œæˆ–è€… HMMï¼ˆéšé©¬å°”ç§‘å¤«æ¨¡å‹ï¼‰æ¥è¿›è¡Œèšç±»ã€‚GMM æ˜¯é€šè¿‡æ¦‚ç‡å¯†åº¦æ¥è¿›è¡Œèšç±»ï¼Œèšæˆçš„ç±»ç¬¦åˆé«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰ã€‚è€Œ HMM ç”¨åˆ°äº†é©¬å°”å¯å¤«è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡çŠ¶æ€è½¬ç§»çŸ©é˜µæ¥è®¡ç®—çŠ¶æ€è½¬ç§»çš„æ¦‚ç‡ã€‚HMM åœ¨è‡ªç„¶è¯­è¨€å¤„ç†å’Œè¯­éŸ³è¯†åˆ«é¢†åŸŸä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚åœ¨ EM è¿™ä¸ªæ¡†æ¶ä¸­ï¼ŒE æ­¥éª¤ç›¸å½“äºæ˜¯é€šè¿‡åˆå§‹åŒ–çš„å‚æ•°æ¥ä¼°è®¡éšå«å˜é‡ã€‚M æ­¥éª¤å°±æ˜¯é€šè¿‡éšå«å˜é‡åæ¨æ¥ä¼˜åŒ–å‚æ•°ã€‚æœ€åé€šè¿‡ EM æ­¥éª¤çš„è¿­ä»£å¾—åˆ°æ¨¡å‹å‚æ•°ã€‚<br><br><br>åœ¨è¿™ä¸ªè¿‡ç¨‹é‡Œç”¨åˆ°çš„ä¸€äº›æ•°å­¦å…¬å¼è¿™èŠ‚è¯¾ä¸è¿›è¡Œå±•å¼€ã€‚ä½ éœ€è¦é‡ç‚¹ç†è§£ EM ç®—æ³•çš„åŸç†ã€‚é€šè¿‡ä¸Šé¢ä¸¾çš„ç‚’èœçš„ä¾‹å­ï¼Œä½ å¯ä»¥çŸ¥é“ EM ç®—æ³•æ˜¯ä¸€ä¸ªä¸æ–­è§‚å¯Ÿå’Œè°ƒæ•´çš„è¿‡ç¨‹ã€‚é€šè¿‡æ±‚ç¡¬å¸æ­£é¢æ¦‚ç‡çš„ä¾‹å­ï¼Œä½ å¯ä»¥ç†è§£å¦‚ä½•é€šè¿‡åˆå§‹åŒ–å‚æ•°æ¥æ±‚éšå«æ•°æ®çš„è¿‡ç¨‹ï¼Œä»¥åŠå†é€šè¿‡æ±‚å¾—çš„éšå«æ•°æ®æ¥ä¼˜åŒ–å‚æ•°ã€‚é€šè¿‡ä¸Šé¢ GMM å›¾åƒèšç±»çš„ä¾‹å­ï¼Œä½ å¯ä»¥çŸ¥é“å¾ˆå¤š K-Means è§£å†³ä¸äº†çš„é—®é¢˜ï¼ŒEM èšç±»æ˜¯å¯ä»¥è§£å†³çš„ã€‚åœ¨ EM æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬å°†æ½œåœ¨ç±»åˆ«å½“åšéšè—å˜é‡ï¼Œæ ·æœ¬çœ‹åšè§‚å¯Ÿå€¼ï¼ŒæŠŠèšç±»é—®é¢˜è½¬åŒ–ä¸ºå‚æ•°ä¼°è®¡é—®é¢˜ï¼Œæœ€ç»ˆæŠŠæ ·æœ¬è¿›è¡Œèšç±»ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;ä»Šå¤©è¦æ¥å­¦ä¹  EM èšç±»ã€‚EM çš„è‹±æ–‡æ˜¯ Expectation Maximizationï¼Œæ‰€ä»¥ EM ç®—æ³•ä¹Ÿå«æœ€å¤§æœŸæœ›ç®—æ³•ã€‚&lt;br&gt;&lt;br&gt;&lt;
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="EM" scheme="cpeixin.cn/tags/EM/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åˆ†æ-K-Means_1</title>
    <link href="cpeixin.cn/2019/02/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-K-Means-1/"/>
    <id>cpeixin.cn/2019/02/01/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-K-Means-1/</id>
    <published>2019-02-01T15:26:13.000Z</published>
    <updated>2020-04-04T17:38:15.018Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --><h1 id="æ•°æ®åˆ†æ-K-Means-åŸç†"><a href="#æ•°æ®åˆ†æ-K-Means-åŸç†" class="headerlink" title="æ•°æ®åˆ†æ - K-Means åŸç†"></a>æ•°æ®åˆ†æ - K-Means åŸç†</h1><p>K-Means æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ ï¼Œè§£å†³çš„æ˜¯èšç±»é—®é¢˜ã€‚K ä»£è¡¨çš„æ˜¯ K ç±»ï¼ŒMeans ä»£è¡¨çš„æ˜¯ä¸­å¿ƒï¼Œä½ å¯ä»¥ç†è§£è¿™ä¸ªç®—æ³•çš„æœ¬è´¨æ˜¯ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Œå½“ä½ æ‰¾åˆ°äº†è¿™äº›ä¸­å¿ƒç‚¹ï¼Œä¹Ÿå°±å®Œæˆäº†èšç±»ã€‚<br><br><br>é‚£ä¹ˆè¯·ä½ å’Œæˆ‘æ€è€ƒä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li>å¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿ</li><li>å¦‚ä½•å°†å…¶ä»–ç‚¹åˆ’åˆ†åˆ° K ç±»ä¸­ï¼Ÿ</li><li>å¦‚ä½•åŒºåˆ† K-Means ä¸ KNNï¼Ÿ</li></ul><p><br>å¦‚æœç†è§£äº†ä¸Šé¢è¿™ 3 ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆå¯¹ K-Means çš„åŸç†æŒæ¡å¾—ä¹Ÿå°±å·®ä¸å¤šäº†ã€‚å…ˆè¯·ä½ å’Œæˆ‘æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œå‡è®¾æˆ‘æœ‰ 20 æ”¯äºšæ´²è¶³çƒé˜Ÿï¼Œæƒ³è¦å°†å®ƒä»¬æŒ‰ç…§æˆç»©åˆ’åˆ†æˆ 3 ä¸ªç­‰çº§ï¼Œå¯ä»¥æ€æ ·åˆ’åˆ†ï¼Ÿ<br></p><p><a name="tdJch"></a></p><h3 id="K-Means-çš„å·¥ä½œåŸç†"><a href="#K-Means-çš„å·¥ä½œåŸç†" class="headerlink" title="K-Means çš„å·¥ä½œåŸç†"></a>K-Means çš„å·¥ä½œåŸç†</h3><p><br>å¯¹äºšæ´²è¶³çƒé˜Ÿçš„æ°´å¹³ï¼Œä½ å¯èƒ½ä¹Ÿæœ‰è‡ªå·±çš„åˆ¤æ–­ã€‚æ¯”å¦‚ä¸€æµçš„äºšæ´²çƒé˜Ÿæœ‰è°ï¼Ÿä½ å¯èƒ½ä¼šè¯´ä¼Šæœ—æˆ–éŸ©å›½ã€‚äºŒæµçš„äºšæ´²çƒé˜Ÿå‘¢ï¼Ÿä½ å¯èƒ½è¯´æ˜¯ä¸­å›½ã€‚ä¸‰æµçš„äºšæ´²çƒé˜Ÿå‘¢ï¼Ÿä½ å¯èƒ½ä¼šè¯´è¶Šå—ã€‚å…¶å®è¿™äº›éƒ½æ˜¯é æˆ‘ä»¬çš„ç»éªŒæ¥åˆ’åˆ†çš„ï¼Œé‚£ä¹ˆä¼Šæœ—ã€ä¸­å›½ã€è¶Šå—å¯ä»¥è¯´æ˜¯ä¸‰ä¸ªç­‰çº§çš„å…¸å‹ä»£è¡¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¯ä¸ªç±»çš„ä¸­å¿ƒç‚¹ã€‚<br><br><br>æ‰€ä»¥å›è¿‡å¤´æ¥ï¼Œå¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿä¸€å¼€å§‹æˆ‘ä»¬æ˜¯å¯ä»¥éšæœºæŒ‡æ´¾çš„ï¼Œå½“ä½ ç¡®è®¤äº†ä¸­å¿ƒç‚¹åï¼Œå°±å¯ä»¥æŒ‰ç…§è·ç¦»å°†å…¶ä»–è¶³çƒé˜Ÿåˆ’åˆ†åˆ°ä¸åŒçš„ç±»åˆ«ä¸­ã€‚è¿™ä¹Ÿå°±æ˜¯ K-Means çš„ä¸­å¿ƒæ€æƒ³ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ç›´æ¥ã€‚<br><br><br>ä½ å¯èƒ½ä¼šé—®ï¼šå¦‚æœä¸€å¼€å§‹ï¼Œé€‰æ‹©ä¸€æµçƒé˜Ÿæ˜¯ä¸­å›½ï¼ŒäºŒæµçƒé˜Ÿæ˜¯ä¼Šæœ—ï¼Œä¸‰æµçƒé˜Ÿæ˜¯éŸ©å›½ï¼Œä¸­å¿ƒç‚¹é€‰æ‹©é”™äº†æ€ä¹ˆåŠï¼Ÿå…¶å®ä¸ç”¨æ‹…å¿ƒï¼ŒK-Means æœ‰è‡ªæˆ‘çº æ­£æœºåˆ¶ï¼Œåœ¨ä¸æ–­çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¼šçº æ­£ä¸­å¿ƒç‚¹ã€‚ä¸­å¿ƒç‚¹åœ¨æ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸æ˜¯å”¯ä¸€çš„ï¼Œåªæ˜¯ä½ éœ€è¦ä¸€ä¸ªåˆå§‹å€¼ï¼Œä¸€èˆ¬ç®—æ³•ä¼šéšæœºè®¾ç½®åˆå§‹çš„ä¸­å¿ƒç‚¹ã€‚å¥½äº†ï¼Œé‚£æˆ‘æ¥æŠŠ K-Means çš„å·¥ä½œåŸç†ç»™ä½ æ€»ç»“ä¸‹ï¼š<br></p><ol><li>é€‰å– K ä¸ªç‚¹ä½œä¸ºåˆå§‹çš„ç±»ä¸­å¿ƒç‚¹ï¼Œè¿™äº›ç‚¹ä¸€èˆ¬éƒ½æ˜¯ä»æ•°æ®é›†ä¸­éšæœºæŠ½å–çš„ï¼›</li><li>å°†æ¯ä¸ªç‚¹åˆ†é…åˆ°æœ€è¿‘çš„ç±»ä¸­å¿ƒç‚¹ï¼Œè¿™æ ·å°±å½¢æˆäº† K ä¸ªç±»ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼›</li><li>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°ç±»ä¸å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œè¿™æ ·å³ä½¿ç±»ä¸­å¿ƒç‚¹å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯åªè¦è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°å°±ä¼šç»“æŸã€‚</li></ol><p><a name="WeqHb"></a></p><h3 id="å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»"><a href="#å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»" class="headerlink" title="å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»"></a>å¦‚ä½•ç»™äºšæ´²çƒé˜Ÿåšèšç±»</h3><p><br>å¯¹äºæœºå™¨æ¥è¯´éœ€è¦æ•°æ®æ‰èƒ½åˆ¤æ–­ç±»ä¸­å¿ƒç‚¹ï¼Œæ‰€ä»¥æˆ‘æ•´ç†äº† 2015-2019 å¹´äºšæ´²çƒé˜Ÿçš„æ’åï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚æˆ‘æ¥è¯´æ˜ä¸€ä¸‹æ•°æ®æ¦‚å†µã€‚å…¶ä¸­ 2019 å¹´å›½é™…è¶³è”çš„ä¸–ç•Œæ’åï¼Œ2015 å¹´äºšæ´²æ¯æ’åå‡ä¸ºå®é™…æ’åã€‚2018 å¹´ä¸–ç•Œæ¯ä¸­ï¼Œå¾ˆå¤šçƒé˜Ÿæ²¡æœ‰è¿›å…¥åˆ°å†³èµ›åœˆï¼Œæ‰€ä»¥åªæœ‰è¿›å…¥åˆ°å†³èµ›åœˆçš„çƒé˜Ÿæ‰æœ‰å®é™…çš„æ’åã€‚å¦‚æœæ˜¯äºšæ´²åŒºé¢„é€‰èµ› 12 å¼ºçš„çƒé˜Ÿï¼Œæ’åä¼šè®¾ç½®ä¸º 40ã€‚å¦‚æœæ²¡æœ‰è¿›å…¥äºšæ´²åŒºé¢„é€‰èµ› 12 å¼ºï¼Œçƒé˜Ÿæ’åä¼šè®¾ç½®ä¸º 50ã€‚<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319665552-bf820517-59c1-4c80-97ea-7e8c4add82cc.png#align=left&display=inline&height=794&name=d8ac2a98aa728d64f919bac088ed574a.png&originHeight=794&originWidth=784&size=75133&status=done&style=none&width=784" alt="d8ac2a98aa728d64f919bac088ed574a.png"><br><br><br>é’ˆå¯¹ä¸Šé¢çš„æ’åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åšçš„æ˜¯æ•°æ®è§„èŒƒåŒ–ã€‚ä½ å¯ä»¥æŠŠè¿™äº›å€¼åˆ’åˆ†åˆ°[0,1]æˆ–è€…æŒ‰ç…§å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1 çš„æ­£æ€åˆ†å¸ƒè¿›è¡Œè§„èŒƒåŒ–ã€‚æˆ‘å…ˆæŠŠæ•°å€¼éƒ½è§„èŒƒåŒ–åˆ°[0,1]çš„ç©ºé—´ä¸­ï¼Œå¾—åˆ°äº†ä»¥ä¸‹çš„æ•°å€¼è¡¨ï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319721708-569fa0e7-9ae2-4f5e-8d72-73c785cd5d79.png#align=left&display=inline&height=789&name=a722eeab035fb13751a6dc5c0530ed17.png&originHeight=789&originWidth=726&size=104223&status=done&style=none&width=726" alt="a722eeab035fb13751a6dc5c0530ed17.png"><br><br><br>å¦‚æœæˆ‘ä»¬éšæœºé€‰å–ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½ä¸ºä¸‰ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼Œæˆ‘ä»¬å°±éœ€è¦çœ‹ä¸‹è¿™äº›çƒé˜Ÿåˆ°ä¸­å¿ƒç‚¹çš„è·ç¦»ã€‚è·ç¦»æœ‰å¤šç§è®¡ç®—çš„æ–¹å¼ï¼Œæœ‰å…³è·ç¦»çš„è®¡ç®—æˆ‘åœ¨ KNN ç®—æ³•ä¸­ä¹Ÿè®²åˆ°è¿‡ï¼š</p><ul><li>æ¬§æ°è·ç¦»</li><li>æ›¼å“ˆé¡¿è·ç¦»</li><li>åˆ‡æ¯”é›ªå¤«è·ç¦»</li><li>ä½™å¼¦è·ç¦»</li></ul><p><br>æ¬§æ°è·ç¦»æ˜¯æœ€å¸¸ç”¨çš„è·ç¦»è®¡ç®—æ–¹å¼ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©æ¬§æ°è·ç¦»ä½œä¸ºè·ç¦»çš„æ ‡å‡†ï¼Œè®¡ç®—æ¯ä¸ªé˜Ÿä¼åˆ†åˆ«åˆ°ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½çš„è·ç¦»ï¼Œç„¶åæ ¹æ®è·ç¦»è¿œè¿‘æ¥åˆ’åˆ†ã€‚æˆ‘ä»¬çœ‹åˆ°å¤§éƒ¨åˆ†çš„é˜Ÿï¼Œä¼šå’Œä¸­å›½é˜Ÿèšç±»åˆ°ä¸€èµ·ã€‚è¿™é‡Œæˆ‘æ•´ç†äº†è·ç¦»çš„è®¡ç®—è¿‡ç¨‹ï¼Œæ¯”å¦‚ä¸­å›½å’Œä¸­å›½çš„æ¬§æ°è·ç¦»ä¸º 0ï¼Œä¸­å›½å’Œæ—¥æœ¬çš„æ¬§å¼è·ç¦»ä¸º 0.732003ã€‚å¦‚æœæŒ‰ç…§ä¸­å›½ã€æ—¥æœ¬ã€éŸ©å›½ä¸º 3 ä¸ªåˆ†ç±»çš„ä¸­å¿ƒç‚¹ï¼Œæ¬§æ°è·ç¦»çš„è®¡ç®—ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585319859553-47a6149f-6259-4ce9-814c-31982c39c9fd.png#align=left&display=inline&height=828&name=b603ccdb93420c8455aea7278efaece9.png&originHeight=828&originWidth=616&size=115865&status=done&style=none&width=616" alt="b603ccdb93420c8455aea7278efaece9.png"><br><br><br>ç„¶åæˆ‘ä»¬å†é‡æ–°è®¡ç®—è¿™ä¸‰ä¸ªç±»çš„ä¸­å¿ƒç‚¹ï¼Œå¦‚ä½•è®¡ç®—å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å–å¹³å‡å€¼ï¼Œç„¶åæ ¹æ®æ–°çš„ä¸­å¿ƒç‚¹æŒ‰ç…§è·ç¦»è¿œè¿‘é‡æ–°åˆ†é…çƒé˜Ÿçš„åˆ†ç±»ï¼Œå†æ ¹æ®çƒé˜Ÿçš„åˆ†ç±»æ›´æ–°ä¸­å¿ƒç‚¹çš„ä½ç½®ã€‚è®¡ç®—è¿‡ç¨‹è¿™é‡Œä¸å±•å¼€ï¼Œæœ€åä¸€ç›´è¿­ä»£ï¼ˆé‡å¤ä¸Šè¿°çš„è®¡ç®—è¿‡ç¨‹ï¼šè®¡ç®—ä¸­å¿ƒç‚¹å’Œåˆ’åˆ†åˆ†ç±»ï¼‰åˆ°åˆ†ç±»ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹çš„åˆ†ç±»ç»“æœï¼š<br><br><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585320001148-d48868fc-bab4-48c4-bc62-9b8007a29b54.png#align=left&display=inline&height=919&name=12c6039884ee99742fbbebf198425998.png&originHeight=919&originWidth=865&size=185098&status=done&style=none&width=865" alt="12c6039884ee99742fbbebf198425998.png"><br><br><br>æ‰€ä»¥æˆ‘ä»¬èƒ½çœ‹å‡ºæ¥ç¬¬ä¸€æ¢¯é˜Ÿæœ‰æ—¥æœ¬ã€éŸ©å›½ã€ä¼Šæœ—ã€æ²™ç‰¹ã€æ¾³æ´²ï¼›ç¬¬äºŒæ¢¯é˜Ÿæœ‰ä¸­å›½ã€ä¼Šæ‹‰å…‹ã€é˜¿è”é…‹ã€ä¹Œå…¹åˆ«å…‹æ–¯å¦ï¼›ç¬¬ä¸‰æ¢¯é˜Ÿæœ‰å¡å¡”å°”ã€æ³°å›½ã€è¶Šå—ã€é˜¿æ›¼ã€å·´æ—ã€æœé²œã€å°å°¼ã€å™åˆ©äºšã€çº¦æ—¦ã€ç§‘å¨ç‰¹å’Œå·´å‹’æ–¯å¦ã€‚<br></p><p><a name="vFDux"></a></p><h3 id="å¦‚ä½•ä½¿ç”¨-sklearn-ä¸­çš„-K-Means-ç®—æ³•"><a href="#å¦‚ä½•ä½¿ç”¨-sklearn-ä¸­çš„-K-Means-ç®—æ³•" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ sklearn ä¸­çš„ K-Means ç®—æ³•"></a>å¦‚ä½•ä½¿ç”¨ sklearn ä¸­çš„ K-Means ç®—æ³•</h3><p><br>sklearn æ˜¯ Python çš„æœºå™¨å­¦ä¹ å·¥å…·åº“ï¼Œå¦‚æœä»åŠŸèƒ½ä¸Šæ¥åˆ’åˆ†ï¼Œsklearn å¯ä»¥å®ç°åˆ†ç±»ã€èšç±»ã€å›å½’ã€é™ç»´ã€æ¨¡å‹é€‰æ‹©å’Œé¢„å¤„ç†ç­‰åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ sklearn çš„èšç±»å‡½æ•°åº“ï¼Œå› æ­¤éœ€è¦å¼•ç”¨å·¥å…·åŒ…ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br></pre></td></tr></table></figure><p><br>å½“ç„¶ K-Means åªæ˜¯ sklearn.cluster ä¸­çš„ä¸€ä¸ªèšç±»åº“ï¼Œå®é™…ä¸ŠåŒ…æ‹¬ K-Means åœ¨å†…ï¼Œsklearn.cluster ä¸€å…±æä¾›äº† 9 ç§èšç±»æ–¹æ³•ï¼Œæ¯”å¦‚ Mean-shiftï¼ŒDBSCANï¼ŒSpectral clusteringï¼ˆè°±èšç±»ï¼‰ç­‰ã€‚è¿™äº›èšç±»æ–¹æ³•çš„åŸç†å’Œ K-Means ä¸åŒï¼Œè¿™é‡Œä¸åšä»‹ç»ã€‚æˆ‘ä»¬çœ‹ä¸‹ K-Means å¦‚ä½•åˆ›å»ºï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KMeans(n_clusters=<span class="number">8</span>, init=<span class="string">'k-means++'</span>, n_init=<span class="number">10</span>, max_iter=<span class="number">300</span>, tol=<span class="number">0.0001</span>, precompute_distances=<span class="string">'auto'</span>, verbose=<span class="number">0</span>, random_state=<span class="literal">None</span>, copy_x=<span class="literal">True</span>, n_jobs=<span class="number">1</span>, algorithm=<span class="string">'auto'</span>)</span><br></pre></td></tr></table></figure><p><br>æˆ‘ä»¬èƒ½çœ‹åˆ°åœ¨ K-Means ç±»åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›ä¸»è¦çš„å‚æ•°ï¼š</p><ul><li>n_clusters: å³ K å€¼ï¼Œä¸€èˆ¬éœ€è¦å¤šè¯•ä¸€äº› K å€¼æ¥ä¿è¯æ›´å¥½çš„èšç±»æ•ˆæœã€‚ä½ å¯ä»¥éšæœºè®¾ç½®ä¸€äº› K å€¼ï¼Œç„¶åé€‰æ‹©èšç±»æ•ˆæœæœ€å¥½çš„ä½œä¸ºæœ€ç»ˆçš„ K å€¼ï¼›</li><li>max_iterï¼š æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œå¦‚æœèšç±»å¾ˆéš¾æ”¶æ•›çš„è¯ï¼Œè®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°å¯ä»¥è®©æˆ‘ä»¬åŠæ—¶å¾—åˆ°åé¦ˆç»“æœï¼Œå¦åˆ™ç¨‹åºè¿è¡Œæ—¶é—´ä¼šéå¸¸é•¿ï¼›</li><li>n_initï¼šåˆå§‹åŒ–ä¸­å¿ƒç‚¹çš„è¿ç®—æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 10ã€‚ç¨‹åºæ˜¯å¦èƒ½å¿«é€Ÿæ”¶æ•›å’Œä¸­å¿ƒç‚¹çš„é€‰æ‹©å…³ç³»éå¸¸å¤§ï¼Œæ‰€ä»¥åœ¨ä¸­å¿ƒç‚¹é€‰æ‹©ä¸Šå¤šèŠ±ä¸€äº›æ—¶é—´ï¼Œæ¥äº‰å–æ•´ä½“æ—¶é—´ä¸Šçš„å¿«é€Ÿæ”¶æ•›è¿˜æ˜¯éå¸¸å€¼å¾—çš„ã€‚ç”±äºæ¯ä¸€æ¬¡ä¸­å¿ƒç‚¹éƒ½æ˜¯éšæœºç”Ÿæˆçš„ï¼Œè¿™æ ·å¾—åˆ°çš„ç»“æœå°±æœ‰å¥½æœ‰åï¼Œéå¸¸ä¸ç¡®å®šï¼Œæ‰€ä»¥è¦è¿è¡Œ n_init æ¬¡, å–å…¶ä¸­æœ€å¥½çš„ä½œä¸ºåˆå§‹çš„ä¸­å¿ƒç‚¹ã€‚å¦‚æœ K å€¼æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œä½ å¯ä»¥é€‚å½“å¢å¤§ n_init è¿™ä¸ªå€¼ï¼›</li><li>initï¼š å³åˆå§‹å€¼é€‰æ‹©çš„æ–¹å¼ï¼Œé»˜è®¤æ˜¯é‡‡ç”¨ä¼˜åŒ–è¿‡çš„ k-means++ æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šä¸­å¿ƒç‚¹ï¼Œæˆ–è€…é‡‡ç”¨ random å®Œå…¨éšæœºçš„æ–¹å¼ã€‚è‡ªå·±è®¾ç½®ä¸­å¿ƒç‚¹ä¸€èˆ¬æ˜¯å¯¹äºä¸ªæ€§åŒ–çš„æ•°æ®è¿›è¡Œè®¾ç½®ï¼Œå¾ˆå°‘é‡‡ç”¨ã€‚random çš„æ–¹å¼åˆ™æ˜¯å®Œå…¨éšæœºçš„æ–¹å¼ï¼Œä¸€èˆ¬æ¨èé‡‡ç”¨ä¼˜åŒ–è¿‡çš„ k-means++ æ–¹å¼ï¼›</li><li>algorithmï¼šk-means çš„å®ç°ç®—æ³•ï¼Œæœ‰â€œautoâ€ â€œfullâ€â€œelkanâ€ä¸‰ç§ã€‚ä¸€èˆ¬æ¥è¯´å»ºè®®ç›´æ¥ç”¨é»˜è®¤çš„â€autoâ€ã€‚ç®€å•è¯´ä¸‹è¿™ä¸‰ä¸ªå–å€¼çš„åŒºåˆ«ï¼Œå¦‚æœä½ é€‰æ‹©â€fullâ€é‡‡ç”¨çš„æ˜¯ä¼ ç»Ÿçš„ K-Means ç®—æ³•ï¼Œâ€œautoâ€ä¼šæ ¹æ®æ•°æ®çš„ç‰¹ç‚¹è‡ªåŠ¨é€‰æ‹©æ˜¯é€‰æ‹©â€œfullâ€è¿˜æ˜¯â€œelkanâ€ã€‚æˆ‘ä»¬ä¸€èˆ¬é€‰æ‹©é»˜è®¤çš„å–å€¼ï¼Œå³â€œautoâ€ ã€‚</li></ul><p><br>åœ¨åˆ›å»ºå¥½ K-Means ç±»ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒçš„æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ fit å’Œ predict è¿™ä¸ªä¸¤ä¸ªå‡½æ•°ã€‚ä½ å¯ä»¥å•ç‹¬ä½¿ç”¨ fit å‡½æ•°å’Œ predict å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åˆå¹¶ä½¿ç”¨ fit_predict å‡½æ•°ã€‚å…¶ä¸­ fit(data) å¯ä»¥å¯¹ data æ•°æ®è¿›è¡Œ k-Means èšç±»ã€‚ predict(data) å¯ä»¥é’ˆå¯¹ data ä¸­çš„æ¯ä¸ªæ ·æœ¬ï¼Œè®¡ç®—æœ€è¿‘çš„ç±»ã€‚ç°åœ¨æˆ‘ä»¬è¦å®Œæ•´åœ°è·‘ä¸€é 20 æ”¯äºšæ´²çƒé˜Ÿçš„èšç±»é—®é¢˜ã€‚<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># è¾“å…¥æ•°æ®</span></span><br><span class="line">data = pd.read_csv(<span class="string">'data.csv'</span>, encoding=<span class="string">'gbk'</span>)</span><br><span class="line">train_x = data[[<span class="string">"2019å¹´å›½é™…æ’å"</span>,<span class="string">"2018ä¸–ç•Œæ¯"</span>,<span class="string">"2015äºšæ´²æ¯"</span>]]</span><br><span class="line">df = pd.DataFrame(train_x)</span><br><span class="line"><span class="comment"># kmeans = KMeans(n_clusters=3)</span></span><br><span class="line">kmeans = KMeans(n_clusters=<span class="number">3</span>, init=<span class="string">'k-means++'</span>, n_init=<span class="number">10</span>, max_iter=<span class="number">300</span>, tol=<span class="number">0.0001</span>, precompute_distances=<span class="string">'auto'</span>, verbose=<span class="number">0</span>, random_state=<span class="literal">None</span>, copy_x=<span class="literal">True</span>, n_jobs=<span class="number">1</span>, algorithm=<span class="string">'auto'</span>)</span><br><span class="line"><span class="comment"># è§„èŒƒåŒ–åˆ°[0,1]ç©ºé—´</span></span><br><span class="line">min_max_scaler=preprocessing.MinMaxScaler()</span><br><span class="line">train_x=min_max_scaler.fit_transform(train_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># kmeansç®—æ³•</span></span><br><span class="line">kmeans.fit(train_x)</span><br><span class="line">predict_y = kmeans.predict(train_x)</span><br><span class="line"><span class="comment"># åˆå¹¶èšç±»ç»“æœï¼Œæ’å…¥åˆ°åŸæ•°æ®ä¸­</span></span><br><span class="line">result = pd.concat((data,pd.DataFrame(predict_y)),axis=<span class="number">1</span>)</span><br><span class="line">result.rename(&#123;<span class="number">0</span>:<span class="string">u'èšç±»'</span>&#125;,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><p><br>ç»“æœï¼š<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">        å›½å®¶  <span class="number">2019</span>å¹´å›½é™…æ’å  <span class="number">2018</span>ä¸–ç•Œæ¯  <span class="number">2015</span>äºšæ´²æ¯  èšç±»</span><br><span class="line"><span class="number">0</span>       ä¸­å›½         <span class="number">73</span>       <span class="number">40</span>        <span class="number">7</span>   <span class="number">2</span></span><br><span class="line"><span class="number">1</span>       æ—¥æœ¬         <span class="number">60</span>       <span class="number">15</span>        <span class="number">5</span>   <span class="number">0</span></span><br><span class="line"><span class="number">2</span>       éŸ©å›½         <span class="number">61</span>       <span class="number">19</span>        <span class="number">2</span>   <span class="number">0</span></span><br><span class="line"><span class="number">3</span>       ä¼Šæœ—         <span class="number">34</span>       <span class="number">18</span>        <span class="number">6</span>   <span class="number">0</span></span><br><span class="line"><span class="number">4</span>       æ²™ç‰¹         <span class="number">67</span>       <span class="number">26</span>       <span class="number">10</span>   <span class="number">0</span></span><br><span class="line"><span class="number">5</span>      ä¼Šæ‹‰å…‹         <span class="number">91</span>       <span class="number">40</span>       <span class="number">4</span>    <span class="number">2</span></span><br><span class="line"><span class="number">6</span>      å¡å¡”å°”        <span class="number">101</span>       <span class="number">40</span>       <span class="number">13</span>   <span class="number">1</span></span><br><span class="line"><span class="number">7</span>      é˜¿è”é…‹         <span class="number">81</span>       <span class="number">40</span>        <span class="number">6</span>   <span class="number">2</span></span><br><span class="line"><span class="number">8</span>   ä¹Œå…¹åˆ«å…‹æ–¯å¦         <span class="number">88</span>       <span class="number">40</span>        <span class="number">8</span>     <span class="number">2</span></span><br><span class="line"><span class="number">9</span>       æ³°å›½        <span class="number">122</span>       <span class="number">40</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">10</span>      è¶Šå—        <span class="number">102</span>       <span class="number">50</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">11</span>      é˜¿æ›¼         <span class="number">87</span>       <span class="number">50</span>       <span class="number">12</span>   <span class="number">1</span></span><br><span class="line"><span class="number">12</span>      å·´æ—        <span class="number">116</span>       <span class="number">50</span>       <span class="number">11</span>   <span class="number">1</span></span><br><span class="line"><span class="number">13</span>      æœé²œ        <span class="number">110</span>       <span class="number">50</span>       <span class="number">14</span>   <span class="number">1</span></span><br><span class="line"><span class="number">14</span>      å°å°¼        <span class="number">164</span>       <span class="number">50</span>       <span class="number">17</span>   <span class="number">1</span></span><br><span class="line"><span class="number">15</span>      æ¾³æ´²         <span class="number">40</span>       <span class="number">30</span>        <span class="number">1</span>   <span class="number">0</span></span><br><span class="line"><span class="number">16</span>     å™åˆ©äºš         <span class="number">76</span>       <span class="number">40</span>       <span class="number">17</span>      <span class="number">1</span></span><br><span class="line"><span class="number">17</span>      çº¦æ—¦        <span class="number">118</span>       <span class="number">50</span>        <span class="number">9</span>   <span class="number">1</span></span><br><span class="line"><span class="number">18</span>     ç§‘å¨ç‰¹        <span class="number">160</span>       <span class="number">50</span>       <span class="number">15</span>      <span class="number">1</span></span><br><span class="line"><span class="number">19</span>    å·´å‹’æ–¯å¦         <span class="number">96</span>       <span class="number">50</span>       <span class="number">16</span>      <span class="number">1</span></span><br></pre></td></tr></table></figure><p><a name="PGFOw"></a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¦‚ä½•ç¡®å®š K ç±»çš„ä¸­å¿ƒç‚¹ï¼Ÿå…¶ä¸­åŒ…æ‹¬äº†åˆå§‹çš„è®¾ç½®ï¼Œä»¥åŠä¸­é—´è¿­ä»£è¿‡ç¨‹ä¸­ä¸­å¿ƒç‚¹çš„è®¡ç®—ã€‚åœ¨åˆå§‹è®¾ç½®ä¸­ï¼Œä¼šè¿›è¡Œ n_init æ¬¡çš„é€‰æ‹©ï¼Œç„¶åé€‰æ‹©åˆå§‹ä¸­å¿ƒç‚¹æ•ˆæœæœ€å¥½çš„ä¸ºåˆå§‹å€¼ã€‚åœ¨æ¯æ¬¡åˆ†ç±»æ›´æ–°åï¼Œä½ éƒ½éœ€è¦é‡æ–°ç¡®è®¤æ¯ä¸€ç±»çš„ä¸­å¿ƒç‚¹ï¼Œä¸€èˆ¬é‡‡ç”¨å‡å€¼çš„æ–¹å¼è¿›è¡Œç¡®è®¤ã€‚<br><br><br>å¦‚ä½•å°†å…¶ä»–ç‚¹åˆ’åˆ†åˆ° K ç±»ä¸­ï¼Ÿè¿™é‡Œå®é™…ä¸Šæ˜¯å…³äºè·ç¦»çš„å®šä¹‰ï¼Œæˆ‘ä»¬çŸ¥é“è·ç¦»æœ‰å¤šç§å®šä¹‰çš„æ–¹å¼ï¼Œåœ¨ K-Means å’Œ KNN ä¸­ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é‡‡ç”¨æ¬§æ°è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ã€åˆ‡æ¯”é›ªå¤«è·ç¦»ã€ä½™å¼¦è·ç¦»ç­‰ã€‚å¯¹äºç‚¹çš„åˆ’åˆ†ï¼Œå°±çœ‹å®ƒç¦»å“ªä¸ªç±»çš„ä¸­å¿ƒç‚¹çš„è·ç¦»æœ€è¿‘ï¼Œå°±å±äºå“ªä¸€ç±»ã€‚<br><br><br>å¦‚ä½•åŒºåˆ† K-Means å’Œ KNN è¿™ä¸¤ç§ç®—æ³•å‘¢ï¼Ÿåˆšå­¦è¿‡ K-Means å’Œ KNN ç®—æ³•çš„åŒå­¦åº”è¯¥èƒ½çŸ¥é“ä¸¤è€…çš„åŒºåˆ«ï¼Œä½†å¾€å¾€è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œå°±å®¹æ˜“æ··æ·†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸‰ä¸ªç»´åº¦æ¥åŒºåˆ† K-Means å’Œ KNN è¿™ä¸¤ä¸ªç®—æ³•ï¼š<br></p><ul><li>é¦–å…ˆï¼Œè¿™ä¸¤ä¸ªç®—æ³•è§£å†³æ•°æ®æŒ–æ˜çš„ä¸¤ç±»é—®é¢˜ã€‚K-Means æ˜¯èšç±»ç®—æ³•ï¼ŒKNN æ˜¯åˆ†ç±»ç®—æ³•ã€‚</li><li>è¿™ä¸¤ä¸ªç®—æ³•åˆ†åˆ«æ˜¯ä¸¤ç§ä¸åŒçš„å­¦ä¹ æ–¹å¼ã€‚K-Means æ˜¯éç›‘ç£å­¦ä¹ ï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦äº‹å…ˆç»™å‡ºåˆ†ç±»æ ‡ç­¾ï¼Œè€Œ KNN æ˜¯æœ‰ç›‘ç£å­¦ä¹ ï¼Œéœ€è¦æˆ‘ä»¬ç»™å‡ºè®­ç»ƒæ•°æ®çš„åˆ†ç±»æ ‡è¯†ã€‚</li><li>æœ€åï¼ŒK å€¼çš„å«ä¹‰ä¸åŒã€‚K-Means ä¸­çš„ K å€¼ä»£è¡¨ K ç±»ã€‚KNN ä¸­çš„ K å€¼ä»£è¡¨ K ä¸ªæœ€æ¥è¿‘çš„é‚»å±…ã€‚</li></ul><p><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1072113/1585322317887-46d24bc4-6cbc-4173-8d10-ae8a610ed00a.png#align=left&display=inline&height=588&name=eb60546c6a3d9bc6a1538049c26723c5.png&originHeight=588&originWidth=864&size=163570&status=done&style=none&width=864" alt="eb60546c6a3d9bc6a1538049c26723c5.png"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Apr 09 2020 21:44:12 GMT+0800 (GMT+08:00) --&gt;&lt;h1 id=&quot;æ•°æ®åˆ†æ-K-Means-åŸç†&quot;&gt;&lt;a href=&quot;#æ•°æ®åˆ†æ-K-Means-åŸç†&quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="cpeixin.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="K-Means" scheme="cpeixin.cn/tags/K-Means/"/>
    
  </entry>
  
</feed>
